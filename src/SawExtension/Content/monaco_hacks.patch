diff -ruN --ignore-all-space monaco_original/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js monaco_hacked/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js
--- monaco_original/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js	2017-01-28 02:23:54.275561100 +0000
+++ monaco_hacked/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js	2017-02-23 08:42:32.072365600 +0000
@@ -279,5 +279,5 @@
 return e.editorService.openEditor(a,null,n)})}),this.actions},t}(m.DropdownMenuActionItem);t.ToggleConsolesMenuActionItem=x;var A=function(e){function t(t,n,r){e.call(this,t,n,r,a.Behaviour.WidgetFocus|a.Behaviour.ShowInContextMenu),this._myEditorService=t.editorService}return __extends(t,e),t.prototype.getGroupId=function(){return"clear"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return t&&t.getId()===c.MODE_ID&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this._myEditorService.getActiveEditor();if(e&&e.getId()===c.TERMINAL_EDITOR_ID){var t=e;return t.clearConsole(),n.TPromise.as(!0)}return n.TPromise.as(!1)},t.ID="editor.action.clearconsole",t}(a.EditorAction);t.ClearConsoleEditorAction=A}),define("vs/css!vs/workbench/contrib/terminal/media/terminalActions.contribution",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/terminal/terminalActions.contribution",["require","exports","vs/platform/platform","vs/base/env","vs/base/ui/widgets/actionbar","vs/workbench/ui/actionBarRegistry","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/editor/editorExtensions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/editor/baseEditor","vs/base/ui/widgets/toolbar/toolbar","vs/workbench/contrib/files/files","vs/base/strings","vs/workbench/contrib/terminal/terminalInput","vs/workbench/contrib/terminal/terminalActions","vs/css!./media/terminalActions.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=[".exe",".cmd",".bat"],g=[".ps1",".ps"],b=[".zip"],y=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService,this.contextService=t.contextService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=p.asFileResource(t);return n?!n.isDirectory&&(v.some(function(e){return h.endsWith(n.resource.path,e)})||g.some(function(e){return h.endsWith(n.resource.path,e)})||b.some(function(e){return h.endsWith(n.resource.path,e)})):!1},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=p.asFileResource(e.element),r=this.contextService.toWorkspaceRelativePath(n.resource);if(v.some(function(e){return h.endsWith(n.resource.path,e)})){var o=this.instantiationService.createInstance(f.RunAnyFileAction,r);o.order=0,t.push(o)}else if(g.some(function(e){return h.endsWith(n.resource.path,e)})){var s=this.instantiationService.createInstance(f.PSFileAction,r);s.order=0,t.push(s)}else if(b.some(function(e){return h.endsWith(n.resource.path,e)})){var a=this.instantiationService.createInstance(f.UnzipFileAction,r);a.order=0,t.push(a)}}return t.length>0&&t.push(new i.Separator("",1)),t},t}(o.ActionBarContributor),_=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){return e===d.CONTEXT},t.prototype.getActions=function(){return[this.instantiationService.createInstance(f.GlobalConsoleAction)]},t.prototype.getActionItem=function(e,t){return t.id===f.GlobalConsoleAction.ID?this.instantiationService.createInstance(f.GlobalConsoleActionItem,t):null},t}(o.ActionBarContributor),w=function(e){function t(t){e.call(this,["application/exe","application/textedit","text/x-bat"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.RunAnyFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),E=function(e){function t(t){e.call(this,["text/x-powershell"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.PSFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),S=function(e){function t(t){e.call(this,["application/zip"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.UnzipFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),T=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof m.TerminalInput},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.OpenNewConsoleEditorInputAction),this.instantiationService.createInstance(f.ToggleConsolesMenuAction)]},t.prototype.getActionItem=function(t,n){return n.id===f.ToggleConsolesMenuAction.ID?this.instantiationService.createInstance(f.ToggleConsolesMenuActionItem,n):e.prototype.getActionItem.call(this,t,n)},t}(u.EditorInputActionContributor);if(r.enableConsole){var k=n.Registry.as(o.Extensions.Actionbar);k.registerActionBarContributor(o.Scope.VIEWER,y),n.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(f.GlobalConsoleAction,"workbench.terminal.action.openConsole",s.localize("vs_workbench_contrib_terminal_terminalActions.contribution",0),{primary:{ctrlCmd:!0,shift:!0,key:"C"},mac:{primary:{winCtrl:!0,shift:!0,key:"C"}}}));var k=n.Registry.as(o.Extensions.Actionbar);k.registerActionBarContributor(o.Scope.GLOBAL,_),k.registerActionBarContributor(o.Scope.EDITOR,w),k.registerActionBarContributor(o.Scope.EDITOR,S),k.registerActionBarContributor(o.Scope.EDITOR,E),k.registerActionBarContributor(o.Scope.EDITOR,T),a.registerEditorActionContribution(f.ClearConsoleEditorAction,f.ClearConsoleEditorAction.ID,s.localize("vs_workbench_contrib_terminal_terminalActions.contribution",1))}}),define("vs/workbench/contrib/tfs/tfs",["require","exports"],function(e,t){!function(e){e[e.Unavailable=0]="Unavailable",e[e.Uninitialized=1]="Uninitialized",e[e.Initialized=2]="Initialized",e[e.Connected=3]="Connected",e[e.Disconnected=4]="Disconnected"}(t.ServiceState||(t.ServiceState={}));t.ServiceState;t.ServiceEvents={STATE_CHANGED:"state",ERROR:"error"},t.TFS_SERVICE_ID="tfsService"});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/tfs/tfsService",["require","exports","vs/base/env","vs/base/errors","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/workbench/contrib/tfs/tfs"],function(e,t,n,r,i,o,s){var a=function(e){function t(t){var r=this;e.call(this),this.requestService=t.requestService,this._state=n.enableTFSConnection?s.ServiceState.Uninitialized:s.ServiceState.Unavailable,this._account=null,this._server=null,this._state===s.ServiceState.Uninitialized&&(this.transition(s.ServiceState.Initialized),this.refresh().done(function(e){r._account=e.account,r._server=e.server,r.transition(s.ServiceState.Connected)},function(){r._account=null,r._server=null,r.transition(s.ServiceState.Disconnected)}))}return __extends(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"account",{get:function(){return this._account},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return this.wrap(this.requestService.makeRequest({type:"GET",url:this.requestService.getRequestUrl("tfs","status")}))},t.prototype.getConnectURL=function(){return this.requestService.getRequestUrl("tfs")+"?origin="+encodeURIComponent(window.location.href)},t.prototype.disconnect=function(){var e=this;return this.wrap(this.requestService.makeRequest({type:"DELETE",url:this.requestService.getRequestUrl("tfs")})).then(function(){return e.doDisconnect()})},t.prototype.getRepositories=function(){return this.wrap(this.requestService.makeRequest({type:"GET",url:this.requestService.getRequestUrl("tfs","repositories")}))},t.prototype.transition=function(e){var t=this._state!==e;this._state=e,t&&this.emit(s.ServiceEvents.STATE_CHANGED,e)},t.prototype.doDisconnect=function(){this._account=null,this._server=null,this.transition(s.ServiceState.Disconnected)},t.prototype.wrap=function(e){var t=this;return e.then(function(e){if(204===e.status||1223===e.status)return null;try{return JSON.parse(e.responseText)}catch(t){return i.Promise.wrapError(t)}},function(e){return r.isPromiseCanceledError(e)?void 0:(401===e.status&&t.doDisconnect(),i.Promise.wrapError(new r.ConnectionError(e)))})},t.prototype.beforeShutdown=function(){return null},t}(o.EventEmitter);t.TFSService=a}),define("vs/workbench/contrib/tfs/tfs.contribution",["require","exports","vs/platform/platform","vs/workbench/core/extensions","./tfsService","./tfs"],function(e,t,n,r,i,o){n.Registry.as(r.Extensions.Services).registerService(new r.WorkbenchServiceDescriptor(i.TFSService,o.TFS_SERVICE_ID))}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsightsTelemetryAppender",["require","exports","vs/base/objects","vs/base/types","vs/base/hash"],function(e,t,n,r,i){var o={instrumentationKey:void 0,url:"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",endpointUrl:"https://dc.services.visualstudio.com/v2/track",accountId:void 0,autoCollectErrors:void 0,appUserId:void 0,diagnosticLogInterval:void 0,disableTelemetry:!1,enableDebug:!1,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,maxPayloadSizeInBytes:void 0,sessionExpirationMs:void 0,sessionRenewalMs:void 0,verboseLogging:void 0},s=function(){function e(e,t,r){if(this.addCommonMetrics=function(e){for(var t in this.commonMetrics)e["common."+t]=this.commonMetrics[t];return e},this.commonProperties={},this.commonMetrics={},e&&e.contextService&&(this.contextService=e.contextService),this.appInsightsConfig=n.withDefaults(t,o),this.contextService&&this.contextService.getConfiguration()&&this.contextService.getConfiguration().profile){var s=this.contextService.getConfiguration().profile.userEmail;if(s){var a=i.computeMurmur2StringHashCode(s).toString();this.appInsightsConfig.appUserId=a}}return r?(this.appInsights=r,void 0):(this.appInsightsConfig.instrumentationKey&&(window.appInsights=window.appInsights||function(e){function t(e){i[e]=function(){var t=arguments;i.queue.push(function(){i[e].apply(i,t)})}}var n,r,i={config:e},o=document,s=window,a="script",l=o.createElement(a);for(l.src=e.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",o.getElementsByTagName(a)[0].parentNode.appendChild(l),i.cookie=o.cookie,i.queue=[],n=["Event","Exception","Metric","PageView","Trace"];n.length;)t("track"+n.pop());return e.disableExceptionTracking||(n="onerror",t("_"+n),r=s[n],s[n]=function(e,t,o,s,a){var l=r&&r(e,t,o,s,a);return l!==!0&&i["_"+n](e,t,o,s,a),l}),i}(this.appInsightsConfig),this.appInsights=window.appInsights,this.appInsights.trackPageView("monacoWorkbench",window.location.origin)),void 0)}return e.prototype.log=function(t,n,r){if(this.appInsights){"UnhandledError"===t&&r&&this.appInsights.trackException(r);var i=this.getData(n,r);this.appInsights.trackEvent(e.EVENT_NAME_PREFIX+t,i.properties,i.measurements)}},e.prototype.dispose=function(){this.appInsights=null,window.appInsights=null},e.prototype.getData=function(e,t){var n={},i={};n.isPublic=e?"public":"restricted";var o=this.flaten(t);for(var s in o){var a=s&&s.length>150?s.substr(s.length-149):s,l=o[s];if(r.isNumber(l))i[a]=l;else if(r.isBoolean(l))i[a]=l?1:0;else if(r.isString(l)){var c=l&&l.length>1024?l.substring(0,1023):l;n[a]=c}else r.isUndefined(l)||null===l||(n[a]=l)}return n=this.addCommonProperties(n),i=this.addCommonMetrics(i),{properties:n,measurements:i}},e.prototype.flaten=function(e,t,i){void 0===t&&(t=0);for(var o={},s=e?Object.getOwnPropertyNames(e):[],a=0;a<s.length;a++){var l=s[a],c=i?i+l:l;if(r.isArray(e[l]))o[c]=n.safeStringify(e[l]);else if(e[l]instanceof Date)o[c]=e[l].toISOString();else if(r.isObject(e[l]))if(2>t){var u=this.flaten(e[l],t+1,c+".");for(var d in u)o[d]=u[d]}else o[c]=n.safeStringify(e[l]);else o[c]=e[l]}return o},e.prototype.addCommonProperties=function(e){for(var t in this.commonProperties)e["common."+t]=this.commonProperties[t];return e},e.EVENT_NAME_PREFIX="monacoworkbench/",e}();t.AppInsightsTelemetryAppender=s}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsights.Telemetry.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/platform/telemetry/abstractTelemetryService","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsightsTelemetryAppender","vs/base/env"],function(e,t,n,r,i,o,s){if(s.appInsightsInstrumentationKey){var a=new r.SyncDescriptor(o.AppInsightsTelemetryAppender,{instrumentationKey:s.appInsightsInstrumentationKey});n.Registry.as(i.Extenstions.TelemetryAppenders).registerTelemetryAppenderDescriptor(a)}}),define("vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monacoTelemetryAppender",["require","exports","vs/base/objects","vs/base/env"],function(e,t,n,r){var i=function(){function e(t){this.eventQueue=[],this.eventMaxQueueSize=e.EVENT_QUEUE_LIMIT,this.eventBatchSize=e.EVENT_BATCH_SIZE,this.failureCount=0,this.sendingEvents=!1,this.waitIntervalId=null,this.toUnbind=[],t&&t.requestService&&(this.requestService=t.requestService)}return e.prototype._safeStringify=function(e){return n.safeStringify(e)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.oldOnError&&(self.onerror=this.oldOnError)},e.prototype.log=function(e,t,i){var o=t?"public":"restricted";if(!(this.eventQueue.length>=this.eventMaxQueueSize)){var s=i?i.timestamp:null,a=i?i.sessionID:null,l=n.deepClone(i||{});l.source="client",l.version={clientVersion:r.version},delete l.sessionID,delete l.timestamp;var c={name:e,kind:o,timestamp:s,data:this._safeStringify(l),sessionID:a};this.eventQueue.push(c),this.sendingEvents||this.failureCount>0||(this.eventQueue.length>this.eventBatchSize?(clearTimeout(this.waitIntervalId),this.waitIntervalId=null,this.sendEvents()):this.sendSoon())}},e.prototype.sendSoon=function(){var t=this;null===this.waitIntervalId&&(this.waitIntervalId=setTimeout(function(){t.waitIntervalId=null,t.sendEvents()},e.EVENT_INTERVAL*Math.pow(2,this.failureCount)))},e.prototype.sendEvents=function(){var e=this;this.sendingEvents=!0;var t=this.eventQueue.splice(0,this.eventBatchSize);this.submitToServer(t).then(function(){e.failureCount=0},function(){e.eventQueue.unshift.apply(e.eventQueue,t),e.failureCount++}).done(function(){e.sendingEvents=!1,e.eventQueue.length>0&&e.sendSoon()})},e.prototype.submitToServer=function(e){var t=JSON.stringify(e),n=this.requestService.getRequestUrl("telemetry"),r={type:"POST",url:n,data:t,headers:{"Content-Type":"application/json"}};return this.requestService.makeRequest(r)},e.prototype.getQueueLength=function(){return this.eventQueue.length},e.EVENT_QUEUE_LIMIT=1e4,e.EVENT_INTERVAL=3e4,e.EVENT_BATCH_SIZE=100,e}();t.MonacoTelemetryAppender=i}),define("vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monaco.Telemetry.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/platform/telemetry/abstractTelemetryService","vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monacoTelemetryAppender","vs/base/env"],function(e,t,n,r,i,o,s){if(s.enableMonacoTelemetryPipeLine){var a=new r.SyncDescriptor(o.MonacoTelemetryAppender);n.Registry.as(i.Extenstions.TelemetryAppenders).registerTelemetryAppenderDescriptor(a)}}),define("vs/workbench/workbench.web",["vs/workbench/workbench.common","vs/workbench/contrib/testing/test.contribution","vs/workbench/contrib/terminal/terminal.contribution","vs/workbench/contrib/terminal/terminalActions.contribution","vs/workbench/contrib/tfs/tfs.contribution","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsights.Telemetry.contribution","vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monaco.Telemetry.contribution"],function(){});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/configuration/httpConfigurationService",["require","exports","vs/base/arrays","vs/platform/configuration/configurationService"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,t),this.fileService=t.fileService}return __extends(t,e),t.prototype.resolveContents=function(e){var t=this;return this.fileService.resolveContents(n.coalesce(e.map(function(e){return t._contextService.toWorkspaceRelativePath(e)})))},t.prototype.resolveContent=function(e){return this.fileService.resolveContent(e)},t.prototype.resolveStat=function(e){return this.fileService.resolveFileStat(this._contextService.toWorkspaceRelativePath(e))},t}(r.ConfigurationService);t.HttpConfigurationService=i}),define("vs/monaco/core/remoteEvents",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/time/idleMonitor"],function(e,t,n,r,i,o){function s(e,t,n,r){c&&(console.log("Client: "+t+" "+n),r&&console.log(r)),r&&(r=JSON.stringify(r));var i={type:t,url:n,data:r,customRequestConfiguration:{timeout:h}};return r&&(i.headers={"Content-Type":"application/json"}),e.makeRequest(i).then(function(e){var r=JSON.parse(e.responseText);return c&&(console.log("Server, in reply to: "+t+" "+n),console.log(r)),r})}function a(){var e={promise:null,onComplete:null,onError:null,onProgress:null,onCancel:null};return e.promise=new r.Promise(function(t,n,r){e.onComplete=t,e.onError=n,e.onProgress=r},function(){e.onCancel&&e.onCancel()}),e}var l,c=!1,u="connect",d="longpoll",p=2e4,h=3*p,m=[{minWait:1,maxWait:3},{minWait:3,maxWait:10},{minWait:10,maxWait:30},{minWait:30,maxWait:60},{minWait:60,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},null];!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(l||(l={}));var f=function(){function e(e){this.requestService=e,this.url=this.requestService.getRequestUrl("events"),this.delegateEventEmitter=new i.EventEmitter,this.stateChangeEventEmitter=new i.EventEmitter,this.idleMonitor=new o.IdleMonitor,this.disconnectedStatePromise=null,this.setState(l.IDLE,!1),this.clientId=null,this.lastEventId="0",this.outgoingQueue=new b}return e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addListener=function(e,t){return this.state===l.IDLE&&this.setStateToDisconnected(!1),this.delegateEventEmitter.addListener(e,t)},e.prototype.addStateChangeListener=function(e){return this.stateChangeEventEmitter.addListener2("stateChanged",e)},e.prototype.emit=function(e,t){this.state===l.IDLE&&this.setStateToDisconnected(!1);var n=a(),r={event:e,data:t,pc:n.onComplete,pe:n.onError,timestamp:(new Date).getTime()};return this.emitToServer(r),n.promise},e.prototype.setStateToConnected=function(){var e=this;this.state!==l.CONNECTED&&(this.setState(l.CONNECTED,!0),c&&console.log("CLIENT ENTERING CONNECTED STATE"),this._connect().then(null,function(){e.setStateToDisconnected(!0)},function(t){e.lastEventId=t.lastEventId;for(var n=t.events,r=0,i=n.length;i>r;r++)e.delegateEventEmitter.emit(n[r].event,n[r].data)}),this.outgoingQueue.isEmpty()||this.emitToServerWhileConnected(this.outgoingQueue.popAll()))},e.prototype._connect=function(){return v.beginLongPoll(this.requestService,this.idleMonitor,this.url+d,this.clientId,this.lastEventId)},e.prototype.setState=function(e,t){this.state=e,t&&this._emitStateChanged(this.state===l.CONNECTED)},e.prototype._emitStateChanged=function(e,t){void 0===t&&(t=0);var r={state:e?n.ConnectionState.CONNECTED:n.ConnectionState.DISCONNECTED,canReconnect:!0,nextConnectAttempt:t};this.stateChangeEventEmitter.emit("stateChanged",r)},e.prototype.setStateToDisconnected=function(e){this.state!==l.DISCONNECTED&&(this.setState(l.DISCONNECTED,e),c&&console.log("CLIENT ENTERING DISCONNECTED STATE"),this.disconnectedStatePromise=this._connectNow())},e.prototype.tryReconnectNow=function(){this.state===l.DISCONNECTED&&(this.disconnectedStatePromise.cancel(),this._emitStateChanged(!1),this.disconnectedStatePromise=this._connectNow())},e.prototype._connectNow=function(){var e=this;return this._reallyConnectNow().then(function(t){c&&console.log("CLIENT had clientId: "+e.clientId+", gets new clientId: "+t),e.clientId=t,e.setStateToConnected()},function(t){"tooManyRetries"===t&&(console.warn("Server connection is lost since more than 30mins. Giving up."),e._emitStateChanged(!1,-1))},function(t){console.warn("Server connection is lost. Reconnecting in "+t+" ms."),e._emitStateChanged(!1,t)})},e.prototype._reallyConnectNow=function(){return g.connect(this.requestService,this.url+u,this.clientId)},e.prototype.emitToServerWhileConnected=function(e){var t=this;this._emitToServerWhileConnected(e).then(function(){for(var t=0,n=e.length;n>t;t++)e[t].pc(null)},function(){t.outgoingQueue.pushEvents(e),t.setStateToDisconnected(!0)})},e.prototype._emitToServerWhileConnected=function(e){return v.sendOutgoingEvents(this.requestService,this.url,this.clientId,e)},e.prototype.emitToServer=function(e){this.state===l.CONNECTED?this.emitToServerWhileConnected([e]):this.outgoingQueue.pushEvents([e])},e}();t.RemoteEvents=f;var v=function(){function e(){}return e.sendOutgoingEvents=function(e,t,n,r){for(var i=[],o=0,a=r.length;a>o;o++)i[o]={timestamp:r[o].timestamp,event:r[o].event,data:r[o].data};var l={clientId:n,events:i};return s(e,"POST",t,l).then(function(e){if(!e.success)throw new Error(e.reason);return e})},e._createLongPollRequest=function(e,t,n,r){var i={clientId:n,lastEventId:r};return s(e,"POST",t,i)},e._recursiveLongPoll=function(t,n,r,i,s,a,l){e._createLongPollRequest(t,r,i,s).then(function(s){if(!s.success)return l(s.reason),void 0;var c=s.lastEventId;n.getStatus()===o.UserStatus.Idle?n.addOneTimeActiveListener(function(){e._recursiveLongPoll(t,n,r,i,c,a,l)}):e._recursiveLongPoll(t,n,r,i,c,a,l),setTimeout(function(){a(s)},0)}).done(null,l)},e.beginLongPoll=function(t,n,r,i,o){var s=a();return e._recursiveLongPoll(t,n,r,i,o,s.onProgress,s.onError),s.promise},e}(),g=function(){function e(){}return e.createConnectRequest=function(e,t,n){var r={clientId:n};return s(e,"POST",t,r)},e._recursiveConnect=function(t,n,r,i,o,s,a){var l=-1,u=!1,d=!1,p=null,h=function(){c&&console.info("onCancel..."),u||(u=!0,d=!0,p.cancel(),-1!==l&&(clearTimeout(l),l=-1))},f=function(){p=e.createConnectRequest(t,r,i),p.then(function(e){u=!0,s(e.clientId)}).done(null,function(){if(!d){var e=m[Math.min(n,m.length-1)];if(e){var t=e.maxWait-e.minWait,r=e.minWait+t*Math.random(),i=Math.round(1e3*r);o(i),l=setTimeout(function(){l=-1,n++,f()},i)}else u=!0,a("tooManyRetries")}})};return f(),h},e.connect=function(t,n,r){var i=a();return i.onCancel=e._recursiveConnect(t,0,n,r,i.onProgress,i.onComplete,i.onError),i.promise},e}(),b=function(){function e(){this.events=[]}return e.prototype.pushEvents=function(e){this.events=this.events.concat(e),this.events.sort(function(e,t){return e.timestamp-t.timestamp})},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.popAll=function(){var e=this.events;return this.events=[],e},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/longPollRemoteEvents",["require","exports","vs/monaco/core/remoteEvents"],function(e,t,n){var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(n.RemoteEvents);t.RemoteEvents=r}),define("vs/monaco/core/remoteEventChannels",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/errors","vs/platform/services"],function(e,t,n,r,i,o){function s(e,t,n){return{type:p,payload:n,handshakeToken:e,route:t}}function a(e,t){return{type:m,payload:t,channelId:e}}function l(e,t,n){return{type:f,payload:n,channelId:e,requestId:t}}function c(e,t){return{type:g,payload:t,channelId:e}}function u(e,t){return{type:h,payload:t,handshakeToken:e,channelId:null}}var d="eventChannel",p=1,h=2,m=3,f=4,v=5,g=6,b=function(){function e(e,t){this.isClosed=!1,this.channelId=t,this.remoteEventsChannels=e,this.listenerDelegate=new r.EventEmitter,this.lastRequestId=0,this.pendingRequests={}}return e.prototype.addListener=function(e,t){return this.isClosed?null:this.listenerDelegate.addListener(e,t)},e.prototype.emit=function(e){if(!this.isClosed){var t=a(this.channelId,e);this.remoteEventsChannels.emit(t).done(null,i.onUnexpectedError)}},e.prototype.onServerEventMessage=function(e){this.isClosed||this.listenerDelegate.emit("server",e)},e.prototype.onServerReplyMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pc(t)}},e.prototype.onServerReplyErrorMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pe(t)}},e.prototype.request=function(e){var t=this;if(this.isClosed)return n.Promise.wrapError("event channel is closed");var r=(++this.lastRequestId).toString(),o=null,s=new n.Promise(function(e,t,n){o={pc:e,pe:t,pp:n}},function(){}),a=l(this.channelId,r,e);return this.remoteEventsChannels.emit(a).then(null,function(e){t.onServerReplyErrorMessage(r,e)}).done(null,i.onUnexpectedError),this.pendingRequests[r]=o,s},e.prototype.doClose=function(e,t){if(!this.isClosed){if(this.isClosed=!0,"clientClose"===e){var n=c(this.channelId,t);this.remoteEventsChannels.emit(n).done(null,i.onUnexpectedError)}("serverClose"===e||"socketDisconnect"===e)&&this.listenerDelegate.emit("close",{reason:e,detail:t});for(var r in this.pendingRequests)this.pendingRequests.hasOwnProperty(r)&&this.pendingRequests[r].pe({reason:e,detail:t});this.pendingRequests={},this.remoteEventsChannels.onCloseChannel(this.channelId),this.listenerDelegate.dispose(),this.listenerDelegate=null,this.remoteEventsChannels=null}},e.prototype.onServerCloseChannelMessage=function(e){this.doClose("serverClose",e)},e.prototype.onDisconnect=function(e){this.doClose("socketDisconnect",e)},e.prototype.close=function(e){void 0===e&&(e=""),this.doClose("clientClose",e)},e}(),y=function(){function e(e){var t=this;this.remoteEvents=e,this.channels={},this.pendingChannels={},this.remoteEvents.on(d,function(e){return t.onServerMessage(e)}),this.remoteEvents.addStateChangeListener(function(e){if(e.state!==o.ConnectionState.CONNECTED){for(var n in t.pendingChannels)t.pendingChannels.hasOwnProperty(n)&&t.pendingChannels[n].pp(e);for(var r=Object.keys(t.channels),i=0;i<r.length;i++)t.channels[r[i]].onDisconnect("")}})}return e.prototype.establishPrivateChannel=function(t,r){var o=this,a=(++e.LAST_HANDSHAKE_KEY).toString(),l=null,c=new n.Promise(function(e,t,n){l={pc:e,pe:t,pp:n}});this.pendingChannels[a]=l;var p=s(a,t,r);return this.remoteEvents.emit(d,p).then(null,function(e){o.onServerCreateChannelErrorMessage(u(a,e))}).done(null,i.onUnexpectedError),c},e.prototype.onCloseChannel=function(e){this.channels.hasOwnProperty(e)&&delete this.channels[e]},e.prototype.emit=function(e){return this.remoteEvents.emit(d,e)},e.prototype.onServerMessage=function(e){switch(e.type){case p:this.onServerCreateChannelMessage(e);break;case h:this.onServerCreateChannelErrorMessage(e);break;case m:this.onServerEventMessage(e);break;case f:this.onServerReplyMessage(e);break;case v:this.onServerReplyErrorMessage(e);break;case g:this.onServerCloseChannelMessage(e)}},e.prototype.onServerCreateChannelMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken];var n=new b(this,e.channelId);this.channels[e.channelId]=n,t.pc(n)}},e.prototype.onServerCreateChannelErrorMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken],t.pe(e.payload)}},e.prototype.onServerEventMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerEventMessage(e.payload)},e.prototype.onServerReplyMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyMessage(e.requestId,e.payload)},e.prototype.onServerReplyErrorMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyErrorMessage(e.requestId,e.payload)},e.prototype.onServerCloseChannelMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerCloseChannelMessage(e.payload)},e.LAST_HANDSHAKE_KEY=0,e}();t.RemoteEventChannels=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/requestService",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/monaco/core/longPollRemoteEvents","vs/monaco/core/remoteEventChannels"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r,i){e.call(this,t,n,r),this.isRemoteEventsSupported=!!this.getRequestUrl("events"),this.eventService=i||t.eventService,this.initRemoteEvents()}return __extends(t,e),t.prototype.initRemoteEvents=function(){var e=this,t=this.getRequestUrl("events");t&&(this.remoteEvents=new i.RemoteEvents(this),this.remoteEventChannels=new o.RemoteEventChannels(this.remoteEvents),this.remoteEvents.addStateChangeListener(function(t){return e.onRemoteEventsStateChange(t)}))},t.prototype.onRemoteEventsStateChange=function(e){this.eventService&&(this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,e),e.state!==r.ConnectionState.CONNECTED?this.wasDisconnected=!0:this.wasDisconnected&&(this.wasDisconnected=!1,this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_RECONNECTED)))},t.prototype.getRemoteEventsImpl=function(){return this.remoteEvents},t.prototype.supportsPrivateChannel=function(){return this.isRemoteEventsSupported},t.prototype.supportsRemoteEvents=function(){return this.isRemoteEventsSupported},t.prototype.establishPrivateChannel=function(e,t){return this.remoteEventChannels?this.remoteEventChannels.establishPrivateChannel(e,t):n.Promise.as(null)},t.prototype.addRemoteListener=function(e,t){return this.remoteEvents?this.remoteEvents.addListener(e,t):null},t.prototype.reconnect=function(){this.remoteEvents&&this.remoteEvents.tryReconnectNow()},t.prototype.makeRequest=function(t){var i=this;return e.prototype.makeRequest.call(this,t).then(null,function(e){return i.eventService&&440===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.SESSION_OVER}),i.eventService&&449===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.OUTDATED_CLIENT}),n.Promise.wrapError(e)})},t}(r.BaseRequestService);t.RequestService=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitActions",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/lifecycle","vs/base/strings","vs/base/types","vs/base/ui/actions","vs/workbench/contrib/git/git","vs/workbench/contrib/git/gitModel","vs/workbench/contrib/git/gitEditorInputs","vs/workbench/ui/parts/editor/editorOptions"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e){if(e){if(Array.isArray(e)){if(e.some(function(e){return!(e instanceof c.FileStatus)
 }))throw new Error("Invalid context.");return e}if(e instanceof c.FileStatus)return[e];if(e instanceof c.StatusGroup)return e.all();throw new Error("Invalid context.")}return e}var h=function(e){function t(t,n,r,i){var o=this;this.gitService=t.gitService,e.call(this,n,r,i,!1),this.toDispose=[this.gitService.addBulkListener2(function(){return o.onGitServiceChange()})],this.onGitServiceChange()}return __extends(t,e),t.prototype.onGitServiceChange=function(){this.updateEnablement()},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!!this.gitService},t.prototype.run=function(){throw new Error("implement me")},t.prototype.dispose=function(){this.gitService=null,this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(a.Action);t.AbstractGitAction=h;var m=function(e){function t(n){this.editorService=n.editorService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",0),"git-action open-change")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this;return e instanceof c.FileStatus?this.gitService.getInput(e).then(function(e){var n=new d.TextDiffEditorOptions;return n.forceOpen=!0,t.editorService.openEditor(e,n)}):n.Promise.wrapError(new Error("Can't open change which is not FileStatus."))},t.ID="workbench.git.action.openChange",t}(h);t.OpenChangeAction=m;var f=function(e){function t(n){this.fileService=n.fileService,this.editorService=n.editorService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",1),"git-action open-file")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService||!!this.fileService},t.prototype.getPath=function(e){if(e.getStatus()===l.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),l.StatusType.INDEX);return t&&t.getStatus()===l.Status.INDEX_RENAMED?e.getRename():e.getPath()},t.prototype.run=function(e){var r=this;if(!(e instanceof c.FileStatus))return n.Promise.wrapError(new Error("Can't open file."));var i=e;if(t.DELETED_STATES.indexOf(i.getStatus())>-1)return n.Promise.wrapError(new Error("Can't open file which is has been deleted."));var o=this.getPath(i);return this.fileService.resolveFileStat(o).then(function(e){return r.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}})})},t.DELETED_STATES=[l.Status.BOTH_DELETED,l.Status.DELETED,l.Status.DELETED_BY_US,l.Status.INDEX_DELETED],t.ID="workbench.git.action.openFile",t}(h);t.OpenFileAction=f;var v=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",2),"git-action init")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getState()===l.ServiceState.NotARepo},t.prototype.run=function(){return this.gitService.init()},t.ID="workbench.git.action.init",t}(h);t.InitAction=v;var g=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",3)),void 0===s&&(s="git-action run-clone"),this.terminalService=n.terminalService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.terminalService&&this.gitService.getState()===l.ServiceState.NotARepo},t.prototype.run=function(e){return this.terminalService.execute('git clone "'+e+'" .',!1,!0)},t.ID="workbench.git.action.runClone",t}(h);t.RunCloneAction=g;var b=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",4),"git-action refresh")}return __extends(t,e),t.prototype.run=function(){return this.gitService.status()},t.ID="workbench.git.action.refresh",t}(h);t.RefreshAction=b;var y=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",5)),void 0===s&&(s="git-action stage"),e.call(this,n,i,o,s),this.editorService=n.editorService}return __extends(t,e),t.prototype.run=function(e){var t=this,r=p(e);return this.gitService.add(p(e)).then(function(e){var i=t.findGitWorkingTreeEditor();if(!i)return n.Promise.as(e);var o=i.input,s=o.getFileStatus();if(r&&r.every(function(e){return e!==s}))return n.Promise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,l.StatusType.INDEX);if(!c)return n.Promise.as(e);var u=i.getControl(),p=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(n){var r=new d.TextDiffEditorOptions;return r.forceOpen=!0,t.editorService.openEditor(n,r,i.position).then(function(){return p&&u.restoreViewState(p),e})})})},t.prototype.findGitWorkingTreeEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(u.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.stage",t}(h);t.StageAction=y;var _=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",6))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this)},t.ID="workbench.git.action.stageAll",t}(y);t.GlobalStageAction=_;var w=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",7)),void 0===s&&(s="git-action undo"),this.eventService=n.eventService,this.editorService=n.editorService,this.messageService=n.messageService,this.fileService=n.fileService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.eventService&&!!this.editorService&&!!this.fileService},t.prototype.run=function(e){var t=this;if(!this.messageService.confirm(this.getConfirm(e)))return n.Promise.as(null);var r=[];if(e instanceof c.StatusGroup)r=[this.gitService.undo()];else{for(var i=p(e),o=[],s=[],a=0;a<i.length;a++){var u=i[a].clone();switch(u.getStatus()){case l.Status.UNTRACKED:case l.Status.IGNORED:o.push(u);break;default:s.push(u)}}o.length>0&&r.push(this.gitService.clean(o)),s.length>0&&r.push(this.gitService.checkout("",s))}return n.Promise.join(r).then(function(e){if(0===e.length)return n.Promise.as(null);var r=e[e.length-1],o=t.findWorkingTreeDiffEditor();if(!o)return n.Promise.as(r);var s=o.input,a=s.getFileStatus();if(i&&i.every(function(e){return e!==a}))return n.Promise.as(r);var l=s.getFileStatus().getPath(),c=o.getControl(),u=c?c.getModifiedEditor():null,d=u?u.saveViewState():null;return t.fileService.resolveFileStat(l).then(function(e){return t.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}},o.position).then(function(){if(d){var e=o.getControl();e&&e.restoreViewState(d)}})})}).then(null,function(e){return console.error("One or more errors occured",e),n.Promise.wrapError(e[0])})},t.prototype.findWorkingTreeDiffEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(n.input instanceof u.GitWorkingTreeDiffEditorInput)return n}return null},t.prototype.getConfirm=function(e){if(e instanceof c.StatusGroup){var t=e,n=t.all(),i=n.length;return{message:r.localize("vs_workbench_contrib_git_gitActions",8),detail:1===i?r.localize("vs_workbench_contrib_git_gitActions",9,i):r.localize("vs_workbench_contrib_git_gitActions",10,i),primaryButton:r.localize("vs_workbench_contrib_git_gitActions",11)}}var o=p(e)[0],s=o.getPathComponents().reverse()[0];return{message:r.localize("vs_workbench_contrib_git_gitActions",12,s),primaryButton:r.localize("vs_workbench_contrib_git_gitActions",13)}},t.prototype.dispose=function(){this.eventService=null,this.editorService=null,this.fileService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.undo",t}(h);t.UndoAction=w;var E=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",14)),void 0===s&&(s="git-action unstage"),this.editorService=n.editorService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,r=p(e);return this.gitService.reset("HEAD",r).then(function(e){var i=t.findGitIndexEditor();if(!i)return n.Promise.as(e);var o=i.input,s=o.getFileStatus();if(r&&r.every(function(e){return e!==s}))return n.Promise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,l.StatusType.WORKING_TREE);if(!c)return n.Promise.as(e);var u=i.getControl(),p=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(n){var r=new d.TextDiffEditorOptions;return r.forceOpen=!0,t.editorService.openEditor(n,r,i.position).then(function(){return p&&u.restoreViewState(p),e})})})},t.prototype.findGitIndexEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(u.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.unstage",t}(h);t.UnstageAction=E;var S=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",15))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this)},t.ID="workbench.git.action.unstageAll",t}(E);t.GlobalUnstageAction=S;var T=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",16))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this,this.gitService.getModel().getStatus().getWorkingTreeStatus())},t.ID="workbench.git.action.undoAll",t}(w);t.GlobalUndoAction=T;var k;!function(e){e[e.Alive=0]="Alive",e[e.Disposing=1]="Disposing",e[e.Disposed=2]="Disposed"}(k||(k={}));var C=function(e){function t(n,r){this.editorService=n.editorService,this.branch=r,this.HEAD=null,this.state=k.Alive,this.runPromises=[],e.call(this,n,t.ID,r.name,"git-action checkout")}return __extends(t,e),t.prototype.onGitServiceChange=function(){this.gitService.getState()===l.ServiceState.OK&&(this.HEAD=this.gitService.getModel().getHEAD(),this.class=this.HEAD&&this.HEAD.name===this.branch.name?"git-action checkout HEAD":"git-action checkout"),e.prototype.onGitServiceChange.call(this)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.HEAD},t.prototype.run=function(){var e=this;if(this.state!==k.Alive)return n.Promise.wrapError("action disposed");if(this.HEAD&&this.HEAD.name===this.branch.name)return n.Promise.as(null);var t=this.gitService.checkout(this.branch.name).then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(new Error(r.localize("vs_workbench_contrib_git_gitActions",17))):n.Promise.wrapError(e)});return this.runPromises.push(t),t.done(function(){return e.runPromises.splice(e.runPromises.indexOf(t),1)}),t},t.prototype.dispose=function(){var e=this;this.state===k.Alive&&(this.state=k.Disposing,n.Promise.join(this.runPromises).done(function(){return e.actuallyDispose()}))},t.prototype.actuallyDispose=function(){this.editorService=null,this.branch=null,this.HEAD=null,e.prototype.dispose.call(this),this.state=k.Disposed},t.ID="workbench.git.action.checkout",t}(h);t.CheckoutAction=C;var x=function(e){function t(n,i){void 0===i&&(i=!1),e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",18),"git-action checkout"),this.checkout=i}return __extends(t,e),t.prototype.run=function(e){return s.isString(e)?this.gitService.branch(e,this.checkout):n.Promise.as(!1)},t.ID="workbench.git.action.branch",t}(h);t.BranchAction=x;var A=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t}(h);t.AbstractCommitAction=A;var L=function(e){function t(n){this.terminalService=n.terminalService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",19),"git-action run-amend-commit")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.terminalService},t.prototype.run=function(){return this.terminalService.execute("git commit --amend")},t.ID="workbench.git.action.runAmendCommit",t}(h);t.RunAmendCommitAction=L;var I=function(e){function t(n,i,o,s,a){var l=this;void 0===o&&(o=t.ID),void 0===s&&(s=r.localize("vs_workbench_contrib_git_gitActions",20)),void 0===a&&(a="git-action commit"),e.call(this,n,o,s,a),this.commitState=i,this.toDispose.push(i.addListener2("change/commitInputBox",function(){l.updateEnablement()}))}return __extends(t,e),t.prototype.run=function(){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage()):(this.commitState.onEmptyCommitMessage(),n.Promise.as(null))},t.ID="workbench.git.action.commit",t}(A);t.CommitAction=I;var N=function(e){function t(n,i){e.call(this,n,i,t.ID,r.localize("vs_workbench_contrib_git_gitActions",21),"git-action stage-and-commit")}return __extends(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage(),!1,!0):(this.commitState.onEmptyCommitMessage(),n.Promise.as(null))},t.ID="workbench.git.action.stageAndCommit",t}(I);t.StageAndCommitAction=N;var O=function(e){function t(n,r){this.terminalService=n.terminalService,this.messageService=n.messageService,e.call(this,n,r,t.ID,t.ALL,"git-action smart-commit")}return __extends(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),!this.enabled)return this.label=t.ALL,void 0;var n=this.gitService.getModel().getStatus();this.label=n.getIndexStatus().all().length>0?t.STAGED:t.ALL},t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){if(!this.commitState.getCommitMessage())return this.commitState.onEmptyCommitMessage(),n.Promise.as(null);var e=this.gitService.getModel().getStatus();return this.gitService.commit(this.commitState.getCommitMessage(),!1,0===e.getIndexStatus().all().length)},t.ID="workbench.git.action.commitAll",t.ALL=r.localize("vs_workbench_contrib_git_gitActions",22),t.STAGED=r.localize("vs_workbench_contrib_git_gitActions",23),t}(I);t.SmartCommitAction=O;var R=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",24)),void 0===s&&(s="git-action pull"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?!0:!1},t.prototype.run=function(){return this.gitService.pull().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(new Error(r.localize("vs_workbench_contrib_git_gitActions",25))):e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)})},t.ID="workbench.git.action.pull",t}(h);t.PullAction=R;var P=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",26)),void 0===s&&(s="git-action push"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?n.ahead?!0:!1:!1},t.prototype.run=function(){return this.gitService.push().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)})},t.ID="workbench.git.action.push",t}(h);t.PushAction=P;var M=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",27)),void 0===s&&(s="git-action sync"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?!0:!1},t.prototype.run=function(){return this.enabled?this.gitService.sync().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)}):n.Promise.as(null)},t.ID="workbench.git.action.sync",t}(h);t.SyncAction=M;var D=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",28)),void 0===s&&(s=t.CLASS_NAME),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),this.gitService.getRunningOperations().some(function(e){return e.id===l.ServiceOperations.SYNC||e.id===l.ServiceOperations.PULL||e.id===l.ServiceOperations.PUSH}))this.label="",this.class=t.CLASS_NAME_LOADING,this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",29);else{this.class=t.CLASS_NAME;var n=this.gitService.getModel(),i=n.getHEAD();i?i.name?i.upstream?i.ahead||i.behind?(this.label=o.format("{0} {1}",i.behind,i.ahead),this.tooltip=n.getStatus().getGroups().some(function(e){return e.all().length>0})?r.localize("vs_workbench_contrib_git_gitActions",33):1===i.behind&&1===i.ahead?r.localize("vs_workbench_contrib_git_gitActions",34,i.name,i.behind,i.ahead,i.upstream):1===i.behind?r.localize("vs_workbench_contrib_git_gitActions",35,i.name,i.behind,i.ahead,i.upstream):1===i.ahead?r.localize("vs_workbench_contrib_git_gitActions",36,i.name,i.behind,i.ahead,i.upstream):r.localize("vs_workbench_contrib_git_gitActions",37,i.name,i.behind,i.ahead,i.upstream)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",32,i.name)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",31,i.name)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",30)):(this.label="",this.tooltip="")}},t.ID="workbench.git.action.liveSync",t.CLASS_NAME="git-action live-sync",t.CLASS_NAME_LOADING="git-action live-sync loading",t}(M);t.LiveSyncAction=D});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitActionItems",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/dom/keyboardEvent","vs/base/dom/builder","vs/base/strings","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/actionbar"],function(e,t,n,r,i,o,s,a){var l=i.$,c=function(e){function t(t,n){e.call(this,null,n),this.contextViewService=t.contextViewService,this.gitService=t.gitService}return __extends(t,e),t.prototype.render=function(e){var t=this;this.inputBox=new s.InputBox(e,this.contextViewService,{placeholder:n.localize("vs_workbench_contrib_git_gitActionItems",0),validationOptions:{showMessage:!1,validation:function(e){return t.validate(e)}}}),l(this.inputBox.inputElement).on("keyup",function(e){return t.onKeyUp(e)}),this._updateEnabled()},t.prototype._updateEnabled=function(){this._action.enabled?this.inputBox.enable():this.inputBox.disable()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.blur=function(){},t.prototype.validate=function(e){if(/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|^\s*$/.test(e))return{content:n.localize("vs_workbench_contrib_git_gitActionItems",1)};var t=this.gitService.getModel(),r=t.getHeads();return r.some(function(t){return t.name===e})?{content:n.localize("vs_workbench_contrib_git_gitActionItems",2)}:null},t.prototype.onKeyUp=function(e){var t=new r.KeyboardEvent(e);if("Enter"===t.asString()){if(t.preventDefault(),t.stopPropagation(),this.validate(this.inputBox.value))return;var n=o.trim(this.inputBox.value);this.actionRunner.run(this._action,n).done()}},t.prototype.dispose=function(){this.inputBox.dispose(),e.prototype.dispose.call(this)},t}(a.BaseActionItem);t.CreateBranchActionItem=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitWidgets",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/lifecycle","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/widgets/dropdown/dropdown","vs/base/ui/widgets/actionbar","vs/workbench/contrib/git/git","vs/workbench/contrib/git/gitActions","vs/workbench/contrib/git/gitActionItems"],function(e,t,n,r,i,o,s,a,l,c,u){var d=i.$,p=function(e){function t(t,n){var r=this;e.call(this,n),this.$container=d(n).addClass("disabled"),this.toDispose=[],this.gitService=t.gitService,this.branchDropdownMenu=t.instantiationService.createInstance(m,this.element),this.syncDropdownMenu=t.instantiationService.createInstance(h,this.element),this.toDispose.push(this.addEmitter2(this.branchDropdownMenu)),this.toDispose.push(this.addEmitter2(this.syncDropdownMenu)),this.toDispose.push(this.gitService.addListener2(l.ServiceEvents.STATE_CHANGED,this.onGitServiceStateChange.bind(this))),this.toDispose.push(this.gitService.addListener2(l.ServiceEvents.OPERATION,function(){return r.onGitServiceOperation()}))}return __extends(t,e),t.prototype.onGitServiceStateChange=function(e){e===l.ServiceState.NotARepo?this.$container.addClass("disabled"):this.$container.removeClass("disabled")},t.prototype.onGitServiceOperation=function(){this.gitService.getRunningOperations().some(function(e){return e.id===l.ServiceOperations.CHECKOUT||e.id===l.ServiceOperations.BRANCH})?this.$container.addClass("loading"):this.$container.removeClass("loading")},t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose),this.branchDropdownMenu&&(this.branchDropdownMenu.dispose(),this.branchDropdownMenu=null),this.syncDropdownMenu&&(this.syncDropdownMenu.dispose(),this.syncDropdownMenu=null),e.prototype.dispose.call(this)},t}(s.DropdownGroup);t.GitWorkbenchWidget=p;var h=function(e){function t(t,n){this.syncAction=t.instantiationService.createInstance(c.LiveSyncAction),this.instantiationService=t.instantiationService,e.call(this,n,{contextMenuProvider:t.contextMenuService,action:this.syncAction})}return __extends(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions.length||(this._actions=[this.instantiationService.createInstance(c.SyncAction),this.instantiationService.createInstance(c.PullAction),this.instantiationService.createInstance(c.PushAction)]),this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.actions=r.disposeAll(this.actions),e.prototype.dispose.call(this)},t}(s.DropdownMenu);t.GitSyncDropdownMenu=h;var m=function(e){function t(n,r){var i=this;e.call(this,r,{contextMenuProvider:n.contextMenuService,tick:!0,labelRenderer:function(e){return i.$HEADLabel=d("span.git-dropdown-label").appendTo(e),{dispose:function(){return i.$HEADLabel.destroy()}}},menuClassName:t.CLASS}),this.gitService=n.gitService,this.toDispose.push(this.gitService.getModel().addListener2(l.ModelEvents.MODEL_UPDATED,function(){return i.onGitModelUpdate()})),this.instantiationService=n.instantiationService,this.menuOptions={actionItemProvider:function(e){return i.getActionItem(e)}},this.branchAction=n.instantiationService.createInstance(c.BranchAction,!0),this.checkoutActions=[],this.actionsAreStale=!0}return __extends(t,e),t.prototype.onGitModelUpdate=function(){this.actionsAreStale=!0;var e=this.gitService.getModel();this.$HEADLabel.empty();var t=e.getHEAD();if(t){var r=d("span.HEAD").text(e.getPS1()).appendTo(this.$HEADLabel);t.name?this.tooltip=n.localize("vs_workbench_contrib_git_gitWidgets",1):(r.addClass("detached"),this.tooltip=n.localize("vs_workbench_contrib_git_gitWidgets",0,t.commit))}},Object.defineProperty(t.prototype,"actions",{get:function(){var e=this;if(this.actionsAreStale){var n=this.gitService.getModel();this.checkoutActions=r.disposeAll(this.checkoutActions),this.checkoutActions=n.getHeads().map(function(t){return e.instantiationService.createInstance(c.CheckoutAction,t)});var i=this.checkoutActions.slice(0);i.length>0&&i.push(t.SEPARATOR),i.push(this.branchAction),this._actions=i,this.actionsAreStale=!1}return this._actions},set:function(){},enumerable:!0,configurable:!0}),t.prototype.getActionItem=function(e){return e.id===c.BranchAction.ID?this.instantiationService.createInstance(u.CreateBranchActionItem,e):null},t.prototype.onEvent=function(e,t){o.isAncestor(t,this.viewContainer)||this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.branchAction&&this.branchAction.dispose()},t.CLASS="git-branch-dropdown-menu",t.SEPARATOR=new a.Separator,t}(s.DropdownMenu);t.GitBranchDropdownMenu=m}),define("vs/css!vs/monaco/contrib/feedback/feedback",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/feedback/feedback",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/types","vs/base/dom/builder","vs/base/errors","vs/base/dom/dom","vs/base/http","vs/base/lib/winjs.base","vs/base/ui/widgets/dropdown/dropdown","vs/css!./feedback"],function(e,t,n,r,i,o,s,a,l,c,u){var d=o.$,p=500,h=function(){function e(e){this.requestService=e.requestService,this.telemetryService=e.telemetryService}return e.prototype.submitFeedback=function(e){return this.telemetryService.publicLog("feedbackSubmitted",{sentiment:e.sentiment}),this.requestService.makeRequest({type:l.POST,url:this.requestService.getRequestUrl("feedback"),headers:{"Content-Type":l.Mime.JSON},data:JSON.stringify({contact:e.alias,description:e.feedback,sentiment:e.sentiment})})},e}();t.DefaultFeedbackService=h;var m;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(m||(m={}));var f=function(e){function t(t,n,r){e.call(this,n,{contextViewProvider:r.contextViewProvider,labelRenderer:function(e){return d(e).addClass("send-feedback"),null}}),this.$el.addClass("send-feedback"),this.feedbackService=i.isUndefined(r.feedbackService)?t.instantiationService.createInstance(h):r.feedbackService,this.telemetryService=t.telemetryService,this.feedback="",this.alias="",this.aliasEnabled=!1,this.sentiment=1,this.feedbackForm=null,this.feedbackDescriptionInput=null,this.feedbackAliasInput=null,this.smileyInput=null,this.frownyInput=null,this.sendButton=null}return __extends(t,e),t.prototype.renderContents=function(e){var t=this,i=d("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);d(e).addClass("monaco-menu-container"),this.feedbackForm=i.getHTMLElement(),d("h2.title").text(n.localize("vs_monaco_contrib_feedback_feedback",0)).appendTo(i),this.invoke(d("div.cancel"),function(){t.hide()}).appendTo(i),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",1)).appendTo(i);var o=d("div.feedback-sentiment").appendTo(i);this.smileyInput=d("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",2),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(o),this.frownyInput=d("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",3),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(o),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true"),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",4)).appendTo(i),this.feedbackDescriptionInput=d("textarea.feedback-description").attr({rows:8,"aria-label":n.localize("vs_monaco_contrib_feedback_feedback",5)}).text(this.feedback).attr("required","required").on("keyup",function(){t.feedbackDescriptionInput.value?t.sendButton.removeAttribute("disabled"):t.sendButton.attr("disabled","")}).appendTo(i).domFocus().getHTMLElement();var s=n.localize("vs_monaco_contrib_feedback_feedback",6);this.feedbackAliasInput=d("input.feedback-alias").type("text").text(s).attr("type","email").attr("placeholder",n.localize("vs_monaco_contrib_feedback_feedback",7)).value(this.alias).attr("aria-label",s).appendTo(i).getHTMLElement();var a=d("div.form-buttons").appendTo(i);return r.privacyLink&&d("a").addClass("privacyLink").attr("target","_BLANK").href(r.privacyLink).text(n.localize("vs_monaco_contrib_feedback_feedback",8)).appendTo(a),this.sendButton=this.invoke(d("input.send").type("submit").attr("disabled","").value(n.localize("vs_monaco_contrib_feedback_feedback",9)).appendTo(a),function(){t.isSendingFeedback||t.onSubmit().then(null,function(){})}),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.feedbackAliasInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var n=e;(13===n.keyCode||32===n.keyCode)&&t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.feedbackAliasInput&&(this.alias=this.feedbackAliasInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;if(27===n.keyCode)return this.hide(),void 0}a.isAncestor(t,this.feedbackForm)||this.hide()},t.prototype.onSubmit=function(){var e=this;return this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()?c.Promise.as(null):(this.changeFormStatus(m.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,alias:this.feedbackAliasInput.value,sentiment:this.sentiment}).then(function(){return setTimeout(function(){e.changeFormStatus(m.SENT)},p),""},function(t){return setTimeout(function(){e.changeFormStatus(m.SEND_ERROR)},p),c.Promise.wrapError(new s.ConnectionError(t))}))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case m.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(n.localize("vs_monaco_contrib_feedback_feedback",10));break;case m.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(n.localize("vs_monaco_contrib_feedback_feedback",11)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])
 });break;case m.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(n.localize("vs_monaco_contrib_feedback_feedback",12))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput.value="",this.feedbackAliasInput.value="",this.sentiment=1,this.aliasEnabled=!1},t}(u.Dropdown);t.FeedbackDropdown=f}),define("vs/css!vs/monaco/contrib/profile/profilewidget",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/profile/profileWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/widgets/dropdown/dropdown","vs/css!./profilewidget"],function(e,t,n,r,i,o){var s=r.$,a=function(e){function t(t,n,r){e.call(this,t,n),this.profile=r}return __extends(t,e),t.prototype.renderContents=function(e){s(e).addClass("monaco-menu-container");var t=s(".profile-widget").appendTo(e),r=s(".top").appendTo(t),i=s(".profile-picture").appendTo(r);this.profile.userImageUrl&&i.style("background-image",'url("'+this.profile.userImageUrl+'")');var o=s(".actions").appendTo(r);if(this.profile.profileUrl){var i=s(".action").appendTo(o);s("a.action-label").text(n.localize("vs_monaco_contrib_profile_profileWidget",0)).href(this.profile.profileUrl).appendTo(i)}if(this.profile.signOutUrl){var a=s(".action").appendTo(o);s("a.action-label").text(n.localize("vs_monaco_contrib_profile_profileWidget",1)).href(this.profile.signOutUrl).appendTo(a)}var l=s(".bottom").appendTo(t);return s("span.email").text(this.profile.userEmail).appendTo(l),this.$element=t,null},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;if(27===n.keyCode)return this.hide(),void 0}i.isAncestor(t,this.$element.getHTMLElement())||this.hide()},t}(o.Dropdown);t.ProfileWidget=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/dropdown/linksDropdown",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/types","vs/base/ui/actions","vs/base/ui/widgets/dropdown/dropdown"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n){e.call(this,t,n),this.tooltip=n.tooltip}return __extends(t,e),t.prototype.onEvent=function(e){e instanceof KeyboardEvent&&(e.ctrlKey||r.isMacintosh&&e.metaKey)||this.hide()},t}(s.DropdownMenu);t.LinksDropdownMenu=a;var l=function(e){function t(t,o,s,a,l){e.call(this,t,o,s,!0,function(e){var t=a;return i.isFunction(a)&&(t=a()),l||e instanceof MouseEvent&&(e.ctrlKey||r.isMacintosh&&e.metaKey)?window.open(t,"_blank"):window.location.href=t,n.Promise.as(!0)})}return __extends(t,e),t}(o.Action);t.LinkDropdownAction=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/connect/connectDropdown",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/strings","vs/base/lifecycle","vs/base/ui/actions","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/linksDropdown","vs/workbench/contrib/tfs/tfs","vs/workbench/contrib/git/git","vs/workbench/contrib/git/git.contribution","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(e){function t(t,r,i){var o=this;e.call(this,r,{contextMenuProvider:i.contextMenuProvider,label:i.workspaceName,tooltip:n.localize("vs_monaco_contrib_connect_connectDropdown",0),tick:!0,menuClassName:"git-branch-dropdown-menu"}),this.telemetryService=t.telemetryService,this.messageService=t.messageService,this.requestService=t.requestService,this.tfsService=t.tfsService,this.gitService=t.gitService,this.viewletService=t.viewletService,this.webSiteUrl=i.webSiteUrl,this.kuduConsoleUrl=i.kuduConsoleUrl,this.actionsToDispose=[],this.toDispose.push(this.addListener2(a.EventType.BEFORE_RUN,function(){o.telemetryService.log("workbenchWorkspaceSwitched")})),this.tfsService&&this.toDispose.push(this.tfsService.addListener2(u.ServiceEvents.STATE_CHANGED,function(){o.updateActions()})),this.gitService&&this.toDispose.push(this.gitService.addListener2(d.ServiceEvents.STATE_CHANGED,function(){o.updateActions()})),this.updateActions()}return __extends(t,e),t.prototype.updateActions=function(){this.actionsToDispose=o.disposeAll(this.actionsToDispose);var e=[];e.push.apply(e,this.getAzureActions()),e.push.apply(e,this.wrapActionGroup(this.getTFSActions())),this.actionsToDispose=e.slice(0),this.actions=e},t.prototype.getAzureActions=function(){var e=[];return this.webSiteUrl&&e.push(new c.LinkDropdownAction("openWebSite",n.localize("vs_monaco_contrib_connect_connectDropdown",1),null,this.webSiteUrl,!0)),r.azureWebSiteTryMode||e.push(new c.LinkDropdownAction("openAzureDashboard",n.localize("vs_monaco_contrib_connect_connectDropdown",2),null,r.azurePortalLink,!0)),this.kuduConsoleUrl&&!r.azureWebSiteTryMode&&e.push(new c.LinkDropdownAction("openKuduConsole",n.localize("vs_monaco_contrib_connect_connectDropdown",3),null,this.kuduConsoleUrl,!0)),e},t.prototype.getTFSActions=function(){if(!this.tfsService)return[];switch(this.tfsService.state){case u.ServiceState.Connected:return this.getConnectedTFSActions();case u.ServiceState.Disconnected:return this.getDisconnectedTFSActions();default:return[]}},t.prototype.getConnectedTFSActions=function(){var e=this,t=this.tfsService.account,r=this.tfsService.server,o=[];return o.push(new c.LinkDropdownAction("monaco.contrib.connect.tfs.disconnect",n.localize("vs_monaco_contrib_connect_connectDropdown",4,t),null,i.format("https://{0}.{1}/",t,r),!0)),this.gitService.getState()===d.ServiceState.NotARepo&&o.push(new s.Action("monaco.contrib.connect.tfs.openGit",n.localize("vs_monaco_contrib_connect_connectDropdown",5),null,!0,function(){return e.viewletService.openViewlet(p.VIEWLET_ID)})),o.push(new s.Action("monaco.contrib.connect.tfs.disconnect",n.localize("vs_monaco_contrib_connect_connectDropdown",6),null,!0,function(){return e.tfsService.disconnect().then(function(){e.messageService.show(h.Info,n.localize("vs_monaco_contrib_connect_connectDropdown",7,t))})})),o},t.prototype.getDisconnectedTFSActions=function(){var e=this;return[new c.LinkDropdownAction("monaco.contrib.connect.tfs.connect",n.localize("vs_monaco_contrib_connect_connectDropdown",8),null,function(){return e.tfsService.getConnectURL()},!1)]},t.prototype.wrapActionGroup=function(e){return e.length&&e.splice(0,0,new l.Separator),e},t.prototype.dispose=function(){this.actionsToDispose=o.disposeAll(this.actionsToDispose),e.prototype.dispose.call(this)},t}(c.LinksDropdownMenu);t.ConnectDropdownMenu=m}),define("vs/monaco/ui/connectionIndicator",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/services","vs/base/dom/dom","vs/base/env","vs/base/async","vs/base/dom/htmlContentRenderer","vs/base/severity"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(e){var t=this;this.delayer=new s.Delayer(1600),this.messageService=e.messageService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.eventService=e.eventService,this.listenerToUnbind=this.eventService.addListener(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,function(e){return t.onRemoteEventsStateChange(e)})}return e.prototype.onRemoteEventsStateChange=function(e){var t=this;this.currentState=e,document.$isUnloading||(this.reconnectingInterval&&(window.clearInterval(this.reconnectingInterval),this.reconnectingInterval=null),this.currentState.state!==r.ConnectionState.CONNECTED?(this.currentState.nextConnectAttempt>0&&(this.secondsUntilReconnect=Math.floor(this.currentState.nextConnectAttempt/1e3),this.reconnectingInterval=window.setInterval(function(){return t.updateCountdown()},1e3)),this.delayer.trigger(function(){return t.renderGlobalMessage()})):(this.delayer.cancel(),this.notConnectedMessageHandle&&(this.notConnectedMessageHandle(),this.notConnectedMessageHandle=null)))},e.prototype.renderGlobalMessage=function(){var e=this;if(!document.$isUnloading&&this.messageService){if(!this.notConnectedMessageHandle){var t=o.enableAzurePortalNavigation&&o.azureWebSiteName&&navigator.onLine;t&&this.telemetryService&&this.telemetryService.publicLog("potentialOutOfQuota",{computeMode:o.azureWebSiteComputeMode,websiteMode:o.azureWebSiteMode}),this.messageService.hideAll(),this.notConnectedMessageHandle=this.messageService.show(l.Error,{message:this.getGlobalMessage(t),render:function(n){e.renderHeader(n,t);var r=e.renderFooter(n);return r}})}this.updateFooter()}},e.prototype.getGlobalMessage=function(e){return e?o.azureWebSiteTryMode&&navigator.onLine?n.localize("vs_monaco_ui_connectionIndicator",0):n.localize("vs_monaco_ui_connectionIndicator",1):this.currentState.state===r.ConnectionState.SESSION_OVER?n.localize("vs_monaco_ui_connectionIndicator",2):this.currentState.state===r.ConnectionState.OUTDATED_CLIENT?n.localize("vs_monaco_ui_connectionIndicator",3):n.localize("vs_monaco_ui_connectionIndicator",4)},e.prototype.renderHeader=function(e,t){if(o.azureWebSiteTryMode&&navigator.onLine){var i=n.localize("vs_monaco_ui_connectionIndicator",5);e.appendChild(a.renderHtml({tagName:"p",formattedText:i},function(e,t){t.preventDefault(),t.stopPropagation(),window.open(0===e?o.tryAzureLink:o.tryAzureSignUpLink,"_blank")}))}else if(!o.azureWebSiteTryMode&&t){var s={FREE:0,SHARED:1,BASIC_OR_STANDARD:2},l=s.FREE;"Dedicated"===o.azureWebSiteComputeMode?l=s.BASIC_OR_STANDARD:"Basic"===o.azureWebSiteMode&&(l=s.SHARED);var i;if(i=l===s.FREE||l===s.SHARED?n.localize("vs_monaco_ui_connectionIndicator",6):n.localize("vs_monaco_ui_connectionIndicator",7),e.appendChild(a.renderHtml({tagName:"p",formattedText:i},function(e,t){t.preventDefault(),t.stopPropagation(),window.open(o.azurePortalLink,"_blank")})),l===s.FREE||l===s.SHARED){var c=document.createElement("p");c.textContent=l===s.FREE?n.localize("vs_monaco_ui_connectionIndicator",8):n.localize("vs_monaco_ui_connectionIndicator",9),e.appendChild(c)}var u=document.createElement("p");u.textContent=n.localize("vs_monaco_ui_connectionIndicator",10),e.appendChild(u);var d=document.createElement("br");e.appendChild(d)}else if(this.currentState.state===r.ConnectionState.SESSION_OVER){var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",11),e.appendChild(p)}else if(this.currentState.state===r.ConnectionState.OUTDATED_CLIENT){var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",12),e.appendChild(p)}else{var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",13),e.appendChild(p)}},e.prototype.renderFooter=function(e){var t=this,r=document.createElement("p");e.appendChild(r),i.addClass(r,"buttons"),r.appendChild(document.createTextNode(" ")),this.actionButton=document.createElement("button"),i.addClass(this.actionButton,"default"),r.appendChild(this.actionButton);var s=null;return o.azureWebSiteTryMode&&navigator.onLine?(this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",14),s=i.addStandardDisposableListener(this.actionButton,"click",function(e){e.stopPropagation(),e.preventDefault(),window.open(o.tryAzureSignUpLink,"_blank")})):(s=i.addStandardDisposableListener(this.actionButton,"click",function(e){e.stopPropagation(),e.preventDefault(),!t.currentState.nextConnectAttempt||t.currentState.nextConnectAttempt<=0?window.location.reload():(t.stopCoundown(),t.requestService.reconnect())}),this.actionButtonMessage=document.createElement("span"),r.appendChild(this.actionButtonMessage)),s},e.prototype.updateFooter=function(){if(this.actionButtonMessage)if(this.currentState.state===r.ConnectionState.SESSION_OVER||this.currentState.state===r.ConnectionState.OUTDATED_CLIENT)this.actionButtonMessage.textContent="",this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",15),this.actionButton.removeAttribute("disabled");else if(0===this.currentState.nextConnectAttempt)this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",16),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",17),this.actionButton.setAttribute("disabled","disabled");else if(this.currentState.canReconnect)if(-1===this.currentState.nextConnectAttempt)this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",20),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",21),this.actionButton.removeAttribute("disabled");else{var e=Math.floor(this.currentState.nextConnectAttempt/1e3);this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",22,e),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",23),this.actionButton.removeAttribute("disabled")}else this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",18),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",19),this.actionButton.removeAttribute("disabled")},e.prototype.updateCountdown=function(){this.notConnectedMessageHandle&&(this.secondsUntilReconnect<=0?this.stopCoundown():this.actionButtonMessage&&(this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",24,this.secondsUntilReconnect--),this.actionButton.removeAttribute("disabled")))},e.prototype.stopCoundown=function(){this.notConnectedMessageHandle&&(this.actionButtonMessage&&(this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",25),this.actionButton.setAttribute("disabled","disabled")),window.clearInterval(this.reconnectingInterval),this.reconnectingInterval=null)},e.prototype.dispose=function(){this.reconnectingInterval&&window.clearInterval(this.reconnectingInterval),this.listenerToUnbind()},e}();t.ConnectionIndicator=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/changeTheme",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/ui/actions","vs/base/ui/widgets/shell/shell"],function(e,t,n,r,i,o,s){t.THEME_SETTING_ID="workbench.theme";var a=function(e){function i(t,n,r){void 0===r&&(r="workbench.action.change-theme"),e.call(this,r),this.enabled=!0,this.storageService=t.storageService,this.theme=n}return __extends(i,e),Object.defineProperty(i.prototype,"class",{get:function(){var e=this.storageService.get(t.THEME_SETTING_ID,r.StorageScope.GLOBAL,s.toString(s.Theme.VS));return e===s.toString(this.theme)?"check":"uncheck"},enumerable:!0,configurable:!0}),i.prototype.run=function(){return this.storageService.store(t.THEME_SETTING_ID,s.toString(this.theme),r.StorageScope.GLOBAL),n.Promise.as(null)},i}(o.Action);t.ChangeThemeAction=a;var l=function(e){function t(n){e.call(this,n,s.Theme.VS,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",0)}return __extends(t,e),t.ID="workbench.action.changeToLightTheme",t}(a);t.ChangeThemeToLightAction=l;var c=function(e){function t(n){e.call(this,n,s.Theme.VS_DARK,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",1)}return __extends(t,e),t.ID="workbench.action.changeToDarkTheme",t}(a);t.ChangeThemeToDarkAction=c;var u=function(e){function t(n){e.call(this,n,s.Theme.HIGH_CONTRAST,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",2)}return __extends(t,e),t.ID="workbench.action.changeToHighContrastTheme",t}(a);t.ChangeThemeToHighContrastAction=u}),define("vs/css!vs/base/ui/widgets/modalview/modalView",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/ui/widgets/modalview/modalView",["require","exports","vs/base/dom/dom","vs/base/uuid","vs/base/lifecycle","vs/css!./modalView"],function(e,t,n,r,i){var o=function(){function e(e){this.container=e,this.el=document.createElement("div"),this.el.className="monaco-modal-view";var t=document.createElement("div");t.className="monaco-modal-view-background",this.el.appendChild(t),e.appendChild(this.el),this.delegates={},this.eventListenersToDispose=[]}return e.prototype.showModalView=function(e){var t=this,i=document.createElement("div");i.className="monaco-modal-view-layer",i.tabIndex=0,this.el.appendChild(i),i.focus(),0===Object.keys(this.delegates).length&&(this.setupEventListeners(),n.addClass(this.el,"visible"));var o=r.v4().asHex();this.delegates[o]=e;var s=e.render(i);return function(){t.el.removeChild(i),s&&s.dispose(),delete t.delegates[o],0===Object.keys(t.delegates).length&&(n.removeClass(t.el,"visible"),t.clearEventListeners())}},e.prototype.isVisible=function(){return n.hasClass(this.el,"visible")},e.prototype.onBeforeUnload=function(){var e=this,t=null;return Object.keys(this.delegates).some(function(n){var r=e.delegates[n];return r.onBeforeUnload?!!(t=r.onBeforeUnload()):!1}),t},e.prototype.setupEventListeners=function(){var e=this;this.eventListenersToDispose=[n.addStandardDisposableListener(this.container,"focus",function(t){return e.onContainerFocus(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyEvent(t)})]},e.prototype.clearEventListeners=function(){this.eventListenersToDispose=i.disposeAll(this.eventListenersToDispose)},Object.defineProperty(e.prototype,"visibleLayer",{get:function(){return this.el.lastChild},enumerable:!0,configurable:!0}),e.prototype.onContainerFocus=function(e){this.visibleLayer&&!n.isAncestor(document.activeElement,this.visibleLayer)&&(this.visibleLayer.focus(),e.stopPropagation())},e.prototype.onKeyCaptureEvent=function(e){this.visibleLayer&&!n.isAncestor(e.target,this.visibleLayer)&&(e.stopPropagation(),e.preventDefault())},e.prototype.onKeyEvent=function(e){e.stopPropagation()},e.prototype.dispose=function(){this.clearEventListeners()},e}();t.ModalView=o}),define("vs/css!vs/editor/css/vs-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/editor/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/editor/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/vs-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/baseWorkbenchShell",["require","exports","vs/base/dom/builder","vs/base/env","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/platform/actionRegistry","vs/base/ui/widgets/modalview/modalView","vs/workbench/ui/services","vs/workbench/ui/actionRegistry","vs/base/ui/widgets/shell/shell","vs/monaco/contrib/actions/changeTheme","vs/css!vs/editor/css/vs-theme","vs/css!vs/editor/css/vs-dark-theme","vs/css!vs/editor/css/hc-black-theme","vs/css!vs/workbench/css/vs-theme","vs/css!vs/workbench/css/vs-dark-theme","vs/css!vs/workbench/css/hc-black-theme"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=n.$,h=function(e){function t(t){e.call(this,t),this.shellContainer=t}return __extends(t,e),t.prototype.createContents=function(e){this.modalView=new a.ModalView(this.shellContainer);var t=p(e).div();return t},t}(u.Shell);t.BaseWorkbenchShell=h;var m=function(e){function t(t,n){e.call(this,t),this.modalView=n}return __extends(t,e),t.prototype.show=function(t,n){if(!n.render)return e.prototype.show.call(this,t,n);var r=n;return this.modalView.showModalView({render:function(e){var t=null,n=p(".monaco-notification-container").appendTo(e),i=p(".notification").appendTo(n);p("h2.notification-title").text(r.message).appendTo(i);var o=p(".notification-body").appendTo(i);return r.render&&(t=r.render(o.getHTMLElement())),t},onBeforeUnload:n.onBeforeUnload})},t}(l.WorkbenchMessageService);t.WorkbenchShellMessageService=m;var f=i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",0),v=o.Registry.as(c.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToLightAction,d.ChangeThemeToLightAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",1)),f),v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToDarkAction,d.ChangeThemeToDarkAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",2)),f),(!r.isNative||r.isWindows)&&v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToHighContrastAction,d.ChangeThemeToHighContrastAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",3)),f)}),define("vs/platform/files/httpFileService",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/paths","vs/base/types","vs/base/uri","vs/base/mime","vs/base/strings","vs/base/assert","vs/base/arrays","vs/base/errors","vs/base/http"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(e){var t=this;this.eventService=e.eventService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.contextService=e.contextService,this.requestService.supportsRemoteEvents()&&(this.fileChangesListenerUnbind||(this.fileChangesListenerUnbind=this.requestService.addRemoteListener("files:rawFileChanges",function(e){return t.onFileChanges(e)})))}return e.prototype.onFileChanges=function(e){e&&(e=u.coalesce(e)).length>0&&this.eventService.emit(n.Files.EventType.FILE_CHANGES,n.Files.FileChangesEvent.fromRaw(e))},e.prototype.updateOptions=function(){},e.prototype.resolveFileStat=function(e,t,o){if(void 0===o&&(o=!1),e=i.makeAbsolute(e),t)for(var s=0;s<t.length;s++)t[s]=i.makeAbsolute(t[s]);var a;if(t||o){var l={};t&&(l.resolveTo=t),o&&(l.resolveSingleChildDescendants=!0),a=this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.POST,headers:{"Content-Type":p.Mime.JSON},data:JSON.stringify(l)})}else a=this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.GET,headers:{Accept:p.Mime.JSON,"X-Vary":"1"}});return new r.TPromise(function(r,i){a.then(function(o){try{r(n.Files.FileStatImpl.fromRAW(JSON.parse(o.responseText),e,t))}catch(s){i(s)}},function(e){i(new d.ConnectionError(e))})})},e.prototype.resolveFileStats=function(e,t){return this.requestService.makeChunkedRequest({url:l.format("{0}?glob={1}",this.requestService.getRequestUrl("root",e),encodeURIComponent(t)),type:p.GET,headers:{"X-Vary":"1",Accept:p.Mime.RAW}}).then(function(e){return e.chunks.map(function(e){return n.Files.FileStatImpl.fromRAW(JSON.parse(e.value()))})})},e.prototype.resolveContent=function(e,t,o){var a=this,l=this.toWorkspaceRelativePath(e),c={Accept:t?p.Mime.TEXT:p.Mime.RAW,"X-Vary":t?"3":"2"};return o&&(c["If-None-Match"]=o),this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",l),type:p.GET,headers:c}).then(function(e){var t=new n.Files.Content(s.parse(e.getResponseHeader(p.Header.X_RESOURCE)),l,e.responseText,l.length>1?i.basename(l):l,e.getResponseHeader(p.Header.LAST_MODIFIED),e.getResponseHeader(p.Header.X_CONTENT_TYPES)||e.getResponseHeader(p.Header.CONTENT_TYPE),e.getResponseHeader(p.Header.X_CONTENT_CHARSET),e.getResponseHeader(p.Header.ETAG));return a.telemetryService.publicLog("fileGet",{mimeType:e.getResponseHeader(p.Header.CONTENT_TYPE)}),t},function(e){return o&&304===e.status?(a.telemetryService.publicLog("fileGet",{mimeType:e.getResponseHeader(p.Header.CONTENT_TYPE)}),r.Promise.wrapError({fileOperationResult:n.Files.FileOperationResult.FILE_NOT_MODIFIED_SINCE})):406===e.status&&t?r.Promise.wrapError({message:"Requested file is binary but client only accepts text",fileOperationResult:n.Files.FileOperationResult.FILE_IS_BINARY}):404===e.status?r.Promise.wrapError({message:"File not found",fileOperationResult:n.Files.FileOperationResult.FILE_NOT_FOUND}):r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.toWorkspaceRelativePath=function(e){var t=this.contextService.toWorkspaceRelativePath(e);if(t)return t;throw new Error("Out of workspace resources are unsupported")},e.prototype.resolveContents=function(e){return 0===e.length?r.TPromise.as([]):this.requestService.makeChunkedRequest({url:this.requestService.getRequestUrl("root"),type:p.POST,headers:{"X-Vary":4,"Content-Type":p.Mime.JSON},data:JSON.stringify({pathsToResolve:e})}).then(function(e){return e.chunks.map(function(e){return new n.Files.Content(s.parse(e.header(p.Header.X_RESOURCE)),e.header(p.Header.X_FILEPATH),e.value(),i.basename(e.header(p.Header.X_FILEPATH)),e.header(p.Header.LAST_MODIFIED),e.header(p.Header.CONTENT_TYPE),e.header(p.Header.X_CONTENT_CHARSET),e.header(p.Header.ETAG))})})},e.prototype.updateContent=function(e){var t=this,i=this.toWorkspaceRelativePath(e.resource),o={"Content-Type":p.Mime.RAW};return e.etag&&(o["If-None-Match"]=e.etag),e.mtime&&(o["If-Unmodified-Since"]=new Date(e.mtime).toUTCString()),e.charset&&(o[p.Header.X_CONTENT_CHARSET]=e.charset),this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",i),type:p.PUT,headers:o,data:e.value}).then(function(o){var s=n.Files.FileStatImpl.fromRAW(JSON.parse(o.responseText),i);return t.telemetryService.publicLog("filePUT",{mimeType:e.mime||a.MIME_UNKNOWN}),r.TPromise.as(s)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.moveFile=function(e,t,n){return void 0===n&&(n=!1),this.moveOrCopyFile(e,t,!1,n)},e.prototype.copyFile=function(e,t){return this.moveOrCopyFile(e,t,!0,!1)},e.prototype.moveOrCopyFile=function(e,t,o,s){t&&(t=i.makeAbsolute(t)),e.isDirectory&&(t+=i.sep);var a;a=o?JSON.stringify({copyTo:t}):JSON.stringify({moveTo:t,overwrite:s});var c={"Content-Type":p.Mime.JSON};return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e.path+(e.isDirectory?i.sep:l.empty)),type:p.POST,headers:c,data:a}).then(function(e){return r.TPromise.as(n.Files.FileStatImpl.fromRAW(JSON.parse(e.responseText),l.rtrim(t,i.sep)))},function(e){return 412===e.status?r.Promise.wrapError({fileOperationResult:n.Files.FileOperationResult.FILE_MOVE_CONFLICT}):r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.createFile=function(e,t,r){var s=o.isString(e)?null:e,l=o.isString(e)?e:t,c=o.isString(e)?t:r;if(c){var u;u=s?i.makeAbsolute(i.join(s.path,l)):e;var d=this.contextService.toResource(u);return this.updateContent(new n.Files.Content(d,u,c,l,null,a.MIME_TEXT,null,null))}return this.createFileOrFolder(s?this.getPath(s,l,!1):e,!1)},e.prototype.createFolder=function(e,t){return this.createFileOrFolder(this.getPath(e,t,!0),!0)},e.prototype.getPath=function(e,t,n){var r=i.makeAbsolute(i.join(e.path,t));return n&&(r+=i.sep),r},e.prototype.createFileOrFolder=function(e){var t={"If-Unmodified-Since":new Date(0).toUTCString()};return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.PUT,headers:t,data:""}).then(function(t){return r.TPromise.as(n.Files.FileStatImpl.fromRAW(JSON.parse(t.responseText),l.rtrim(e,i.sep)))},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.renameFile=function(e,t){return this.renameFileOrFolder(e,t)},e.prototype.renameFolder=function(e,t){return this.renameFileOrFolder(e,t)},e.prototype.renameFileOrFolder=function(e,t){var n=i.join(i.dirname(e.path),t);return this.moveFile(e,n)},e.prototype.deleteFile=function(e){return this.doDeleteFileOrFolder(e)},e.prototype.deleteFolder=function(e){return this.doDeleteFileOrFolder(e)},e.prototype.doDeleteFileOrFolder=function(e){return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e.path+(e.isDirectory?i.sep:l.empty)),type:p.DELETE,headers:{}}).then(function(){return r.TPromise.as(e)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.uploadData=function(e,t){c.ok(window.FormData,"Upload data via FormData not supported on this platform");var n=i.join(e.path,t.name),r=e.path;e.isDirectory&&r.charAt(r.length-1)!==i.sep&&(r+=i.sep);var o=new FormData;return o.append("data",t),o=this.addAditionalHiddenFormData(o),this.doUploadData(o,r,n,{})},e.prototype.doUploadData=function(e,t,i,o){return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",t),type:p.POST,headers:o,data:e}).then(function(e){var t={stat:n.Files.FileStatImpl.fromRAW(JSON.parse(e.responseText),i),isNew:201===e.status};return r.TPromise.as(t)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.addAditionalHiddenFormData=function(e){var t=this.contextService.getConfiguration().additionalHiddenFormFields||{};if(t){var n;for(n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&e.append(n,r)}}return e},e.prototype.watchFile=function(){return function(){return void 0}},e.prototype.dispose=function(){this.fileChangesListenerUnbind&&(this.fileChangesListenerUnbind(),this.fileChangesListenerUnbind=null)},e}();t.HttpFileService=h}),define("vs/platform/search/httpSearchService",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/base/errors","vs/platform/search/search","vs/base/uri"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this._requestService=e.requestService}return e.prototype.search=function(e){return this._doSearch(e)},e.prototype._doSearch=function(e){var t,a,l=this;return new n.PPromise(function(n,c,u){a=c;var d,p=[],h=0,m=function(e){for(;-1!==(d=e.responseText.indexOf("\n",h));){var t=e.responseText.substring(h,d),r=JSON.parse(t);if(r.resource){var a=new o.FileMatch(s.parse(r.resource));if(p.push(a),r.lineMatches)for(var l=0;l<r.lineMatches.length;l++)a.lineMatches.push(new o.LineMatch(r.lineMatches[l].preview,r.lineMatches[l].lineNumber,r.lineMatches[l].offsetAndLengths));u(a)}else u(r);h=d+1}4===e.readyState&&(200===e.status?n(p):c(new i.ConnectionError(e)))};t=l._requestService.makeRequest({type:"POST",url:l._requestService.getRequestUrl("search"),headers:{"Content-Type":"application/json",Accept:r.format("{0}, {1}","text/plain","application/json")},data:JSON.stringify(e)}),t.then(m,function(e){c(new i.ConnectionError(e))},m)},function(){a&&a(new Error("Canceled")),t&&t.cancel()})},e}();t.HttpSearchService=a}),define("vs/editor/worker/workerCodeLoader",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/platform/plugins"],function(e,t,n,r,i){var o=function(){function e(e,t){t(e)}return e}(),s=function(){function t(e){this._threadService=e.threadService,this._instantiationService=e.instantiationService}return t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerSideWorkerCodeLoader",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.loadAMDCode=function(t){var r,s,a=this,l=new n.TPromise(function(e,t){r=e,s=t});if(!/^file\:\/\//.test(t)){var c=t.match(/.*(\/plugins\/.*)\.js$/i);c&&(t="vs"+c[1])}return e([t],function(e){"function"==typeof e.activate?a._instantiationService.createInstance(o,function(n){i.PluginManager.callActivateWithCtx(e,n).done(function(e){r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))})}):r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))},s),l},t}();t.WorkerSideWorkerCodeLoader=s
-}),define("vs/editor/api/base.api",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/base/network","vs/base/uri","vs/base/strings","vs/base/paths","vs/base/severity","vs/platform/plugins","vs/editor/core/range","vs/editor/modes/monarch/monarch","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t;t=new g(e),define("monaco",[],t)}var v=function(){function e(e){this._modelService=e.modelService,this.Promise=r.TPromise,this.URL=i.URL,this.URI=o,this.Models_EndOfLinePreference=m.EndOfLinePreference,this.Modes_Bracket=p.Bracket,this._pathTranslator=new S(e),this.Services_Severity=l}return e.prototype.Range_containsPosition=function(e,t){return u.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return h.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return h.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){d.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Paths_toAbsoluteFilePath=function(e){return this._pathTranslator.asAbsolutePath(e)},e.prototype.Paths_getAppRoot=function(){return n.appRoot},e}();t.BaseMonacoAPI=v,t.createAPI=f;var g=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new b(e),this.Paths=new _(e),this.Plugins=new E(e),this.Services=new w(e)}return e}(),b=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new y(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),y=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)}return e}(),_=function(){function e(e){this.toAbsoluteFilePath=e.Paths_toAbsoluteFilePath.bind(e),this.getAppRoot=e.Paths_getAppRoot.bind(e)}return e}(),w=function(){function e(e){this.Severity=e.Services_Severity}return e}(),E=function(){function e(){this.get=c.get.bind(c)}return e}(),S=function(){function e(e){this._baseFileUrl=e.requestService.getRequestUrl("root",s.empty,!0),this._workspacePath=e.contextService.getWorkspace()?e.contextService.getWorkspace().resource.path:void 0}return e.prototype.asRelativePath=function(e){return this._workspacePath&&s.startsWith(e,this._workspacePath)?e.substr(this._workspacePath.length):null},e.prototype.asUrl=function(e){var t=this.asRelativePath(e);return t?i.URL.fromValue(a.join(this._baseFileUrl,a.normalize(t))):null},e.prototype.asRelativeUrl=function(e){var t=e.toString();return s.startsWith(t,this._baseFileUrl)?t.substr(this._baseFileUrl.length):null},e.prototype.asAbsolutePath=function(e){var t=this.asRelativeUrl(e);return t&&this._workspacePath?a.normalize(a.join(this._workspacePath,t),!0):null},e.prototype.toAbsolutePath=function(e){return e&&this._workspacePath?a.normalize(a.join(this._workspacePath,e),!0):null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.api",["require","exports","vs/editor/modes/modesExtensions","vs/editor/worker/workerCodeLoader","./base.api"],function(e,t,n,r,i){function o(e){i.createAPI(new s(e))}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=r.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){n.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t.prototype.Modes_DeclarationSupport_register=function(e,t){n.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){n.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){n.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){n.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){n.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){n.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){n.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){n.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var r={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(r.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(r.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;r.getAutoFormatTriggerCharacters=function(){return i}}n.registerFormattingSupport(e,r)},t.prototype.Modes_SuggestSupport_register=function(e,t){n.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){n.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){n.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){n.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){n.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){n.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){n.registerDeclarativeCharacterPairSupport(e,t)},t}(i.BaseMonacoAPI),a=function(){function e(e){o(e)}return e}();t.MonacoAPISetup=a,t.setup=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/baseRemote.api",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/modesExtensions","vs/editor/api/base.api"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["nonWordTokenTypes","wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(i.BaseMonacoAPI);t.RemoteMonacoAPI=o;var s=function(){function e(e){this._threadService=e.threadService,this._modelService=e.modelService}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){r.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){n.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){r.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){r.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){r.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){r.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){r.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){r.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){r.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){r.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){r.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return i}}r.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){r.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){r.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){r.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){r.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){r.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){r.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.worker.api",["require","exports","vs/editor/modes/supports","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t,a.getInstance(t.threadService)),this._resourceService=t.resourceService,i.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.InplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(o.RemoteMonacoAPI);t.WorkerMonacoAPI=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new r.SyncDescriptor(t))},t}(o.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=a}),define("vs/css!vs/monaco/ui/workbench/web/media/workbenchshell",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/web/workbenchShell",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/events","vs/base/strings","vs/base/assert","vs/base/types","vs/base/ui/widgets/shell/shell","vs/base/objects","vs/base/env","vs/platform/configuration/httpConfigurationService","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/dropdown","vs/platform/contextview/contextviewService","vs/monaco/core/requestService","vs/workbench/constants","vs/platform/storage/storage","vs/workbench/ui/workbench","vs/workbench/ui/actionRegistry","vs/workbench/ui/services","vs/workbench/contrib/git/gitWidgets","vs/platform/telemetry/mainTelemetryService","vs/monaco/contrib/feedback/feedback","vs/monaco/contrib/profile/profileWidget","vs/base/ui/widgets/dropdown/linksDropdown","vs/monaco/contrib/connect/connectDropdown","vs/monaco/ui/connectionIndicator","vs/monaco/contrib/actions/changeTheme","vs/monaco/ui/workbench/baseWorkbenchShell","vs/platform/files/httpFileService","vs/platform/search/httpSearchService","vs/base/severity","vs/editor/api/monaco.api","vs/editor/api/monaco.worker.api","vs/platform/thread/mainThreadService","vs/platform/thread/nullThreadService","vs/platform/eventService","vs/platform/configuration/keybindingService","vs/css!./media/workbenchshell"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,I,N,O,R,P,M,D,F,V,B,H,W,U,$){var j=o.$,z=function(e){function t(t,n,r,i){e.call(this,t),d.ok(p.isObject(n),"Monaco Workbench Shell requires a workspace to be created with"),this.workspace=n,this.configuration=r,this.options=m.mixin({},i),this.toDispose=[]}return __extends(t,e),t.prototype.createContents=function(t){var n=this,r=e.prototype.createContents.call(this,t),i=this.initServices();this.workbench=new S.Workbench(r.getHTMLElement(),this.workspace,this.configuration,this.options,i),this.workbench.startup({onBeforeUnload:function(){return n.modalView.onBeforeUnload()}});var o=i.threadService;return V.setup(i),B.MainProcessWorkerAPIHelper.getInstance(o),this.requestService.supportsRemoteEvents()&&(this.connectionIndicator=this.workbench.getInstantiationService().createInstance(O.ConnectionIndicator)),r},t.prototype.initServices=function(){var e=new U.EventService,t=new k.WorkspaceContextService({eventService:e},this.workspace,this.configuration,this.options);this.telemetryService=new x.MainTelemetryService(t,{enableTelemetry:f.enableTelemetry,publicOnly:f.enablePrivateTelemetry?!1:!0}),this.requestService=new _.RequestService({contextService:t,telemetryService:this.telemetryService,eventService:e});var n=new $.KeybindingService(window);this.toDispose.push(n),this.messageService=new P.WorkbenchShellMessageService({eventService:e,telemetryService:this.telemetryService,keybindingService:n},this.modalView),n.setMessageService(this.messageService),this.contextViewService=new y.ContextViewService(this.shellContainer,this.telemetryService,this.messageService),this.storageService=new E.Storage(this.workspace);var r=f.isTesting()?W.NULL_THREAD_SERVICE:new H.MainThreadService(t,this.telemetryService),i=new M.HttpFileService({contextService:t,eventService:e,requestService:this.requestService,telemetryService:this.telemetryService}),o=new v.HttpConfigurationService({contextService:t,eventService:e,fileService:i}),s={eventService:e,telemetryService:this.telemetryService,requestService:this.requestService,contextService:t,contextViewService:this.contextViewService,contextMenuService:this.contextViewService,messageService:this.messageService,storageService:this.storageService,keybindingService:n,fileService:i,configurationService:o,searchService:new D.HttpSearchService({requestService:this.requestService}),threadService:r};return s},t.prototype.fillNavBar=function(t){var r=this;e.prototype.fillNavBar.call(this,t),f.enableAzurePortalNavigation&&f.azureWebSiteName?t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n,i=window.location.hostname;i.indexOf(".scm")>=0?(t="http://"+i.replace(".scm",""),n="http://"+i+"/DebugConsole"):t="http://"+i;var o=r.workbench.getInstantiationService().createInstance(N.ConnectDropdownMenu,e,{contextMenuProvider:r.contextViewService,webSiteUrl:t,kuduConsoleUrl:n,workspaceName:f.azureWebSiteName});return function(){return o.dispose()}}):t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n=r.configuration.workspaces.map(function(e){var t=null;return e.id===r.workspace.id&&(t="check"),new I.LinkDropdownAction(e.id,e.name,t,r.configuration.paths.PUBLIC_WORKSPACE_URL(e))});n.push(new g.Separator),n.push(new I.LinkDropdownAction("browseWorkspaces",a.localize("vs_monaco_ui_workbench_web_workbenchShell",0),null,r.configuration.paths.PUBLIC_DASHBOARD_URL)),t=r.workspace.name;var i=new I.LinksDropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:n,tick:!0,label:t,tooltip:a.localize("vs_monaco_ui_workbench_web_workbenchShell",1)});return i.addListener(c.EventType.BEFORE_RUN,function(){r.telemetryService.log("workbenchWorkspaceSwitched")}),function(){return i.dispose()}}),f.enableGit&&t.addItem(!0,function(e){j(e).addClass("git");var t=r.workbench.getInstantiationService().createInstance(C.GitWorkbenchWidget,e);return t.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return t.dispose()}}),f.enableFeedback&&t.addItem(!1,function(e){var t=r.workbench.getInstantiationService().createInstance(A.FeedbackDropdown,e,{contextViewProvider:r.contextViewService});return function(){return t.dispose()}}),t.addItem(!1,function(e){j(e).addClass("help");var t=[];t=t.concat(r.createActions(["workbench.action.showQuickStart","workbench.action.showCommands"])),(f.supportLink||f.privacyLink||f.legalLink)&&t.push(new g.Separator),f.supportLink&&t.push(new s.Action("supportAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",2),null,!0,function(){return window.open(f.supportLink),n.Promise.as(!0)})),f.privacyLink&&t.push(new s.Action("privacyAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",3),null,!0,function(){return window.open(f.privacyLink),n.Promise.as(!0)})),f.legalLink&&t.push(new s.Action("legalAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",4),null,!0,function(){return window.open(f.legalLink),n.Promise.as(!0)}));var i=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return i.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},i.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),i.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return i.dispose()}}),t.addItem(!1,function(e){j(e).addClass("settings");var t=[];t.push(r.workbench.getInstantiationService().createInstance(R.ChangeThemeToLightAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToDarkAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToHighContrastAction)),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.pinWindow","workbench.action.toggleSidebarVisibility","workbench.action.toggleSidebarPosition"])),f.enablePerformanceTools&&(t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.showPerfBox"]))),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.openWorkspaceSettings"]));var n=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return n.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},n.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),n.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return n.dispose()}}),f.isInIframe()&&t.addItem(!1,function(e){return j(e).addClass("popout"),j(e).a({class:["button-link"],href:"https://"+f.azureWebSiteName+".scm.azurewebsite.net/dev",target:"_blank"}),null}),f.azureWebSiteScmType&&"None"!==f.azureWebSiteScmType&&t.addItem(!0,function(e){return j(e).div({class:["scm-warning"]},function(e){e.a({text:"Warning: Continuous Deployment May Be Enabled",class:["breadcrumb-entry"],href:"http://go.microsoft.com/fwlink/?LinkId=816520#continuous-deployment",target:"_blank"})}),null});var i=this.configuration.profile;if(i&&t.addItem(!1,function(e){j(e).addClass("profile");var t=new L.ProfileWidget(e,{contextViewProvider:r.contextViewService,labelRenderer:function(e){return j(e).text(i.userName),null}},i);return function(){return t.dispose()}}),f.azureWebSiteTryMode&&f.tryAzureLifeTimeInMinutes&&f.tryAzureLastModifiedUTC){var o=new Date(f.tryAzureLastModifiedUTC),l=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())),d=new Date(l.getTime()+60*Number(f.tryAzureLifeTimeInMinutes)*1e3).getTime();t.addItem(!1,function(e){j(e).addClass("trywaws");var t=window.setInterval(function(){var t=(new Date).getTime(),n=d-t;if(n>=0){var r,i=n/1e3,o=i/60;if(60>i)r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",5,u.pad(Math.floor(i),2));else{var o=i/60;r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",6,u.pad(Math.floor(o),2),u.pad(Math.floor(i)-60*Math.floor(o),2))}j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",7,r))}else j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",8))},1e3);return function(){return window.clearInterval(t)}})}},t.prototype.createActions=function(e){var t=this;return e.map(function(e){var n=l.Registry.as(T.Extensions.WorkbenchActions),r=n.getWorkbenchAction(e);if(r){var i=t.workbench.getInstantiationService().createInstance(r);return i}return null}).filter(function(e){return!!e})},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var n=this.storageService.get(w.Preferences.THEME,r.StorageScope.GLOBAL,h.toString(h.Theme.VS));this.setTheme(n,!1),this.toUnbind.push(this.storageService.addListener(r.StorageEventType.STORAGE,function(e){e.key===w.Preferences.THEME&&t.setTheme(e.newValue)}))},t.prototype.onUnexpectedError=function(t){e.prototype.onUnexpectedError.call(this,t),t.friendlyMessage&&this.messageService&&this.messageService.show(F.Error,t.friendlyMessage)},t.prototype.layout=function(){e.prototype.layout.call(this),this.contextViewService.layout(),this.workbench.layout()},t.prototype.dispose=function(t){if(this.workbench){var n=this.workbench.shutdown(t);if(n)return}this.contextViewService.dispose(),this.storageService.dispose(),this.connectionIndicator&&this.connectionIndicator.dispose(),this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(P.BaseWorkbenchShell);t.WorkbenchShell=z}),define("vs/css!vs/base/performance/timerRenderer",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/performance/timerRenderer",["require","exports","./timer","vs/base/dom/dom","vs/css!./timerRenderer"],function(e,t,n,r){var i=function(){function e(e){var t=this;this.timeKeeper=n.getTimeKeeper(),this.onHide=e,this.lastEventIndex=0,this.renderedEvents={},this.renderCnt=0,this.listenersToRemove=[],this.domNode=this._createDomNode(),this.intervalTokenId=window.setInterval(function(){return t._render()},500)}return e.prototype.destroy=function(){document.body.removeChild(this.outerDomNode),window.clearInterval(this.intervalTokenId),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype._createDomNode=function(){var e=this;this.outerDomNode=document.createElement("div"),this.outerDomNode.className="benchmarktimerbox";var t=document.createElement("input");t.type="button",t.value="Clear",this.listenersToRemove.push(r.addListener(t,"click",function(){return e._onClear()})),this.outerDomNode.appendChild(t),this.textFilterDomNode=document.createElement("input"),this.textFilterDomNode.type="text",this.textFilterDomNode.className="textFilter",this.listenersToRemove.push(r.addListener(this.textFilterDomNode,"keydown",function(){return e.onTextFilterChange()})),this.textFilter="",this.outerDomNode.appendChild(document.createTextNode("Filter")),this.outerDomNode.appendChild(this.textFilterDomNode),this.timeFilterDomNode=document.createElement("input"),this.timeFilterDomNode.type="text",this.timeFilterDomNode.value="0",this.timeFilterDomNode.className="timeFilter",this.listenersToRemove.push(r.addListener(this.timeFilterDomNode,"keydown",function(){return e.onTimeFilterChange()})),this.timeFilter=0,this.outerDomNode.appendChild(document.createTextNode("Hide time under")),this.outerDomNode.appendChild(this.timeFilterDomNode);var n=document.createElement("input");n.type="button",n.value="Close",this.listenersToRemove.push(r.addListener(n,"click",function(){e.onHide()})),this.outerDomNode.appendChild(n);var i=document.createElement("pre");i.appendChild(document.createTextNode(this.renderRow("TOPIC","NAME","TOOK","START","END"))),this.outerDomNode.appendChild(i),this.outerDomNode.appendChild(document.createElement("hr"));var o=document.createElement("div");return o.className="inner",this.outerDomNode.appendChild(o),document.body.appendChild(this.outerDomNode),o},e.prototype.onTextFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.onTimeFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.matchesTextFilter=function(e){return this.textFilter?e.topic.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:e.name.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:!1:!0},e.prototype.matchesTimeFilter=function(e){return this.timeFilter?e.timeTaken()>=this.timeFilter?!0:!1:!0},e.prototype.shouldShow=function(e){return this.matchesTextFilter(e)&&this.matchesTimeFilter(e)},e.prototype.refilter=function(){this.textFilter=this.textFilterDomNode.value,this.timeFilter=parseInt(this.timeFilterDomNode.value,10);for(var e=Array.prototype.slice.call(this.domNode.children,0),t=0;t<e.length;t++){var n=e[t].getAttribute("data-event-id"),r=this.renderedEvents[n];e[t].style.display=this.shouldShow(r)?"inherit":"none"}},e.prototype._onClear=function(){this.lastEventIndex=this.timeKeeper.getCollectedEvents().length,this.renderedEvents={},this.renderCnt=0,r.clearNode(this.domNode)},e.prototype.leftPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return r+n},e.prototype.rightPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return n+r},e.prototype.renderRow=function(e,t,n,r){var i=" ";return i+=this.rightPaddedString(10," ",e),i+=this.rightPaddedString(30," ",t),i+=" "+this.leftPaddedString(15," ",n),i+=" "+this.leftPaddedString(13," ",r)},e.prototype._suffix0=function(e){return"."===e.charAt(e.length-3)?e:"."===e.charAt(e.length-2)?e+"0":e+".00"},e.prototype._twoPrecision=function(e){return this._suffix0(Math.round(100*e)/100+"")},e.prototype._absoluteTime=function(e){return 1e3>e?this._twoPrecision(e)+" ms":(e/=1e3,60>e?this._twoPrecision(e)+" s":(e/=60,60>e?this._twoPrecision(e)+" m":(e/=60,this._twoPrecision(e)+" h")))},e.prototype._renderEvent=function(e,t){var r=t.startTime.getTime()-n.TimeKeeper.PARSE_TIME.getTime(),i=this.renderRow(t.topic,t.name,this._twoPrecision(t.timeTaken()),this._absoluteTime(r)+"",this._absoluteTime(r+t.timeTaken()));e.textContent="",e.appendChild(document.createTextNode(i))},e.prototype._renderStartTimerEvent=function(e){var t=document.createElement("pre");this._renderEvent(t,e),this.domNode.appendChild(t);var n=e.id.toString();t.setAttribute("data-event-id",n),t.className="timer-event-"+e.id%2,this.renderedEvents[n]=e,t.style.display=this.shouldShow(this.renderedEvents[n])?"inherit":"none",this.renderCnt++},e.prototype._render=function(){for(var e=this.timeKeeper.getCollectedEvents(),t=!1,n=this.lastEventIndex;n<e.length;n++){var r=e[n];if(!r.stopTime)return this.lastEventIndex=n,t&&(this.domNode.scrollTop=1e5),void 0;this._renderStartTimerEvent(r),t=!0}t&&(this.domNode.scrollTop=1e5),this.lastEventIndex=e.length},e.prototype._repeatStr=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},e}();t.TimeKeeperRenderer=i
+}),define("vs/editor/api/base.api",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/base/network","vs/base/uri","vs/base/strings","vs/base/paths","vs/base/severity","vs/platform/plugins","vs/editor/core/range","vs/editor/modes/monarch/monarch","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t;t=new g(e),define("monaco",[],t)}var v=function(){function e(e){this._modelService=e.modelService,this.Promise=r.TPromise,this.URL=i.URL,this.URI=o,this.Models_EndOfLinePreference=m.EndOfLinePreference,this.Modes_Bracket=p.Bracket,this._pathTranslator=new S(e),this.Services_Severity=l}return e.prototype.Range_containsPosition=function(e,t){return u.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return h.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return h.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){d.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Paths_toAbsoluteFilePath=function(e){return this._pathTranslator.asAbsolutePath(e)},e.prototype.Paths_getAppRoot=function(){return n.appRoot},e}();t.BaseMonacoAPI=v,t.createAPI=f;var g=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new b(e),this.Paths=new _(e),this.Plugins=new E(e),this.Services=new w(e)}return e}(),b=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new y(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),y=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)}return e}(),_=function(){function e(e){this.toAbsoluteFilePath=e.Paths_toAbsoluteFilePath.bind(e),this.getAppRoot=e.Paths_getAppRoot.bind(e)}return e}(),w=function(){function e(e){this.Severity=e.Services_Severity}return e}(),E=function(){function e(){this.get=c.get.bind(c)}return e}(),S=function(){function e(e){this._baseFileUrl=e.requestService.getRequestUrl("root",s.empty,!0),this._workspacePath=e.contextService.getWorkspace()?e.contextService.getWorkspace().resource.path:void 0}return e.prototype.asRelativePath=function(e){return this._workspacePath&&s.startsWith(e,this._workspacePath)?e.substr(this._workspacePath.length):null},e.prototype.asUrl=function(e){var t=this.asRelativePath(e);return t?i.URL.fromValue(a.join(this._baseFileUrl,a.normalize(t))):null},e.prototype.asRelativeUrl=function(e){var t=e.toString();return s.startsWith(t,this._baseFileUrl)?t.substr(this._baseFileUrl.length):null},e.prototype.asAbsolutePath=function(e){var t=this.asRelativeUrl(e);return t&&this._workspacePath?a.normalize(a.join(this._workspacePath,t),!0):null},e.prototype.toAbsolutePath=function(e){return e&&this._workspacePath?a.normalize(a.join(this._workspacePath,e),!0):null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.api",["require","exports","vs/editor/modes/modesExtensions","vs/editor/worker/workerCodeLoader","./base.api"],function(e,t,n,r,i){function o(e){i.createAPI(new s(e))}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=r.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){n.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t.prototype.Modes_DeclarationSupport_register=function(e,t){n.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){n.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){n.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){n.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){n.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){n.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){n.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){n.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var r={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(r.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(r.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;r.getAutoFormatTriggerCharacters=function(){return i}}n.registerFormattingSupport(e,r)},t.prototype.Modes_SuggestSupport_register=function(e,t){n.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){n.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){n.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){n.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){n.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){n.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){n.registerDeclarativeCharacterPairSupport(e,t)},t}(i.BaseMonacoAPI),a=function(){function e(e){o(e)}return e}();t.MonacoAPISetup=a,t.setup=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/baseRemote.api",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/modesExtensions","vs/editor/api/base.api"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["nonWordTokenTypes","wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(i.BaseMonacoAPI);t.RemoteMonacoAPI=o;var s=function(){function e(e){this._threadService=e.threadService,this._modelService=e.modelService}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){r.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){n.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){r.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){r.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){r.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){r.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){r.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){r.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){r.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){r.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){r.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return i}}r.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){r.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){r.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){r.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){r.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){r.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){r.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.worker.api",["require","exports","vs/editor/modes/supports","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t,a.getInstance(t.threadService)),this._resourceService=t.resourceService,i.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.InplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(o.RemoteMonacoAPI);t.WorkerMonacoAPI=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new r.SyncDescriptor(t))},t}(o.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=a}),define("vs/css!vs/monaco/ui/workbench/web/media/workbenchshell",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/web/workbenchShell",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/events","vs/base/strings","vs/base/assert","vs/base/types","vs/base/ui/widgets/shell/shell","vs/base/objects","vs/base/env","vs/platform/configuration/httpConfigurationService","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/dropdown","vs/platform/contextview/contextviewService","vs/monaco/core/requestService","vs/workbench/constants","vs/platform/storage/storage","vs/workbench/ui/workbench","vs/workbench/ui/actionRegistry","vs/workbench/ui/services","vs/workbench/contrib/git/gitWidgets","vs/platform/telemetry/mainTelemetryService","vs/monaco/contrib/feedback/feedback","vs/monaco/contrib/profile/profileWidget","vs/base/ui/widgets/dropdown/linksDropdown","vs/monaco/contrib/connect/connectDropdown","vs/monaco/ui/connectionIndicator","vs/monaco/contrib/actions/changeTheme","vs/monaco/ui/workbench/baseWorkbenchShell","vs/platform/files/httpFileService","vs/platform/search/httpSearchService","vs/base/severity","vs/editor/api/monaco.api","vs/editor/api/monaco.worker.api","vs/platform/thread/mainThreadService","vs/platform/thread/nullThreadService","vs/platform/eventService","vs/platform/configuration/keybindingService","vs/css!./media/workbenchshell"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,I,N,O,R,P,M,D,F,V,B,H,W,U,$){var j=o.$,z=function(e){function t(t,n,r,i){e.call(this,t),d.ok(p.isObject(n),"Monaco Workbench Shell requires a workspace to be created with"),this.workspace=n,this.configuration=r,this.options=m.mixin({},i),this.toDispose=[]}return __extends(t,e),t.prototype.createContents=function(t){var n=this,r=e.prototype.createContents.call(this,t),i=this.initServices();this.workbench=new S.Workbench(r.getHTMLElement(),this.workspace,this.configuration,this.options,i),this.workbench.startup({onBeforeUnload:function(){return n.modalView.onBeforeUnload()}});var o=i.threadService;return V.setup(i),B.MainProcessWorkerAPIHelper.getInstance(o),this.requestService.supportsRemoteEvents()&&(this.connectionIndicator=this.workbench.getInstantiationService().createInstance(O.ConnectionIndicator)),r},t.prototype.initServices=function(){var e=new U.EventService,t=new k.WorkspaceContextService({eventService:e},this.workspace,this.configuration,this.options);this.telemetryService=new x.MainTelemetryService(t,{enableTelemetry:f.enableTelemetry,publicOnly:f.enablePrivateTelemetry?!1:!0}),this.requestService=new _.RequestService({contextService:t,telemetryService:this.telemetryService,eventService:e});var n=new $.KeybindingService(window);this.toDispose.push(n),this.messageService=new P.WorkbenchShellMessageService({eventService:e,telemetryService:this.telemetryService,keybindingService:n},this.modalView),n.setMessageService(this.messageService),this.contextViewService=new y.ContextViewService(this.shellContainer,this.telemetryService,this.messageService),this.storageService=new E.Storage(this.workspace);var r=f.isTesting()?W.NULL_THREAD_SERVICE:new H.MainThreadService(t,this.telemetryService),i=new M.HttpFileService({contextService:t,eventService:e,requestService:this.requestService,telemetryService:this.telemetryService}),o=new v.HttpConfigurationService({contextService:t,eventService:e,fileService:i}),s={eventService:e,telemetryService:this.telemetryService,requestService:this.requestService,contextService:t,contextViewService:this.contextViewService,contextMenuService:this.contextViewService,messageService:this.messageService,storageService:this.storageService,keybindingService:n,fileService:i,configurationService:o,searchService:new D.HttpSearchService({requestService:this.requestService}),threadService:r};return s},t.prototype.fillNavBar=function(t){var r=this;e.prototype.fillNavBar.call(this,t),f.enableAzurePortalNavigation&&f.azureWebSiteName?t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n,i=window.location.hostname;i.indexOf(".scm")>=0?(t="http://"+i.replace(".scm",""),n="http://"+i+"/DebugConsole"):t="http://"+i;var o=r.workbench.getInstantiationService().createInstance(N.ConnectDropdownMenu,e,{contextMenuProvider:r.contextViewService,webSiteUrl:t,kuduConsoleUrl:n,workspaceName:f.azureWebSiteName});return function(){return o.dispose()}}):t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n=r.configuration.workspaces.map(function(e){var t=null;return e.id===r.workspace.id&&(t="check"),new I.LinkDropdownAction(e.id,e.name,t,r.configuration.paths.PUBLIC_WORKSPACE_URL(e))});n.push(new g.Separator),n.push(new I.LinkDropdownAction("browseWorkspaces",a.localize("vs_monaco_ui_workbench_web_workbenchShell",0),null,r.configuration.paths.PUBLIC_DASHBOARD_URL)),t=r.workspace.name;var i=new I.LinksDropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:n,tick:!0,label:t,tooltip:a.localize("vs_monaco_ui_workbench_web_workbenchShell",1)});return i.addListener(c.EventType.BEFORE_RUN,function(){r.telemetryService.log("workbenchWorkspaceSwitched")}),function(){return i.dispose()}}),f.enableGit&&t.addItem(!0,function(e){j(e).addClass("git");var t=r.workbench.getInstantiationService().createInstance(C.GitWorkbenchWidget,e);return t.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return t.dispose()}}),f.enableFeedback&&t.addItem(!1,function(e){var t=r.workbench.getInstantiationService().createInstance(A.FeedbackDropdown,e,{contextViewProvider:r.contextViewService});return function(){return t.dispose()}}),t.addItem(!1,function(e){j(e).addClass("help");var t=[];t=t.concat(r.createActions(["workbench.action.showQuickStart","workbench.action.showCommands"])),(f.supportLink||f.privacyLink||f.legalLink)&&t.push(new g.Separator),f.supportLink&&t.push(new s.Action("supportAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",2),null,!0,function(){return window.open(f.supportLink),n.Promise.as(!0)})),f.privacyLink&&t.push(new s.Action("privacyAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",3),null,!0,function(){return window.open(f.privacyLink),n.Promise.as(!0)})),f.legalLink&&t.push(new s.Action("legalAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",4),null,!0,function(){return window.open(f.legalLink),n.Promise.as(!0)}));var i=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return i.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},i.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),i.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return i.dispose()}}),t.addItem(!1,function(e){j(e).addClass("settings");var t=[];t.push(r.workbench.getInstantiationService().createInstance(R.ChangeThemeToLightAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToDarkAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToHighContrastAction)),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.pinWindow","workbench.action.toggleSidebarVisibility","workbench.action.toggleSidebarPosition"])),f.enablePerformanceTools&&(t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.showPerfBox"]))),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.openWorkspaceSettings"]));var n=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return n.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},n.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),n.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return n.dispose()}}),f.isInIframe()&&t.addItem(!1,function(e){return j(e).addClass("popout"),j(e).a({class:["button-link"],href:"https://"+f.azureWebSiteName+".scm.azurewebsite.net/saw",target:"_blank"}),null}),f.azureWebSiteScmType&&"None"!==f.azureWebSiteScmType&&t.addItem(!0,function(e){return j(e).div({class:["scm-warning"]},function(e){e.a({text:"Warning: Continuous Deployment May Be Enabled",class:["breadcrumb-entry"],href:"http://go.microsoft.com/fwlink/?LinkId=816520#continuous-deployment",target:"_blank"})}),null});var i=this.configuration.profile;if(i&&t.addItem(!1,function(e){j(e).addClass("profile");var t=new L.ProfileWidget(e,{contextViewProvider:r.contextViewService,labelRenderer:function(e){return j(e).text(i.userName),null}},i);return function(){return t.dispose()}}),f.azureWebSiteTryMode&&f.tryAzureLifeTimeInMinutes&&f.tryAzureLastModifiedUTC){var o=new Date(f.tryAzureLastModifiedUTC),l=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())),d=new Date(l.getTime()+60*Number(f.tryAzureLifeTimeInMinutes)*1e3).getTime();t.addItem(!1,function(e){j(e).addClass("trywaws");var t=window.setInterval(function(){var t=(new Date).getTime(),n=d-t;if(n>=0){var r,i=n/1e3,o=i/60;if(60>i)r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",5,u.pad(Math.floor(i),2));else{var o=i/60;r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",6,u.pad(Math.floor(o),2),u.pad(Math.floor(i)-60*Math.floor(o),2))}j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",7,r))}else j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",8))},1e3);return function(){return window.clearInterval(t)}})}},t.prototype.createActions=function(e){var t=this;return e.map(function(e){var n=l.Registry.as(T.Extensions.WorkbenchActions),r=n.getWorkbenchAction(e);if(r){var i=t.workbench.getInstantiationService().createInstance(r);return i}return null}).filter(function(e){return!!e})},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var n=this.storageService.get(w.Preferences.THEME,r.StorageScope.GLOBAL,h.toString(h.Theme.VS));this.setTheme(n,!1),this.toUnbind.push(this.storageService.addListener(r.StorageEventType.STORAGE,function(e){e.key===w.Preferences.THEME&&t.setTheme(e.newValue)}))},t.prototype.onUnexpectedError=function(t){e.prototype.onUnexpectedError.call(this,t),t.friendlyMessage&&this.messageService&&this.messageService.show(F.Error,t.friendlyMessage)},t.prototype.layout=function(){e.prototype.layout.call(this),this.contextViewService.layout(),this.workbench.layout()},t.prototype.dispose=function(t){if(this.workbench){var n=this.workbench.shutdown(t);if(n)return}this.contextViewService.dispose(),this.storageService.dispose(),this.connectionIndicator&&this.connectionIndicator.dispose(),this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(P.BaseWorkbenchShell);t.WorkbenchShell=z}),define("vs/css!vs/base/performance/timerRenderer",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/performance/timerRenderer",["require","exports","./timer","vs/base/dom/dom","vs/css!./timerRenderer"],function(e,t,n,r){var i=function(){function e(e){var t=this;this.timeKeeper=n.getTimeKeeper(),this.onHide=e,this.lastEventIndex=0,this.renderedEvents={},this.renderCnt=0,this.listenersToRemove=[],this.domNode=this._createDomNode(),this.intervalTokenId=window.setInterval(function(){return t._render()},500)}return e.prototype.destroy=function(){document.body.removeChild(this.outerDomNode),window.clearInterval(this.intervalTokenId),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype._createDomNode=function(){var e=this;this.outerDomNode=document.createElement("div"),this.outerDomNode.className="benchmarktimerbox";var t=document.createElement("input");t.type="button",t.value="Clear",this.listenersToRemove.push(r.addListener(t,"click",function(){return e._onClear()})),this.outerDomNode.appendChild(t),this.textFilterDomNode=document.createElement("input"),this.textFilterDomNode.type="text",this.textFilterDomNode.className="textFilter",this.listenersToRemove.push(r.addListener(this.textFilterDomNode,"keydown",function(){return e.onTextFilterChange()})),this.textFilter="",this.outerDomNode.appendChild(document.createTextNode("Filter")),this.outerDomNode.appendChild(this.textFilterDomNode),this.timeFilterDomNode=document.createElement("input"),this.timeFilterDomNode.type="text",this.timeFilterDomNode.value="0",this.timeFilterDomNode.className="timeFilter",this.listenersToRemove.push(r.addListener(this.timeFilterDomNode,"keydown",function(){return e.onTimeFilterChange()})),this.timeFilter=0,this.outerDomNode.appendChild(document.createTextNode("Hide time under")),this.outerDomNode.appendChild(this.timeFilterDomNode);var n=document.createElement("input");n.type="button",n.value="Close",this.listenersToRemove.push(r.addListener(n,"click",function(){e.onHide()})),this.outerDomNode.appendChild(n);var i=document.createElement("pre");i.appendChild(document.createTextNode(this.renderRow("TOPIC","NAME","TOOK","START","END"))),this.outerDomNode.appendChild(i),this.outerDomNode.appendChild(document.createElement("hr"));var o=document.createElement("div");return o.className="inner",this.outerDomNode.appendChild(o),document.body.appendChild(this.outerDomNode),o},e.prototype.onTextFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.onTimeFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.matchesTextFilter=function(e){return this.textFilter?e.topic.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:e.name.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:!1:!0},e.prototype.matchesTimeFilter=function(e){return this.timeFilter?e.timeTaken()>=this.timeFilter?!0:!1:!0},e.prototype.shouldShow=function(e){return this.matchesTextFilter(e)&&this.matchesTimeFilter(e)},e.prototype.refilter=function(){this.textFilter=this.textFilterDomNode.value,this.timeFilter=parseInt(this.timeFilterDomNode.value,10);for(var e=Array.prototype.slice.call(this.domNode.children,0),t=0;t<e.length;t++){var n=e[t].getAttribute("data-event-id"),r=this.renderedEvents[n];e[t].style.display=this.shouldShow(r)?"inherit":"none"}},e.prototype._onClear=function(){this.lastEventIndex=this.timeKeeper.getCollectedEvents().length,this.renderedEvents={},this.renderCnt=0,r.clearNode(this.domNode)},e.prototype.leftPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return r+n},e.prototype.rightPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return n+r},e.prototype.renderRow=function(e,t,n,r){var i=" ";return i+=this.rightPaddedString(10," ",e),i+=this.rightPaddedString(30," ",t),i+=" "+this.leftPaddedString(15," ",n),i+=" "+this.leftPaddedString(13," ",r)},e.prototype._suffix0=function(e){return"."===e.charAt(e.length-3)?e:"."===e.charAt(e.length-2)?e+"0":e+".00"},e.prototype._twoPrecision=function(e){return this._suffix0(Math.round(100*e)/100+"")},e.prototype._absoluteTime=function(e){return 1e3>e?this._twoPrecision(e)+" ms":(e/=1e3,60>e?this._twoPrecision(e)+" s":(e/=60,60>e?this._twoPrecision(e)+" m":(e/=60,this._twoPrecision(e)+" h")))},e.prototype._renderEvent=function(e,t){var r=t.startTime.getTime()-n.TimeKeeper.PARSE_TIME.getTime(),i=this.renderRow(t.topic,t.name,this._twoPrecision(t.timeTaken()),this._absoluteTime(r)+"",this._absoluteTime(r+t.timeTaken()));e.textContent="",e.appendChild(document.createTextNode(i))},e.prototype._renderStartTimerEvent=function(e){var t=document.createElement("pre");this._renderEvent(t,e),this.domNode.appendChild(t);var n=e.id.toString();t.setAttribute("data-event-id",n),t.className="timer-event-"+e.id%2,this.renderedEvents[n]=e,t.style.display=this.shouldShow(this.renderedEvents[n])?"inherit":"none",this.renderCnt++},e.prototype._render=function(){for(var e=this.timeKeeper.getCollectedEvents(),t=!1,n=this.lastEventIndex;n<e.length;n++){var r=e[n];if(!r.stopTime)return this.lastEventIndex=n,t&&(this.domNode.scrollTop=1e5),void 0;this._renderStartTimerEvent(r),t=!0}t&&(this.domNode.scrollTop=1e5),this.lastEventIndex=e.length},e.prototype._repeatStr=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},e}();t.TimeKeeperRenderer=i
 });var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/showPerformanceBox",["require","exports","vs/base/lib/winjs.base","vs/base/performance/timerRenderer","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.showPerfBox",u="Display Performance Box",d=null,p=function(e){function t(){e.call(this,c,u,null,!0)}return __extends(t,e),t.prototype.run=function(){return null===d&&(d=new r.TimeKeeperRenderer(function(){d.destroy(),d=null})),n.Promise.as(!0)},t}(o.Action);if(t.ShowPerformanceBox=p,s.enablePerformanceTools){var h=i.Registry.as(l.Extensions.WorkbenchActions);h.registerWorkbenchAction(new a.SyncActionDescriptor(p,c,u))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/showQuickStart",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.showQuickStart",u=r.localize("vs_monaco_contrib_actions_showQuickStart",0),d=function(e){function t(t){e.call(this,c,u),this.partService=t.partService}return __extends(t,e),t.prototype.run=function(){return this.partService.showQuickStart(),n.Promise.as(null)},t}(o.Action);if(t.ShowQuickStartAction=d,s.enableQuickStart){var p=i.Registry.as(l.Extensions.WorkbenchActions);p.registerWorkbenchAction(new a.SyncActionDescriptor(d,c,u))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/pinWorkbench",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a){var l="workbench.action.pinWindow",c=r.localize("vs_monaco_contrib_actions_pinWorkbench",0),u=function(e){function t(){e.call(this,l,c)}return __extends(t,e),t.prototype.run=function(){return window.external.msAddSiteMode(),n.Promise.as(null)},t}(o.Action);t.PinWorkbenchAction=u;var d=window.external&&"external"in window&&"msAddSiteMode"in window.external;if(d){var p=i.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(u,l,c))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/openSettings",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/uri","vs/base/severity","vs/base/network","vs/base/ui/labels","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/editor/stringEditorInput","vs/platform/configuration/model"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(e){function t(t,n,r){e.call(this,n,r),this.editorService=t.editorService,this.fileService=t.fileService,this.contextService=t.contextService,this.textFileService=t.textFileService,this.configurationService=t.configurationService,this.messageSerivce=t.messageService,this.instantiationService=t.instantiationService,this.enabled=!0}return __extends(t,e),t.prototype.createIfNotExists=function(e,t){var o=this;return this.fileService.resolveContent(e,!0).then(null,function(s){return s.fileOperationResult===r.Files.FileOperationResult.FILE_NOT_FOUND?o.fileService.updateContent({resource:e,value:t}).then(null,function(t){return n.Promise.wrapError(new Error(i.localize("vs_monaco_contrib_actions_openSettings",0,c.getPathLabel(e,o.contextService),t)))}):n.Promise.wrapError(s)})},t.prototype.openTwoEditors=function(e,t,n){var i=this,o={resource:t};return this.textFileService.getWorkingFilesModel().addEntry(t),this.createIfNotExists(t,n).then(function(){return i.editorService.inputToType(o).then(function(t){return i.editorService.setEditors([e,t]).then(function(){return i.editorService.focusEditor(r.Position.CENTER)})})})},t}(d.Action);t.BaseTwoEditorsAction=v;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.open=function(e,t){var n=f.getDefaultValuesContent(),r="// "+i.localize("vs_monaco_contrib_actions_openSettings",1),o=new w(i.localize("vs_monaco_contrib_actions_openSettings",2),null,r+"\n"+n,"application/json");return this.openTwoEditors(o,t,e)},t}(v);t.BaseOpenSettingsAction=g;var b=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){var e=this;if(this.configurationService.hasWorkspaceConfiguration()){var t=this.messageSerivce.show(a.Info,{message:i.localize("vs_monaco_contrib_actions_openSettings",3),actions:[new d.Action("close.message",i.localize("vs_monaco_contrib_actions_openSettings",4),null,!0,function(){return n.Promise.as(!0)}),new d.Action("open.workspaceSettings",i.localize("vs_monaco_contrib_actions_openSettings",5),null,!0,function(){var t=e.editorService.getVisibleEditors().length;return e.editorService.openEditor({resource:e.contextService.toResource("/.settings/settings.json")},2===t?r.Position.RIGHT:1===t?r.Position.CENTER:void 0)})]});setTimeout(function(){return t()},1e4)}var l=i.localize("vs_monaco_contrib_actions_openSettings",6);return this.open("// "+l+"\n{\n}",s.file(o.appSettingsPath))},t.ID="workbench.action.openGlobalSettings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",7),t}(g);t.OpenGlobalSettingsAction=b;var y=function(e){function t(n){e.call(this,n,t.ID,t.LABEL),this.keybindingService=n.keybindingService}return __extends(t,e),t.prototype.run=function(){var e="// "+i.localize("vs_monaco_contrib_actions_openSettings",8)+"\n[\n]",t="// "+i.localize("vs_monaco_contrib_actions_openSettings",9),n=this.keybindingService.getDefaultKeybindings(),r=new E(i.localize("vs_monaco_contrib_actions_openSettings",10),null,t+"\n"+n,"application/json");return this.openTwoEditors(r,s.file(o.appKeybindingsPath),e)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",11),t}(v);t.OpenGlobalKeybindingsAction=y;var _=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){if(!this.contextService.getWorkspace())return this.messageSerivce.show(a.Info,i.localize("vs_monaco_contrib_actions_openSettings",12)),void 0;var e=["// "+i.localize("vs_monaco_contrib_actions_openSettings",13),"{","}"].join("\n");return this.open(e,this.contextService.toResource("/.settings/settings.json"))},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=o.isNative?i.localize("vs_monaco_contrib_actions_openSettings",14):i.localize("vs_monaco_contrib_actions_openSettings",15),t}(g);t.OpenWorkspaceSettingsAction=_;var w=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.settings/defaults.json")},t}(m.StringEditorInput),E=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.keybindings/defaults.json")},t}(m.StringEditorInput),S=i.localize("vs_monaco_contrib_actions_openSettings",16),T=u.Registry.as(h.Extensions.WorkbenchActions);o.isNative&&(T.registerWorkbenchAction(new p.SyncActionDescriptor(b,b.ID,b.LABEL,{primary:null,mac:{primary:{ctrlCmd:!0,key:","}}}),S),T.registerWorkbenchAction(new p.SyncActionDescriptor(y,y.ID,y.LABEL),S)),T.registerWorkbenchAction(new p.SyncActionDescriptor(_,_.ID,_.LABEL),S)}),define("vs/monaco/ui/workbench/web/workbench.main",["vs/base/strings","vs/base/errors","vs/base/cookiesUtil","vs/editor/editor.all","vs/languages/languages.compat","vs/workbench/workbench.web","vs/monaco/ui/workbench/web/workbenchShell","vs/monaco/contrib/actions/showPerformanceBox","vs/monaco/contrib/actions/showQuickStart","vs/monaco/contrib/actions/pinWorkbench","vs/monaco/contrib/actions/openSettings"],function(){});
\ No newline at end of file
diff -ruN --ignore-all-space monaco_original/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js.rej monaco_hacked/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js.rej
--- monaco_original/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js.rej	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js.rej	2017-02-23 08:47:17.063015500 +0000
@@ -0,0 +1,9 @@
+--- monaco_original/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js	2017-01-27 09:15:41.635172600 +0000
++++ monaco_hacked/client/0236a99c/vs/monaco/ui/workbench/web/workbench.main.js	2017-02-23 06:33:25.878467000 +0000
+@@ -279,5 +279,5 @@
+ return e.editorService.openEditor(a,null,n)})}),this.actions},t}(m.DropdownMenuActionItem);t.ToggleConsolesMenuActionItem=x;var A=function(e){function t(t,n,r){e.call(this,t,n,r,a.Behaviour.WidgetFocus|a.Behaviour.ShowInContextMenu),this._myEditorService=t.editorService}return __extends(t,e),t.prototype.getGroupId=function(){return"clear"},t.prototype.isSupported=function(){var t=this.editor.getModel().getMode();return t&&t.getId()===c.MODE_ID&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e=this._myEditorService.getActiveEditor();if(e&&e.getId()===c.TERMINAL_EDITOR_ID){var t=e;return t.clearConsole(),n.TPromise.as(!0)}return n.TPromise.as(!1)},t.ID="editor.action.clearconsole",t}(a.EditorAction);t.ClearConsoleEditorAction=A}),define("vs/css!vs/workbench/contrib/terminal/media/terminalActions.contribution",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/terminal/terminalActions.contribution",["require","exports","vs/platform/platform","vs/base/env","vs/base/ui/widgets/actionbar","vs/workbench/ui/actionBarRegistry","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/editor/editorExtensions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/editor/baseEditor","vs/base/ui/widgets/toolbar/toolbar","vs/workbench/contrib/files/files","vs/base/strings","vs/workbench/contrib/terminal/terminalInput","vs/workbench/contrib/terminal/terminalActions","vs/css!./media/terminalActions.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=[".exe",".cmd",".bat"],g=[".ps1",".ps"],b=[".zip"],y=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService,this.contextService=t.contextService}return __extends(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,n=p.asFileResource(t);return n?!n.isDirectory&&(v.some(function(e){return h.endsWith(n.resource.path,e)})||g.some(function(e){return h.endsWith(n.resource.path,e)})||b.some(function(e){return h.endsWith(n.resource.path,e)})):!1},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var n=p.asFileResource(e.element),r=this.contextService.toWorkspaceRelativePath(n.resource);if(v.some(function(e){return h.endsWith(n.resource.path,e)})){var o=this.instantiationService.createInstance(f.RunAnyFileAction,r);o.order=0,t.push(o)}else if(g.some(function(e){return h.endsWith(n.resource.path,e)})){var s=this.instantiationService.createInstance(f.PSFileAction,r);s.order=0,t.push(s)}else if(b.some(function(e){return h.endsWith(n.resource.path,e)})){var a=this.instantiationService.createInstance(f.UnzipFileAction,r);a.order=0,t.push(a)}}return t.length>0&&t.push(new i.Separator("",1)),t},t}(o.ActionBarContributor),_=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActions=function(e){return e===d.CONTEXT},t.prototype.getActions=function(){return[this.instantiationService.createInstance(f.GlobalConsoleAction)]},t.prototype.getActionItem=function(e,t){return t.id===f.GlobalConsoleAction.ID?this.instantiationService.createInstance(f.GlobalConsoleActionItem,t):null},t}(o.ActionBarContributor),w=function(e){function t(t){e.call(this,["application/exe","application/textedit","text/x-bat"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.RunAnyFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),E=function(e){function t(t){e.call(this,["text/x-powershell"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.PSFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),S=function(e){function t(t){e.call(this,["application/zip"]),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(){return!0},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.UnzipFileEditorInputAction)]},t}(p.FileEditorInputActionContributor),T=function(e){function t(t){e.call(this),this.instantiationService=t.instantiationService}return __extends(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof m.TerminalInput},t.prototype.getActionsForEditorInput=function(){return[this.instantiationService.createInstance(f.OpenNewConsoleEditorInputAction),this.instantiationService.createInstance(f.ToggleConsolesMenuAction)]},t.prototype.getActionItem=function(t,n){return n.id===f.ToggleConsolesMenuAction.ID?this.instantiationService.createInstance(f.ToggleConsolesMenuActionItem,n):e.prototype.getActionItem.call(this,t,n)},t}(u.EditorInputActionContributor);if(r.enableConsole){var k=n.Registry.as(o.Extensions.Actionbar);k.registerActionBarContributor(o.Scope.VIEWER,y),n.Registry.as(c.Extensions.WorkbenchActions).registerWorkbenchAction(new l.SyncActionDescriptor(f.GlobalConsoleAction,"workbench.terminal.action.openConsole",s.localize("vs_workbench_contrib_terminal_terminalActions.contribution",0),{primary:{ctrlCmd:!0,shift:!0,key:"C"},mac:{primary:{winCtrl:!0,shift:!0,key:"C"}}}));var k=n.Registry.as(o.Extensions.Actionbar);k.registerActionBarContributor(o.Scope.GLOBAL,_),k.registerActionBarContributor(o.Scope.EDITOR,w),k.registerActionBarContributor(o.Scope.EDITOR,S),k.registerActionBarContributor(o.Scope.EDITOR,E),k.registerActionBarContributor(o.Scope.EDITOR,T),a.registerEditorActionContribution(f.ClearConsoleEditorAction,f.ClearConsoleEditorAction.ID,s.localize("vs_workbench_contrib_terminal_terminalActions.contribution",1))}}),define("vs/workbench/contrib/tfs/tfs",["require","exports"],function(e,t){!function(e){e[e.Unavailable=0]="Unavailable",e[e.Uninitialized=1]="Uninitialized",e[e.Initialized=2]="Initialized",e[e.Connected=3]="Connected",e[e.Disconnected=4]="Disconnected"}(t.ServiceState||(t.ServiceState={}));t.ServiceState;t.ServiceEvents={STATE_CHANGED:"state",ERROR:"error"},t.TFS_SERVICE_ID="tfsService"});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/tfs/tfsService",["require","exports","vs/base/env","vs/base/errors","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/workbench/contrib/tfs/tfs"],function(e,t,n,r,i,o,s){var a=function(e){function t(t){var r=this;e.call(this),this.requestService=t.requestService,this._state=n.enableTFSConnection?s.ServiceState.Uninitialized:s.ServiceState.Unavailable,this._account=null,this._server=null,this._state===s.ServiceState.Uninitialized&&(this.transition(s.ServiceState.Initialized),this.refresh().done(function(e){r._account=e.account,r._server=e.server,r.transition(s.ServiceState.Connected)},function(){r._account=null,r._server=null,r.transition(s.ServiceState.Disconnected)}))}return __extends(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"account",{get:function(){return this._account},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return this.wrap(this.requestService.makeRequest({type:"GET",url:this.requestService.getRequestUrl("tfs","status")}))},t.prototype.getConnectURL=function(){return this.requestService.getRequestUrl("tfs")+"?origin="+encodeURIComponent(window.location.href)},t.prototype.disconnect=function(){var e=this;return this.wrap(this.requestService.makeRequest({type:"DELETE",url:this.requestService.getRequestUrl("tfs")})).then(function(){return e.doDisconnect()})},t.prototype.getRepositories=function(){return this.wrap(this.requestService.makeRequest({type:"GET",url:this.requestService.getRequestUrl("tfs","repositories")}))},t.prototype.transition=function(e){var t=this._state!==e;this._state=e,t&&this.emit(s.ServiceEvents.STATE_CHANGED,e)},t.prototype.doDisconnect=function(){this._account=null,this._server=null,this.transition(s.ServiceState.Disconnected)},t.prototype.wrap=function(e){var t=this;return e.then(function(e){if(204===e.status||1223===e.status)return null;try{return JSON.parse(e.responseText)}catch(t){return i.Promise.wrapError(t)}},function(e){return r.isPromiseCanceledError(e)?void 0:(401===e.status&&t.doDisconnect(),i.Promise.wrapError(new r.ConnectionError(e)))})},t.prototype.beforeShutdown=function(){return null},t}(o.EventEmitter);t.TFSService=a}),define("vs/workbench/contrib/tfs/tfs.contribution",["require","exports","vs/platform/platform","vs/workbench/core/extensions","./tfsService","./tfs"],function(e,t,n,r,i,o){n.Registry.as(r.Extensions.Services).registerService(new r.WorkbenchServiceDescriptor(i.TFSService,o.TFS_SERVICE_ID))}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsightsTelemetryAppender",["require","exports","vs/base/objects","vs/base/types","vs/base/hash"],function(e,t,n,r,i){var o={instrumentationKey:void 0,url:"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",endpointUrl:"https://dc.services.visualstudio.com/v2/track",accountId:void 0,autoCollectErrors:void 0,appUserId:void 0,diagnosticLogInterval:void 0,disableTelemetry:!1,enableDebug:!1,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,maxPayloadSizeInBytes:void 0,sessionExpirationMs:void 0,sessionRenewalMs:void 0,verboseLogging:void 0},s=function(){function e(e,t,r){if(this.addCommonMetrics=function(e){for(var t in this.commonMetrics)e["common."+t]=this.commonMetrics[t];return e},this.commonProperties={},this.commonMetrics={},e&&e.contextService&&(this.contextService=e.contextService),this.appInsightsConfig=n.withDefaults(t,o),this.contextService&&this.contextService.getConfiguration()&&this.contextService.getConfiguration().profile){var s=this.contextService.getConfiguration().profile.userEmail;if(s){var a=i.computeMurmur2StringHashCode(s).toString();this.appInsightsConfig.appUserId=a}}return r?(this.appInsights=r,void 0):(this.appInsightsConfig.instrumentationKey&&(window.appInsights=window.appInsights||function(e){function t(e){i[e]=function(){var t=arguments;i.queue.push(function(){i[e].apply(i,t)})}}var n,r,i={config:e},o=document,s=window,a="script",l=o.createElement(a);for(l.src=e.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",o.getElementsByTagName(a)[0].parentNode.appendChild(l),i.cookie=o.cookie,i.queue=[],n=["Event","Exception","Metric","PageView","Trace"];n.length;)t("track"+n.pop());return e.disableExceptionTracking||(n="onerror",t("_"+n),r=s[n],s[n]=function(e,t,o,s,a){var l=r&&r(e,t,o,s,a);return l!==!0&&i["_"+n](e,t,o,s,a),l}),i}(this.appInsightsConfig),this.appInsights=window.appInsights,this.appInsights.trackPageView("monacoWorkbench",window.location.origin)),void 0)}return e.prototype.log=function(t,n,r){if(this.appInsights){"UnhandledError"===t&&r&&this.appInsights.trackException(r);var i=this.getData(n,r);this.appInsights.trackEvent(e.EVENT_NAME_PREFIX+t,i.properties,i.measurements)}},e.prototype.dispose=function(){this.appInsights=null,window.appInsights=null},e.prototype.getData=function(e,t){var n={},i={};n.isPublic=e?"public":"restricted";var o=this.flaten(t);for(var s in o){var a=s&&s.length>150?s.substr(s.length-149):s,l=o[s];if(r.isNumber(l))i[a]=l;else if(r.isBoolean(l))i[a]=l?1:0;else if(r.isString(l)){var c=l&&l.length>1024?l.substring(0,1023):l;n[a]=c}else r.isUndefined(l)||null===l||(n[a]=l)}return n=this.addCommonProperties(n),i=this.addCommonMetrics(i),{properties:n,measurements:i}},e.prototype.flaten=function(e,t,i){void 0===t&&(t=0);for(var o={},s=e?Object.getOwnPropertyNames(e):[],a=0;a<s.length;a++){var l=s[a],c=i?i+l:l;if(r.isArray(e[l]))o[c]=n.safeStringify(e[l]);else if(e[l]instanceof Date)o[c]=e[l].toISOString();else if(r.isObject(e[l]))if(2>t){var u=this.flaten(e[l],t+1,c+".");for(var d in u)o[d]=u[d]}else o[c]=n.safeStringify(e[l]);else o[c]=e[l]}return o},e.prototype.addCommonProperties=function(e){for(var t in this.commonProperties)e["common."+t]=this.commonProperties[t];return e},e.EVENT_NAME_PREFIX="monacoworkbench/",e}();t.AppInsightsTelemetryAppender=s}),define("vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsights.Telemetry.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/platform/telemetry/abstractTelemetryService","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsightsTelemetryAppender","vs/base/env"],function(e,t,n,r,i,o,s){if(s.appInsightsInstrumentationKey){var a=new r.SyncDescriptor(o.AppInsightsTelemetryAppender,{instrumentationKey:s.appInsightsInstrumentationKey});n.Registry.as(i.Extenstions.TelemetryAppenders).registerTelemetryAppenderDescriptor(a)}}),define("vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monacoTelemetryAppender",["require","exports","vs/base/objects","vs/base/env"],function(e,t,n,r){var i=function(){function e(t){this.eventQueue=[],this.eventMaxQueueSize=e.EVENT_QUEUE_LIMIT,this.eventBatchSize=e.EVENT_BATCH_SIZE,this.failureCount=0,this.sendingEvents=!1,this.waitIntervalId=null,this.toUnbind=[],t&&t.requestService&&(this.requestService=t.requestService)}return e.prototype._safeStringify=function(e){return n.safeStringify(e)},e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.oldOnError&&(self.onerror=this.oldOnError)},e.prototype.log=function(e,t,i){var o=t?"public":"restricted";if(!(this.eventQueue.length>=this.eventMaxQueueSize)){var s=i?i.timestamp:null,a=i?i.sessionID:null,l=n.deepClone(i||{});l.source="client",l.version={clientVersion:r.version},delete l.sessionID,delete l.timestamp;var c={name:e,kind:o,timestamp:s,data:this._safeStringify(l),sessionID:a};this.eventQueue.push(c),this.sendingEvents||this.failureCount>0||(this.eventQueue.length>this.eventBatchSize?(clearTimeout(this.waitIntervalId),this.waitIntervalId=null,this.sendEvents()):this.sendSoon())}},e.prototype.sendSoon=function(){var t=this;null===this.waitIntervalId&&(this.waitIntervalId=setTimeout(function(){t.waitIntervalId=null,t.sendEvents()},e.EVENT_INTERVAL*Math.pow(2,this.failureCount)))},e.prototype.sendEvents=function(){var e=this;this.sendingEvents=!0;var t=this.eventQueue.splice(0,this.eventBatchSize);this.submitToServer(t).then(function(){e.failureCount=0},function(){e.eventQueue.unshift.apply(e.eventQueue,t),e.failureCount++}).done(function(){e.sendingEvents=!1,e.eventQueue.length>0&&e.sendSoon()})},e.prototype.submitToServer=function(e){var t=JSON.stringify(e),n=this.requestService.getRequestUrl("telemetry"),r={type:"POST",url:n,data:t,headers:{"Content-Type":"application/json"}};return this.requestService.makeRequest(r)},e.prototype.getQueueLength=function(){return this.eventQueue.length},e.EVENT_QUEUE_LIMIT=1e4,e.EVENT_INTERVAL=3e4,e.EVENT_BATCH_SIZE=100,e}();t.MonacoTelemetryAppender=i}),define("vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monaco.Telemetry.contribution",["require","exports","vs/platform/platform","vs/platform/services","vs/platform/telemetry/abstractTelemetryService","vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monacoTelemetryAppender","vs/base/env"],function(e,t,n,r,i,o,s){if(s.enableMonacoTelemetryPipeLine){var a=new r.SyncDescriptor(o.MonacoTelemetryAppender);n.Registry.as(i.Extenstions.TelemetryAppenders).registerTelemetryAppenderDescriptor(a)}}),define("vs/workbench/workbench.web",["vs/workbench/workbench.common","vs/workbench/contrib/testing/test.contribution","vs/workbench/contrib/terminal/terminal.contribution","vs/workbench/contrib/terminal/terminalActions.contribution","vs/workbench/contrib/tfs/tfs.contribution","vs/workbench/contrib/telemetry/appenders/appInsightsTelemetryAppender/appInsights.Telemetry.contribution","vs/workbench/contrib/telemetry/appenders/monacoTelemetryAppender/monaco.Telemetry.contribution"],function(){});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/configuration/httpConfigurationService",["require","exports","vs/base/arrays","vs/platform/configuration/configurationService"],function(e,t,n,r){var i=function(e){function t(t){e.call(this,t),this.fileService=t.fileService}return __extends(t,e),t.prototype.resolveContents=function(e){var t=this;return this.fileService.resolveContents(n.coalesce(e.map(function(e){return t._contextService.toWorkspaceRelativePath(e)})))},t.prototype.resolveContent=function(e){return this.fileService.resolveContent(e)},t.prototype.resolveStat=function(e){return this.fileService.resolveFileStat(this._contextService.toWorkspaceRelativePath(e))},t}(r.ConfigurationService);t.HttpConfigurationService=i}),define("vs/monaco/core/remoteEvents",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/time/idleMonitor"],function(e,t,n,r,i,o){function s(e,t,n,r){c&&(console.log("Client: "+t+" "+n),r&&console.log(r)),r&&(r=JSON.stringify(r));var i={type:t,url:n,data:r,customRequestConfiguration:{timeout:h}};return r&&(i.headers={"Content-Type":"application/json"}),e.makeRequest(i).then(function(e){var r=JSON.parse(e.responseText);return c&&(console.log("Server, in reply to: "+t+" "+n),console.log(r)),r})}function a(){var e={promise:null,onComplete:null,onError:null,onProgress:null,onCancel:null};return e.promise=new r.Promise(function(t,n,r){e.onComplete=t,e.onError=n,e.onProgress=r},function(){e.onCancel&&e.onCancel()}),e}var l,c=!1,u="connect",d="longpoll",p=2e4,h=3*p,m=[{minWait:1,maxWait:3},{minWait:3,maxWait:10},{minWait:10,maxWait:30},{minWait:30,maxWait:60},{minWait:60,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},{minWait:300,maxWait:300},null];!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(l||(l={}));var f=function(){function e(e){this.requestService=e,this.url=this.requestService.getRequestUrl("events"),this.delegateEventEmitter=new i.EventEmitter,this.stateChangeEventEmitter=new i.EventEmitter,this.idleMonitor=new o.IdleMonitor,this.disconnectedStatePromise=null,this.setState(l.IDLE,!1),this.clientId=null,this.lastEventId="0",this.outgoingQueue=new b}return e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addListener=function(e,t){return this.state===l.IDLE&&this.setStateToDisconnected(!1),this.delegateEventEmitter.addListener(e,t)},e.prototype.addStateChangeListener=function(e){return this.stateChangeEventEmitter.addListener2("stateChanged",e)},e.prototype.emit=function(e,t){this.state===l.IDLE&&this.setStateToDisconnected(!1);var n=a(),r={event:e,data:t,pc:n.onComplete,pe:n.onError,timestamp:(new Date).getTime()};return this.emitToServer(r),n.promise},e.prototype.setStateToConnected=function(){var e=this;this.state!==l.CONNECTED&&(this.setState(l.CONNECTED,!0),c&&console.log("CLIENT ENTERING CONNECTED STATE"),this._connect().then(null,function(){e.setStateToDisconnected(!0)},function(t){e.lastEventId=t.lastEventId;for(var n=t.events,r=0,i=n.length;i>r;r++)e.delegateEventEmitter.emit(n[r].event,n[r].data)}),this.outgoingQueue.isEmpty()||this.emitToServerWhileConnected(this.outgoingQueue.popAll()))},e.prototype._connect=function(){return v.beginLongPoll(this.requestService,this.idleMonitor,this.url+d,this.clientId,this.lastEventId)},e.prototype.setState=function(e,t){this.state=e,t&&this._emitStateChanged(this.state===l.CONNECTED)},e.prototype._emitStateChanged=function(e,t){void 0===t&&(t=0);var r={state:e?n.ConnectionState.CONNECTED:n.ConnectionState.DISCONNECTED,canReconnect:!0,nextConnectAttempt:t};this.stateChangeEventEmitter.emit("stateChanged",r)},e.prototype.setStateToDisconnected=function(e){this.state!==l.DISCONNECTED&&(this.setState(l.DISCONNECTED,e),c&&console.log("CLIENT ENTERING DISCONNECTED STATE"),this.disconnectedStatePromise=this._connectNow())},e.prototype.tryReconnectNow=function(){this.state===l.DISCONNECTED&&(this.disconnectedStatePromise.cancel(),this._emitStateChanged(!1),this.disconnectedStatePromise=this._connectNow())},e.prototype._connectNow=function(){var e=this;return this._reallyConnectNow().then(function(t){c&&console.log("CLIENT had clientId: "+e.clientId+", gets new clientId: "+t),e.clientId=t,e.setStateToConnected()},function(t){"tooManyRetries"===t&&(console.warn("Server connection is lost since more than 30mins. Giving up."),e._emitStateChanged(!1,-1))},function(t){console.warn("Server connection is lost. Reconnecting in "+t+" ms."),e._emitStateChanged(!1,t)})},e.prototype._reallyConnectNow=function(){return g.connect(this.requestService,this.url+u,this.clientId)},e.prototype.emitToServerWhileConnected=function(e){var t=this;this._emitToServerWhileConnected(e).then(function(){for(var t=0,n=e.length;n>t;t++)e[t].pc(null)},function(){t.outgoingQueue.pushEvents(e),t.setStateToDisconnected(!0)})},e.prototype._emitToServerWhileConnected=function(e){return v.sendOutgoingEvents(this.requestService,this.url,this.clientId,e)},e.prototype.emitToServer=function(e){this.state===l.CONNECTED?this.emitToServerWhileConnected([e]):this.outgoingQueue.pushEvents([e])},e}();t.RemoteEvents=f;var v=function(){function e(){}return e.sendOutgoingEvents=function(e,t,n,r){for(var i=[],o=0,a=r.length;a>o;o++)i[o]={timestamp:r[o].timestamp,event:r[o].event,data:r[o].data};var l={clientId:n,events:i};return s(e,"POST",t,l).then(function(e){if(!e.success)throw new Error(e.reason);return e})},e._createLongPollRequest=function(e,t,n,r){var i={clientId:n,lastEventId:r};return s(e,"POST",t,i)},e._recursiveLongPoll=function(t,n,r,i,s,a,l){e._createLongPollRequest(t,r,i,s).then(function(s){if(!s.success)return l(s.reason),void 0;var c=s.lastEventId;n.getStatus()===o.UserStatus.Idle?n.addOneTimeActiveListener(function(){e._recursiveLongPoll(t,n,r,i,c,a,l)}):e._recursiveLongPoll(t,n,r,i,c,a,l),setTimeout(function(){a(s)},0)}).done(null,l)},e.beginLongPoll=function(t,n,r,i,o){var s=a();return e._recursiveLongPoll(t,n,r,i,o,s.onProgress,s.onError),s.promise},e}(),g=function(){function e(){}return e.createConnectRequest=function(e,t,n){var r={clientId:n};return s(e,"POST",t,r)},e._recursiveConnect=function(t,n,r,i,o,s,a){var l=-1,u=!1,d=!1,p=null,h=function(){c&&console.info("onCancel..."),u||(u=!0,d=!0,p.cancel(),-1!==l&&(clearTimeout(l),l=-1))},f=function(){p=e.createConnectRequest(t,r,i),p.then(function(e){u=!0,s(e.clientId)}).done(null,function(){if(!d){var e=m[Math.min(n,m.length-1)];if(e){var t=e.maxWait-e.minWait,r=e.minWait+t*Math.random(),i=Math.round(1e3*r);o(i),l=setTimeout(function(){l=-1,n++,f()},i)}else u=!0,a("tooManyRetries")}})};return f(),h},e.connect=function(t,n,r){var i=a();return i.onCancel=e._recursiveConnect(t,0,n,r,i.onProgress,i.onComplete,i.onError),i.promise},e}(),b=function(){function e(){this.events=[]}return e.prototype.pushEvents=function(e){this.events=this.events.concat(e),this.events.sort(function(e,t){return e.timestamp-t.timestamp})},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.popAll=function(){var e=this.events;return this.events=[],e},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/longPollRemoteEvents",["require","exports","vs/monaco/core/remoteEvents"],function(e,t,n){var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(n.RemoteEvents);t.RemoteEvents=r}),define("vs/monaco/core/remoteEventChannels",["require","exports","vs/base/lib/winjs.base","vs/base/eventEmitter","vs/base/errors","vs/platform/services"],function(e,t,n,r,i,o){function s(e,t,n){return{type:p,payload:n,handshakeToken:e,route:t}}function a(e,t){return{type:m,payload:t,channelId:e}}function l(e,t,n){return{type:f,payload:n,channelId:e,requestId:t}}function c(e,t){return{type:g,payload:t,channelId:e}}function u(e,t){return{type:h,payload:t,handshakeToken:e,channelId:null}}var d="eventChannel",p=1,h=2,m=3,f=4,v=5,g=6,b=function(){function e(e,t){this.isClosed=!1,this.channelId=t,this.remoteEventsChannels=e,this.listenerDelegate=new r.EventEmitter,this.lastRequestId=0,this.pendingRequests={}}return e.prototype.addListener=function(e,t){return this.isClosed?null:this.listenerDelegate.addListener(e,t)},e.prototype.emit=function(e){if(!this.isClosed){var t=a(this.channelId,e);this.remoteEventsChannels.emit(t).done(null,i.onUnexpectedError)}},e.prototype.onServerEventMessage=function(e){this.isClosed||this.listenerDelegate.emit("server",e)},e.prototype.onServerReplyMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pc(t)}},e.prototype.onServerReplyErrorMessage=function(e,t){if(!this.isClosed&&this.pendingRequests.hasOwnProperty(e)){var n=this.pendingRequests[e];delete this.pendingRequests[e],n.pe(t)}},e.prototype.request=function(e){var t=this;if(this.isClosed)return n.Promise.wrapError("event channel is closed");var r=(++this.lastRequestId).toString(),o=null,s=new n.Promise(function(e,t,n){o={pc:e,pe:t,pp:n}},function(){}),a=l(this.channelId,r,e);return this.remoteEventsChannels.emit(a).then(null,function(e){t.onServerReplyErrorMessage(r,e)}).done(null,i.onUnexpectedError),this.pendingRequests[r]=o,s},e.prototype.doClose=function(e,t){if(!this.isClosed){if(this.isClosed=!0,"clientClose"===e){var n=c(this.channelId,t);this.remoteEventsChannels.emit(n).done(null,i.onUnexpectedError)}("serverClose"===e||"socketDisconnect"===e)&&this.listenerDelegate.emit("close",{reason:e,detail:t});for(var r in this.pendingRequests)this.pendingRequests.hasOwnProperty(r)&&this.pendingRequests[r].pe({reason:e,detail:t});this.pendingRequests={},this.remoteEventsChannels.onCloseChannel(this.channelId),this.listenerDelegate.dispose(),this.listenerDelegate=null,this.remoteEventsChannels=null}},e.prototype.onServerCloseChannelMessage=function(e){this.doClose("serverClose",e)},e.prototype.onDisconnect=function(e){this.doClose("socketDisconnect",e)},e.prototype.close=function(e){void 0===e&&(e=""),this.doClose("clientClose",e)},e}(),y=function(){function e(e){var t=this;this.remoteEvents=e,this.channels={},this.pendingChannels={},this.remoteEvents.on(d,function(e){return t.onServerMessage(e)}),this.remoteEvents.addStateChangeListener(function(e){if(e.state!==o.ConnectionState.CONNECTED){for(var n in t.pendingChannels)t.pendingChannels.hasOwnProperty(n)&&t.pendingChannels[n].pp(e);for(var r=Object.keys(t.channels),i=0;i<r.length;i++)t.channels[r[i]].onDisconnect("")}})}return e.prototype.establishPrivateChannel=function(t,r){var o=this,a=(++e.LAST_HANDSHAKE_KEY).toString(),l=null,c=new n.Promise(function(e,t,n){l={pc:e,pe:t,pp:n}});this.pendingChannels[a]=l;var p=s(a,t,r);return this.remoteEvents.emit(d,p).then(null,function(e){o.onServerCreateChannelErrorMessage(u(a,e))}).done(null,i.onUnexpectedError),c},e.prototype.onCloseChannel=function(e){this.channels.hasOwnProperty(e)&&delete this.channels[e]},e.prototype.emit=function(e){return this.remoteEvents.emit(d,e)},e.prototype.onServerMessage=function(e){switch(e.type){case p:this.onServerCreateChannelMessage(e);break;case h:this.onServerCreateChannelErrorMessage(e);break;case m:this.onServerEventMessage(e);break;case f:this.onServerReplyMessage(e);break;case v:this.onServerReplyErrorMessage(e);break;case g:this.onServerCloseChannelMessage(e)}},e.prototype.onServerCreateChannelMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken];var n=new b(this,e.channelId);this.channels[e.channelId]=n,t.pc(n)}},e.prototype.onServerCreateChannelErrorMessage=function(e){if(this.pendingChannels.hasOwnProperty(e.handshakeToken)){var t=this.pendingChannels[e.handshakeToken];delete this.pendingChannels[e.handshakeToken],t.pe(e.payload)}},e.prototype.onServerEventMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerEventMessage(e.payload)},e.prototype.onServerReplyMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyMessage(e.requestId,e.payload)},e.prototype.onServerReplyErrorMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerReplyErrorMessage(e.requestId,e.payload)},e.prototype.onServerCloseChannelMessage=function(e){this.channels.hasOwnProperty(e.channelId)&&this.channels[e.channelId].onServerCloseChannelMessage(e.payload)},e.LAST_HANDSHAKE_KEY=0,e}();t.RemoteEventChannels=y});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/core/requestService",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/monaco/core/longPollRemoteEvents","vs/monaco/core/remoteEventChannels"],function(e,t,n,r,i,o){var s=function(e){function t(t,n,r,i){e.call(this,t,n,r),this.isRemoteEventsSupported=!!this.getRequestUrl("events"),this.eventService=i||t.eventService,this.initRemoteEvents()}return __extends(t,e),t.prototype.initRemoteEvents=function(){var e=this,t=this.getRequestUrl("events");t&&(this.remoteEvents=new i.RemoteEvents(this),this.remoteEventChannels=new o.RemoteEventChannels(this.remoteEvents),this.remoteEvents.addStateChangeListener(function(t){return e.onRemoteEventsStateChange(t)}))},t.prototype.onRemoteEventsStateChange=function(e){this.eventService&&(this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,e),e.state!==r.ConnectionState.CONNECTED?this.wasDisconnected=!0:this.wasDisconnected&&(this.wasDisconnected=!1,this.eventService.emit(r.RequstServiceEventTypes.CONNECTION_RECONNECTED)))},t.prototype.getRemoteEventsImpl=function(){return this.remoteEvents},t.prototype.supportsPrivateChannel=function(){return this.isRemoteEventsSupported},t.prototype.supportsRemoteEvents=function(){return this.isRemoteEventsSupported},t.prototype.establishPrivateChannel=function(e,t){return this.remoteEventChannels?this.remoteEventChannels.establishPrivateChannel(e,t):n.Promise.as(null)},t.prototype.addRemoteListener=function(e,t){return this.remoteEvents?this.remoteEvents.addListener(e,t):null},t.prototype.reconnect=function(){this.remoteEvents&&this.remoteEvents.tryReconnectNow()},t.prototype.makeRequest=function(t){var i=this;return e.prototype.makeRequest.call(this,t).then(null,function(e){return i.eventService&&440===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.SESSION_OVER}),i.eventService&&449===e.status&&i.eventService.emit(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,{state:r.ConnectionState.OUTDATED_CLIENT}),n.Promise.wrapError(e)})},t}(r.BaseRequestService);t.RequestService=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitActions",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/lifecycle","vs/base/strings","vs/base/types","vs/base/ui/actions","vs/workbench/contrib/git/git","vs/workbench/contrib/git/gitModel","vs/workbench/contrib/git/gitEditorInputs","vs/workbench/ui/parts/editor/editorOptions"],function(e,t,n,r,i,o,s,a,l,c,u,d){function p(e){if(e){if(Array.isArray(e)){if(e.some(function(e){return!(e instanceof c.FileStatus)
+ }))throw new Error("Invalid context.");return e}if(e instanceof c.FileStatus)return[e];if(e instanceof c.StatusGroup)return e.all();throw new Error("Invalid context.")}return e}var h=function(e){function t(t,n,r,i){var o=this;this.gitService=t.gitService,e.call(this,n,r,i,!1),this.toDispose=[this.gitService.addBulkListener2(function(){return o.onGitServiceChange()})],this.onGitServiceChange()}return __extends(t,e),t.prototype.onGitServiceChange=function(){this.updateEnablement()},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!!this.gitService},t.prototype.run=function(){throw new Error("implement me")},t.prototype.dispose=function(){this.gitService=null,this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(a.Action);t.AbstractGitAction=h;var m=function(e){function t(n){this.editorService=n.editorService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",0),"git-action open-change")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this;return e instanceof c.FileStatus?this.gitService.getInput(e).then(function(e){var n=new d.TextDiffEditorOptions;return n.forceOpen=!0,t.editorService.openEditor(e,n)}):n.Promise.wrapError(new Error("Can't open change which is not FileStatus."))},t.ID="workbench.git.action.openChange",t}(h);t.OpenChangeAction=m;var f=function(e){function t(n){this.fileService=n.fileService,this.editorService=n.editorService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",1),"git-action open-file")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService||!!this.fileService},t.prototype.getPath=function(e){if(e.getStatus()===l.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),l.StatusType.INDEX);return t&&t.getStatus()===l.Status.INDEX_RENAMED?e.getRename():e.getPath()},t.prototype.run=function(e){var r=this;if(!(e instanceof c.FileStatus))return n.Promise.wrapError(new Error("Can't open file."));var i=e;if(t.DELETED_STATES.indexOf(i.getStatus())>-1)return n.Promise.wrapError(new Error("Can't open file which is has been deleted."));var o=this.getPath(i);return this.fileService.resolveFileStat(o).then(function(e){return r.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}})})},t.DELETED_STATES=[l.Status.BOTH_DELETED,l.Status.DELETED,l.Status.DELETED_BY_US,l.Status.INDEX_DELETED],t.ID="workbench.git.action.openFile",t}(h);t.OpenFileAction=f;var v=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",2),"git-action init")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getState()===l.ServiceState.NotARepo},t.prototype.run=function(){return this.gitService.init()},t.ID="workbench.git.action.init",t}(h);t.InitAction=v;var g=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",3)),void 0===s&&(s="git-action run-clone"),this.terminalService=n.terminalService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.terminalService&&this.gitService.getState()===l.ServiceState.NotARepo},t.prototype.run=function(e){return this.terminalService.execute('git clone "'+e+'" .',!1,!0)},t.ID="workbench.git.action.runClone",t}(h);t.RunCloneAction=g;var b=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",4),"git-action refresh")}return __extends(t,e),t.prototype.run=function(){return this.gitService.status()},t.ID="workbench.git.action.refresh",t}(h);t.RefreshAction=b;var y=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",5)),void 0===s&&(s="git-action stage"),e.call(this,n,i,o,s),this.editorService=n.editorService}return __extends(t,e),t.prototype.run=function(e){var t=this,r=p(e);return this.gitService.add(p(e)).then(function(e){var i=t.findGitWorkingTreeEditor();if(!i)return n.Promise.as(e);var o=i.input,s=o.getFileStatus();if(r&&r.every(function(e){return e!==s}))return n.Promise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,l.StatusType.INDEX);if(!c)return n.Promise.as(e);var u=i.getControl(),p=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(n){var r=new d.TextDiffEditorOptions;return r.forceOpen=!0,t.editorService.openEditor(n,r,i.position).then(function(){return p&&u.restoreViewState(p),e})})})},t.prototype.findGitWorkingTreeEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(u.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.stage",t}(h);t.StageAction=y;var _=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",6))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this)},t.ID="workbench.git.action.stageAll",t}(y);t.GlobalStageAction=_;var w=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",7)),void 0===s&&(s="git-action undo"),this.eventService=n.eventService,this.editorService=n.editorService,this.messageService=n.messageService,this.fileService=n.fileService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.eventService&&!!this.editorService&&!!this.fileService},t.prototype.run=function(e){var t=this;if(!this.messageService.confirm(this.getConfirm(e)))return n.Promise.as(null);var r=[];if(e instanceof c.StatusGroup)r=[this.gitService.undo()];else{for(var i=p(e),o=[],s=[],a=0;a<i.length;a++){var u=i[a].clone();switch(u.getStatus()){case l.Status.UNTRACKED:case l.Status.IGNORED:o.push(u);break;default:s.push(u)}}o.length>0&&r.push(this.gitService.clean(o)),s.length>0&&r.push(this.gitService.checkout("",s))}return n.Promise.join(r).then(function(e){if(0===e.length)return n.Promise.as(null);var r=e[e.length-1],o=t.findWorkingTreeDiffEditor();if(!o)return n.Promise.as(r);var s=o.input,a=s.getFileStatus();if(i&&i.every(function(e){return e!==a}))return n.Promise.as(r);var l=s.getFileStatus().getPath(),c=o.getControl(),u=c?c.getModifiedEditor():null,d=u?u.saveViewState():null;return t.fileService.resolveFileStat(l).then(function(e){return t.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}},o.position).then(function(){if(d){var e=o.getControl();e&&e.restoreViewState(d)}})})}).then(null,function(e){return console.error("One or more errors occured",e),n.Promise.wrapError(e[0])})},t.prototype.findWorkingTreeDiffEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(n.input instanceof u.GitWorkingTreeDiffEditorInput)return n}return null},t.prototype.getConfirm=function(e){if(e instanceof c.StatusGroup){var t=e,n=t.all(),i=n.length;return{message:r.localize("vs_workbench_contrib_git_gitActions",8),detail:1===i?r.localize("vs_workbench_contrib_git_gitActions",9,i):r.localize("vs_workbench_contrib_git_gitActions",10,i),primaryButton:r.localize("vs_workbench_contrib_git_gitActions",11)}}var o=p(e)[0],s=o.getPathComponents().reverse()[0];return{message:r.localize("vs_workbench_contrib_git_gitActions",12,s),primaryButton:r.localize("vs_workbench_contrib_git_gitActions",13)}},t.prototype.dispose=function(){this.eventService=null,this.editorService=null,this.fileService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.undo",t}(h);t.UndoAction=w;var E=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",14)),void 0===s&&(s="git-action unstage"),this.editorService=n.editorService,e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,r=p(e);return this.gitService.reset("HEAD",r).then(function(e){var i=t.findGitIndexEditor();if(!i)return n.Promise.as(e);var o=i.input,s=o.getFileStatus();if(r&&r.every(function(e){return e!==s}))return n.Promise.as(e);var a=o.getFileStatus().getPath(),c=e.getStatus().find(a,l.StatusType.WORKING_TREE);if(!c)return n.Promise.as(e);var u=i.getControl(),p=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(n){var r=new d.TextDiffEditorOptions;return r.forceOpen=!0,t.editorService.openEditor(n,r,i.position).then(function(){return p&&u.restoreViewState(p),e})})})},t.prototype.findGitIndexEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var n=e[t];if(u.isGitEditorInput(n.input))return n}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t.ID="workbench.git.action.unstage",t}(h);t.UnstageAction=E;var S=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",15))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this)},t.ID="workbench.git.action.unstageAll",t}(E);t.GlobalUnstageAction=S;var T=function(e){function t(n){e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",16))}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return e.prototype.run.call(this,this.gitService.getModel().getStatus().getWorkingTreeStatus())},t.ID="workbench.git.action.undoAll",t}(w);t.GlobalUndoAction=T;var k;!function(e){e[e.Alive=0]="Alive",e[e.Disposing=1]="Disposing",e[e.Disposed=2]="Disposed"}(k||(k={}));var C=function(e){function t(n,r){this.editorService=n.editorService,this.branch=r,this.HEAD=null,this.state=k.Alive,this.runPromises=[],e.call(this,n,t.ID,r.name,"git-action checkout")}return __extends(t,e),t.prototype.onGitServiceChange=function(){this.gitService.getState()===l.ServiceState.OK&&(this.HEAD=this.gitService.getModel().getHEAD(),this.class=this.HEAD&&this.HEAD.name===this.branch.name?"git-action checkout HEAD":"git-action checkout"),e.prototype.onGitServiceChange.call(this)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.HEAD},t.prototype.run=function(){var e=this;if(this.state!==k.Alive)return n.Promise.wrapError("action disposed");if(this.HEAD&&this.HEAD.name===this.branch.name)return n.Promise.as(null);var t=this.gitService.checkout(this.branch.name).then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(new Error(r.localize("vs_workbench_contrib_git_gitActions",17))):n.Promise.wrapError(e)});return this.runPromises.push(t),t.done(function(){return e.runPromises.splice(e.runPromises.indexOf(t),1)}),t},t.prototype.dispose=function(){var e=this;this.state===k.Alive&&(this.state=k.Disposing,n.Promise.join(this.runPromises).done(function(){return e.actuallyDispose()}))},t.prototype.actuallyDispose=function(){this.editorService=null,this.branch=null,this.HEAD=null,e.prototype.dispose.call(this),this.state=k.Disposed},t.ID="workbench.git.action.checkout",t}(h);t.CheckoutAction=C;var x=function(e){function t(n,i){void 0===i&&(i=!1),e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",18),"git-action checkout"),this.checkout=i}return __extends(t,e),t.prototype.run=function(e){return s.isString(e)?this.gitService.branch(e,this.checkout):n.Promise.as(!1)},t.ID="workbench.git.action.branch",t}(h);t.BranchAction=x;var A=function(e){function t(t,n,r,i){e.call(this,t,n,r,i)}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t}(h);t.AbstractCommitAction=A;var L=function(e){function t(n){this.terminalService=n.terminalService,e.call(this,n,t.ID,r.localize("vs_workbench_contrib_git_gitActions",19),"git-action run-amend-commit")}return __extends(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.terminalService},t.prototype.run=function(){return this.terminalService.execute("git commit --amend")},t.ID="workbench.git.action.runAmendCommit",t}(h);t.RunAmendCommitAction=L;var I=function(e){function t(n,i,o,s,a){var l=this;void 0===o&&(o=t.ID),void 0===s&&(s=r.localize("vs_workbench_contrib_git_gitActions",20)),void 0===a&&(a="git-action commit"),e.call(this,n,o,s,a),this.commitState=i,this.toDispose.push(i.addListener2("change/commitInputBox",function(){l.updateEnablement()}))}return __extends(t,e),t.prototype.run=function(){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage()):(this.commitState.onEmptyCommitMessage(),n.Promise.as(null))},t.ID="workbench.git.action.commit",t}(A);t.CommitAction=I;var N=function(e){function t(n,i){e.call(this,n,i,t.ID,r.localize("vs_workbench_contrib_git_gitActions",21),"git-action stage-and-commit")}return __extends(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage(),!1,!0):(this.commitState.onEmptyCommitMessage(),n.Promise.as(null))},t.ID="workbench.git.action.stageAndCommit",t}(I);t.StageAndCommitAction=N;var O=function(e){function t(n,r){this.terminalService=n.terminalService,this.messageService=n.messageService,e.call(this,n,r,t.ID,t.ALL,"git-action smart-commit")}return __extends(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),!this.enabled)return this.label=t.ALL,void 0;var n=this.gitService.getModel().getStatus();this.label=n.getIndexStatus().all().length>0?t.STAGED:t.ALL},t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){if(!this.commitState.getCommitMessage())return this.commitState.onEmptyCommitMessage(),n.Promise.as(null);var e=this.gitService.getModel().getStatus();return this.gitService.commit(this.commitState.getCommitMessage(),!1,0===e.getIndexStatus().all().length)},t.ID="workbench.git.action.commitAll",t.ALL=r.localize("vs_workbench_contrib_git_gitActions",22),t.STAGED=r.localize("vs_workbench_contrib_git_gitActions",23),t}(I);t.SmartCommitAction=O;var R=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",24)),void 0===s&&(s="git-action pull"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?!0:!1},t.prototype.run=function(){return this.gitService.pull().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.DirtyWorkTree?n.Promise.wrapError(new Error(r.localize("vs_workbench_contrib_git_gitActions",25))):e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)})},t.ID="workbench.git.action.pull",t}(h);t.PullAction=R;var P=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",26)),void 0===s&&(s="git-action push"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?n.ahead?!0:!1:!1},t.prototype.run=function(){return this.gitService.push().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)})},t.ID="workbench.git.action.push",t}(h);t.PushAction=P;var M=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",27)),void 0===s&&(s="git-action sync"),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),n=t.getHEAD();return n&&n.name&&n.upstream?!0:!1},t.prototype.run=function(){return this.enabled?this.gitService.sync().then(null,function(e){return e.gitErrorCode===l.GitErrorCodes.AuthenticationFailed?n.Promise.as(null):n.Promise.wrapError(e)}):n.Promise.as(null)},t.ID="workbench.git.action.sync",t}(h);t.SyncAction=M;var D=function(e){function t(n,i,o,s){void 0===i&&(i=t.ID),void 0===o&&(o=r.localize("vs_workbench_contrib_git_gitActions",28)),void 0===s&&(s=t.CLASS_NAME),e.call(this,n,i,o,s)}return __extends(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),this.gitService.getRunningOperations().some(function(e){return e.id===l.ServiceOperations.SYNC||e.id===l.ServiceOperations.PULL||e.id===l.ServiceOperations.PUSH}))this.label="",this.class=t.CLASS_NAME_LOADING,this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",29);else{this.class=t.CLASS_NAME;var n=this.gitService.getModel(),i=n.getHEAD();i?i.name?i.upstream?i.ahead||i.behind?(this.label=o.format("{0} {1}",i.behind,i.ahead),this.tooltip=n.getStatus().getGroups().some(function(e){return e.all().length>0})?r.localize("vs_workbench_contrib_git_gitActions",33):1===i.behind&&1===i.ahead?r.localize("vs_workbench_contrib_git_gitActions",34,i.name,i.behind,i.ahead,i.upstream):1===i.behind?r.localize("vs_workbench_contrib_git_gitActions",35,i.name,i.behind,i.ahead,i.upstream):1===i.ahead?r.localize("vs_workbench_contrib_git_gitActions",36,i.name,i.behind,i.ahead,i.upstream):r.localize("vs_workbench_contrib_git_gitActions",37,i.name,i.behind,i.ahead,i.upstream)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",32,i.name)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",31,i.name)):(this.label="",this.tooltip=r.localize("vs_workbench_contrib_git_gitActions",30)):(this.label="",this.tooltip="")}},t.ID="workbench.git.action.liveSync",t.CLASS_NAME="git-action live-sync",t.CLASS_NAME_LOADING="git-action live-sync loading",t}(M);t.LiveSyncAction=D});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitActionItems",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/dom/keyboardEvent","vs/base/dom/builder","vs/base/strings","vs/base/ui/widgets/inputBox","vs/base/ui/widgets/actionbar"],function(e,t,n,r,i,o,s,a){var l=i.$,c=function(e){function t(t,n){e.call(this,null,n),this.contextViewService=t.contextViewService,this.gitService=t.gitService}return __extends(t,e),t.prototype.render=function(e){var t=this;this.inputBox=new s.InputBox(e,this.contextViewService,{placeholder:n.localize("vs_workbench_contrib_git_gitActionItems",0),validationOptions:{showMessage:!1,validation:function(e){return t.validate(e)}}}),l(this.inputBox.inputElement).on("keyup",function(e){return t.onKeyUp(e)}),this._updateEnabled()},t.prototype._updateEnabled=function(){this._action.enabled?this.inputBox.enable():this.inputBox.disable()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.blur=function(){},t.prototype.validate=function(e){if(/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|^\s*$/.test(e))return{content:n.localize("vs_workbench_contrib_git_gitActionItems",1)};var t=this.gitService.getModel(),r=t.getHeads();return r.some(function(t){return t.name===e})?{content:n.localize("vs_workbench_contrib_git_gitActionItems",2)}:null},t.prototype.onKeyUp=function(e){var t=new r.KeyboardEvent(e);if("Enter"===t.asString()){if(t.preventDefault(),t.stopPropagation(),this.validate(this.inputBox.value))return;var n=o.trim(this.inputBox.value);this.actionRunner.run(this._action,n).done()}},t.prototype.dispose=function(){this.inputBox.dispose(),e.prototype.dispose.call(this)},t}(a.BaseActionItem);t.CreateBranchActionItem=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/workbench/contrib/git/gitWidgets",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/lifecycle","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/widgets/dropdown/dropdown","vs/base/ui/widgets/actionbar","vs/workbench/contrib/git/git","vs/workbench/contrib/git/gitActions","vs/workbench/contrib/git/gitActionItems"],function(e,t,n,r,i,o,s,a,l,c,u){var d=i.$,p=function(e){function t(t,n){var r=this;e.call(this,n),this.$container=d(n).addClass("disabled"),this.toDispose=[],this.gitService=t.gitService,this.branchDropdownMenu=t.instantiationService.createInstance(m,this.element),this.syncDropdownMenu=t.instantiationService.createInstance(h,this.element),this.toDispose.push(this.addEmitter2(this.branchDropdownMenu)),this.toDispose.push(this.addEmitter2(this.syncDropdownMenu)),this.toDispose.push(this.gitService.addListener2(l.ServiceEvents.STATE_CHANGED,this.onGitServiceStateChange.bind(this))),this.toDispose.push(this.gitService.addListener2(l.ServiceEvents.OPERATION,function(){return r.onGitServiceOperation()}))}return __extends(t,e),t.prototype.onGitServiceStateChange=function(e){e===l.ServiceState.NotARepo?this.$container.addClass("disabled"):this.$container.removeClass("disabled")},t.prototype.onGitServiceOperation=function(){this.gitService.getRunningOperations().some(function(e){return e.id===l.ServiceOperations.CHECKOUT||e.id===l.ServiceOperations.BRANCH})?this.$container.addClass("loading"):this.$container.removeClass("loading")},t.prototype.dispose=function(){this.toDispose=r.disposeAll(this.toDispose),this.branchDropdownMenu&&(this.branchDropdownMenu.dispose(),this.branchDropdownMenu=null),this.syncDropdownMenu&&(this.syncDropdownMenu.dispose(),this.syncDropdownMenu=null),e.prototype.dispose.call(this)},t}(s.DropdownGroup);t.GitWorkbenchWidget=p;var h=function(e){function t(t,n){this.syncAction=t.instantiationService.createInstance(c.LiveSyncAction),this.instantiationService=t.instantiationService,e.call(this,n,{contextMenuProvider:t.contextMenuService,action:this.syncAction})}return __extends(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions.length||(this._actions=[this.instantiationService.createInstance(c.SyncAction),this.instantiationService.createInstance(c.PullAction),this.instantiationService.createInstance(c.PushAction)]),this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.actions=r.disposeAll(this.actions),e.prototype.dispose.call(this)},t}(s.DropdownMenu);t.GitSyncDropdownMenu=h;var m=function(e){function t(n,r){var i=this;e.call(this,r,{contextMenuProvider:n.contextMenuService,tick:!0,labelRenderer:function(e){return i.$HEADLabel=d("span.git-dropdown-label").appendTo(e),{dispose:function(){return i.$HEADLabel.destroy()}}},menuClassName:t.CLASS}),this.gitService=n.gitService,this.toDispose.push(this.gitService.getModel().addListener2(l.ModelEvents.MODEL_UPDATED,function(){return i.onGitModelUpdate()})),this.instantiationService=n.instantiationService,this.menuOptions={actionItemProvider:function(e){return i.getActionItem(e)}},this.branchAction=n.instantiationService.createInstance(c.BranchAction,!0),this.checkoutActions=[],this.actionsAreStale=!0}return __extends(t,e),t.prototype.onGitModelUpdate=function(){this.actionsAreStale=!0;var e=this.gitService.getModel();this.$HEADLabel.empty();var t=e.getHEAD();if(t){var r=d("span.HEAD").text(e.getPS1()).appendTo(this.$HEADLabel);t.name?this.tooltip=n.localize("vs_workbench_contrib_git_gitWidgets",1):(r.addClass("detached"),this.tooltip=n.localize("vs_workbench_contrib_git_gitWidgets",0,t.commit))}},Object.defineProperty(t.prototype,"actions",{get:function(){var e=this;if(this.actionsAreStale){var n=this.gitService.getModel();this.checkoutActions=r.disposeAll(this.checkoutActions),this.checkoutActions=n.getHeads().map(function(t){return e.instantiationService.createInstance(c.CheckoutAction,t)});var i=this.checkoutActions.slice(0);i.length>0&&i.push(t.SEPARATOR),i.push(this.branchAction),this._actions=i,this.actionsAreStale=!1}return this._actions},set:function(){},enumerable:!0,configurable:!0}),t.prototype.getActionItem=function(e){return e.id===c.BranchAction.ID?this.instantiationService.createInstance(u.CreateBranchActionItem,e):null},t.prototype.onEvent=function(e,t){o.isAncestor(t,this.viewContainer)||this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.branchAction&&this.branchAction.dispose()},t.CLASS="git-branch-dropdown-menu",t.SEPARATOR=new a.Separator,t}(s.DropdownMenu);t.GitBranchDropdownMenu=m}),define("vs/css!vs/monaco/contrib/feedback/feedback",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/feedback/feedback",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/types","vs/base/dom/builder","vs/base/errors","vs/base/dom/dom","vs/base/http","vs/base/lib/winjs.base","vs/base/ui/widgets/dropdown/dropdown","vs/css!./feedback"],function(e,t,n,r,i,o,s,a,l,c,u){var d=o.$,p=500,h=function(){function e(e){this.requestService=e.requestService,this.telemetryService=e.telemetryService}return e.prototype.submitFeedback=function(e){return this.telemetryService.publicLog("feedbackSubmitted",{sentiment:e.sentiment}),this.requestService.makeRequest({type:l.POST,url:this.requestService.getRequestUrl("feedback"),headers:{"Content-Type":l.Mime.JSON},data:JSON.stringify({contact:e.alias,description:e.feedback,sentiment:e.sentiment})})},e}();t.DefaultFeedbackService=h;var m;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(m||(m={}));var f=function(e){function t(t,n,r){e.call(this,n,{contextViewProvider:r.contextViewProvider,labelRenderer:function(e){return d(e).addClass("send-feedback"),null}}),this.$el.addClass("send-feedback"),this.feedbackService=i.isUndefined(r.feedbackService)?t.instantiationService.createInstance(h):r.feedbackService,this.telemetryService=t.telemetryService,this.feedback="",this.alias="",this.aliasEnabled=!1,this.sentiment=1,this.feedbackForm=null,this.feedbackDescriptionInput=null,this.feedbackAliasInput=null,this.smileyInput=null,this.frownyInput=null,this.sendButton=null}return __extends(t,e),t.prototype.renderContents=function(e){var t=this,i=d("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);d(e).addClass("monaco-menu-container"),this.feedbackForm=i.getHTMLElement(),d("h2.title").text(n.localize("vs_monaco_contrib_feedback_feedback",0)).appendTo(i),this.invoke(d("div.cancel"),function(){t.hide()}).appendTo(i),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",1)).appendTo(i);var o=d("div.feedback-sentiment").appendTo(i);this.smileyInput=d("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",2),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(o),this.frownyInput=d("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":n.localize("vs_monaco_contrib_feedback_feedback",3),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(o),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true"),d("h3").text(n.localize("vs_monaco_contrib_feedback_feedback",4)).appendTo(i),this.feedbackDescriptionInput=d("textarea.feedback-description").attr({rows:8,"aria-label":n.localize("vs_monaco_contrib_feedback_feedback",5)}).text(this.feedback).attr("required","required").on("keyup",function(){t.feedbackDescriptionInput.value?t.sendButton.removeAttribute("disabled"):t.sendButton.attr("disabled","")}).appendTo(i).domFocus().getHTMLElement();var s=n.localize("vs_monaco_contrib_feedback_feedback",6);this.feedbackAliasInput=d("input.feedback-alias").type("text").text(s).attr("type","email").attr("placeholder",n.localize("vs_monaco_contrib_feedback_feedback",7)).value(this.alias).attr("aria-label",s).appendTo(i).getHTMLElement();var a=d("div.form-buttons").appendTo(i);return r.privacyLink&&d("a").addClass("privacyLink").attr("target","_BLANK").href(r.privacyLink).text(n.localize("vs_monaco_contrib_feedback_feedback",8)).appendTo(a),this.sendButton=this.invoke(d("input.send").type("submit").attr("disabled","").value(n.localize("vs_monaco_contrib_feedback_feedback",9)).appendTo(a),function(){t.isSendingFeedback||t.onSubmit().then(null,function(){})}),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.feedbackAliasInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var n=e;(13===n.keyCode||32===n.keyCode)&&t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.feedbackAliasInput&&(this.alias=this.feedbackAliasInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;if(27===n.keyCode)return this.hide(),void 0}a.isAncestor(t,this.feedbackForm)||this.hide()},t.prototype.onSubmit=function(){var e=this;return this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()?c.Promise.as(null):(this.changeFormStatus(m.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,alias:this.feedbackAliasInput.value,sentiment:this.sentiment}).then(function(){return setTimeout(function(){e.changeFormStatus(m.SENT)},p),""},function(t){return setTimeout(function(){e.changeFormStatus(m.SEND_ERROR)},p),c.Promise.wrapError(new s.ConnectionError(t))}))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case m.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(n.localize("vs_monaco_contrib_feedback_feedback",10));break;case m.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(n.localize("vs_monaco_contrib_feedback_feedback",11)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])
+ });break;case m.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(n.localize("vs_monaco_contrib_feedback_feedback",12))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput.value="",this.feedbackAliasInput.value="",this.sentiment=1,this.aliasEnabled=!1},t}(u.Dropdown);t.FeedbackDropdown=f}),define("vs/css!vs/monaco/contrib/profile/profilewidget",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/profile/profileWidget",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/dom/builder","vs/base/dom/dom","vs/base/ui/widgets/dropdown/dropdown","vs/css!./profilewidget"],function(e,t,n,r,i,o){var s=r.$,a=function(e){function t(t,n,r){e.call(this,t,n),this.profile=r}return __extends(t,e),t.prototype.renderContents=function(e){s(e).addClass("monaco-menu-container");var t=s(".profile-widget").appendTo(e),r=s(".top").appendTo(t),i=s(".profile-picture").appendTo(r);this.profile.userImageUrl&&i.style("background-image",'url("'+this.profile.userImageUrl+'")');var o=s(".actions").appendTo(r);if(this.profile.profileUrl){var i=s(".action").appendTo(o);s("a.action-label").text(n.localize("vs_monaco_contrib_profile_profileWidget",0)).href(this.profile.profileUrl).appendTo(i)}if(this.profile.signOutUrl){var a=s(".action").appendTo(o);s("a.action-label").text(n.localize("vs_monaco_contrib_profile_profileWidget",1)).href(this.profile.signOutUrl).appendTo(a)}var l=s(".bottom").appendTo(t);return s("span.email").text(this.profile.userEmail).appendTo(l),this.$element=t,null},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var n=e;if(27===n.keyCode)return this.hide(),void 0}i.isAncestor(t,this.$element.getHTMLElement())||this.hide()},t}(o.Dropdown);t.ProfileWidget=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/ui/widgets/dropdown/linksDropdown",["require","exports","vs/base/lib/winjs.base","vs/base/env","vs/base/types","vs/base/ui/actions","vs/base/ui/widgets/dropdown/dropdown"],function(e,t,n,r,i,o,s){var a=function(e){function t(t,n){e.call(this,t,n),this.tooltip=n.tooltip}return __extends(t,e),t.prototype.onEvent=function(e){e instanceof KeyboardEvent&&(e.ctrlKey||r.isMacintosh&&e.metaKey)||this.hide()},t}(s.DropdownMenu);t.LinksDropdownMenu=a;var l=function(e){function t(t,o,s,a,l){e.call(this,t,o,s,!0,function(e){var t=a;return i.isFunction(a)&&(t=a()),l||e instanceof MouseEvent&&(e.ctrlKey||r.isMacintosh&&e.metaKey)?window.open(t,"_blank"):window.location.href=t,n.Promise.as(!0)})}return __extends(t,e),t}(o.Action);t.LinkDropdownAction=l});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/connect/connectDropdown",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/strings","vs/base/lifecycle","vs/base/ui/actions","vs/base/ui/events","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/linksDropdown","vs/workbench/contrib/tfs/tfs","vs/workbench/contrib/git/git","vs/workbench/contrib/git/git.contribution","vs/base/severity"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h){var m=function(e){function t(t,r,i){var o=this;e.call(this,r,{contextMenuProvider:i.contextMenuProvider,label:i.workspaceName,tooltip:n.localize("vs_monaco_contrib_connect_connectDropdown",0),tick:!0,menuClassName:"git-branch-dropdown-menu"}),this.telemetryService=t.telemetryService,this.messageService=t.messageService,this.requestService=t.requestService,this.tfsService=t.tfsService,this.gitService=t.gitService,this.viewletService=t.viewletService,this.webSiteUrl=i.webSiteUrl,this.kuduConsoleUrl=i.kuduConsoleUrl,this.actionsToDispose=[],this.toDispose.push(this.addListener2(a.EventType.BEFORE_RUN,function(){o.telemetryService.log("workbenchWorkspaceSwitched")})),this.tfsService&&this.toDispose.push(this.tfsService.addListener2(u.ServiceEvents.STATE_CHANGED,function(){o.updateActions()})),this.gitService&&this.toDispose.push(this.gitService.addListener2(d.ServiceEvents.STATE_CHANGED,function(){o.updateActions()})),this.updateActions()}return __extends(t,e),t.prototype.updateActions=function(){this.actionsToDispose=o.disposeAll(this.actionsToDispose);var e=[];e.push.apply(e,this.getAzureActions()),e.push.apply(e,this.wrapActionGroup(this.getTFSActions())),this.actionsToDispose=e.slice(0),this.actions=e},t.prototype.getAzureActions=function(){var e=[];return this.webSiteUrl&&e.push(new c.LinkDropdownAction("openWebSite",n.localize("vs_monaco_contrib_connect_connectDropdown",1),null,this.webSiteUrl,!0)),r.azureWebSiteTryMode||e.push(new c.LinkDropdownAction("openAzureDashboard",n.localize("vs_monaco_contrib_connect_connectDropdown",2),null,r.azurePortalLink,!0)),this.kuduConsoleUrl&&!r.azureWebSiteTryMode&&e.push(new c.LinkDropdownAction("openKuduConsole",n.localize("vs_monaco_contrib_connect_connectDropdown",3),null,this.kuduConsoleUrl,!0)),e},t.prototype.getTFSActions=function(){if(!this.tfsService)return[];switch(this.tfsService.state){case u.ServiceState.Connected:return this.getConnectedTFSActions();case u.ServiceState.Disconnected:return this.getDisconnectedTFSActions();default:return[]}},t.prototype.getConnectedTFSActions=function(){var e=this,t=this.tfsService.account,r=this.tfsService.server,o=[];return o.push(new c.LinkDropdownAction("monaco.contrib.connect.tfs.disconnect",n.localize("vs_monaco_contrib_connect_connectDropdown",4,t),null,i.format("https://{0}.{1}/",t,r),!0)),this.gitService.getState()===d.ServiceState.NotARepo&&o.push(new s.Action("monaco.contrib.connect.tfs.openGit",n.localize("vs_monaco_contrib_connect_connectDropdown",5),null,!0,function(){return e.viewletService.openViewlet(p.VIEWLET_ID)})),o.push(new s.Action("monaco.contrib.connect.tfs.disconnect",n.localize("vs_monaco_contrib_connect_connectDropdown",6),null,!0,function(){return e.tfsService.disconnect().then(function(){e.messageService.show(h.Info,n.localize("vs_monaco_contrib_connect_connectDropdown",7,t))})})),o},t.prototype.getDisconnectedTFSActions=function(){var e=this;return[new c.LinkDropdownAction("monaco.contrib.connect.tfs.connect",n.localize("vs_monaco_contrib_connect_connectDropdown",8),null,function(){return e.tfsService.getConnectURL()},!1)]},t.prototype.wrapActionGroup=function(e){return e.length&&e.splice(0,0,new l.Separator),e},t.prototype.dispose=function(){this.actionsToDispose=o.disposeAll(this.actionsToDispose),e.prototype.dispose.call(this)},t}(c.LinksDropdownMenu);t.ConnectDropdownMenu=m}),define("vs/monaco/ui/connectionIndicator",["require","exports","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/services","vs/base/dom/dom","vs/base/env","vs/base/async","vs/base/dom/htmlContentRenderer","vs/base/severity"],function(e,t,n,r,i,o,s,a,l){var c=function(){function e(e){var t=this;this.delayer=new s.Delayer(1600),this.messageService=e.messageService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.eventService=e.eventService,this.listenerToUnbind=this.eventService.addListener(r.RequstServiceEventTypes.CONNECTION_STATE_CHANGE,function(e){return t.onRemoteEventsStateChange(e)})}return e.prototype.onRemoteEventsStateChange=function(e){var t=this;this.currentState=e,document.$isUnloading||(this.reconnectingInterval&&(window.clearInterval(this.reconnectingInterval),this.reconnectingInterval=null),this.currentState.state!==r.ConnectionState.CONNECTED?(this.currentState.nextConnectAttempt>0&&(this.secondsUntilReconnect=Math.floor(this.currentState.nextConnectAttempt/1e3),this.reconnectingInterval=window.setInterval(function(){return t.updateCountdown()},1e3)),this.delayer.trigger(function(){return t.renderGlobalMessage()})):(this.delayer.cancel(),this.notConnectedMessageHandle&&(this.notConnectedMessageHandle(),this.notConnectedMessageHandle=null)))},e.prototype.renderGlobalMessage=function(){var e=this;if(!document.$isUnloading&&this.messageService){if(!this.notConnectedMessageHandle){var t=o.enableAzurePortalNavigation&&o.azureWebSiteName&&navigator.onLine;t&&this.telemetryService&&this.telemetryService.publicLog("potentialOutOfQuota",{computeMode:o.azureWebSiteComputeMode,websiteMode:o.azureWebSiteMode}),this.messageService.hideAll(),this.notConnectedMessageHandle=this.messageService.show(l.Error,{message:this.getGlobalMessage(t),render:function(n){e.renderHeader(n,t);var r=e.renderFooter(n);return r}})}this.updateFooter()}},e.prototype.getGlobalMessage=function(e){return e?o.azureWebSiteTryMode&&navigator.onLine?n.localize("vs_monaco_ui_connectionIndicator",0):n.localize("vs_monaco_ui_connectionIndicator",1):this.currentState.state===r.ConnectionState.SESSION_OVER?n.localize("vs_monaco_ui_connectionIndicator",2):this.currentState.state===r.ConnectionState.OUTDATED_CLIENT?n.localize("vs_monaco_ui_connectionIndicator",3):n.localize("vs_monaco_ui_connectionIndicator",4)},e.prototype.renderHeader=function(e,t){if(o.azureWebSiteTryMode&&navigator.onLine){var i=n.localize("vs_monaco_ui_connectionIndicator",5);e.appendChild(a.renderHtml({tagName:"p",formattedText:i},function(e,t){t.preventDefault(),t.stopPropagation(),window.open(0===e?o.tryAzureLink:o.tryAzureSignUpLink,"_blank")}))}else if(!o.azureWebSiteTryMode&&t){var s={FREE:0,SHARED:1,BASIC_OR_STANDARD:2},l=s.FREE;"Dedicated"===o.azureWebSiteComputeMode?l=s.BASIC_OR_STANDARD:"Basic"===o.azureWebSiteMode&&(l=s.SHARED);var i;if(i=l===s.FREE||l===s.SHARED?n.localize("vs_monaco_ui_connectionIndicator",6):n.localize("vs_monaco_ui_connectionIndicator",7),e.appendChild(a.renderHtml({tagName:"p",formattedText:i},function(e,t){t.preventDefault(),t.stopPropagation(),window.open(o.azurePortalLink,"_blank")})),l===s.FREE||l===s.SHARED){var c=document.createElement("p");c.textContent=l===s.FREE?n.localize("vs_monaco_ui_connectionIndicator",8):n.localize("vs_monaco_ui_connectionIndicator",9),e.appendChild(c)}var u=document.createElement("p");u.textContent=n.localize("vs_monaco_ui_connectionIndicator",10),e.appendChild(u);var d=document.createElement("br");e.appendChild(d)}else if(this.currentState.state===r.ConnectionState.SESSION_OVER){var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",11),e.appendChild(p)}else if(this.currentState.state===r.ConnectionState.OUTDATED_CLIENT){var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",12),e.appendChild(p)}else{var p=document.createElement("p");p.textContent=n.localize("vs_monaco_ui_connectionIndicator",13),e.appendChild(p)}},e.prototype.renderFooter=function(e){var t=this,r=document.createElement("p");e.appendChild(r),i.addClass(r,"buttons"),r.appendChild(document.createTextNode(" ")),this.actionButton=document.createElement("button"),i.addClass(this.actionButton,"default"),r.appendChild(this.actionButton);var s=null;return o.azureWebSiteTryMode&&navigator.onLine?(this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",14),s=i.addStandardDisposableListener(this.actionButton,"click",function(e){e.stopPropagation(),e.preventDefault(),window.open(o.tryAzureSignUpLink,"_blank")})):(s=i.addStandardDisposableListener(this.actionButton,"click",function(e){e.stopPropagation(),e.preventDefault(),!t.currentState.nextConnectAttempt||t.currentState.nextConnectAttempt<=0?window.location.reload():(t.stopCoundown(),t.requestService.reconnect())}),this.actionButtonMessage=document.createElement("span"),r.appendChild(this.actionButtonMessage)),s},e.prototype.updateFooter=function(){if(this.actionButtonMessage)if(this.currentState.state===r.ConnectionState.SESSION_OVER||this.currentState.state===r.ConnectionState.OUTDATED_CLIENT)this.actionButtonMessage.textContent="",this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",15),this.actionButton.removeAttribute("disabled");else if(0===this.currentState.nextConnectAttempt)this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",16),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",17),this.actionButton.setAttribute("disabled","disabled");else if(this.currentState.canReconnect)if(-1===this.currentState.nextConnectAttempt)this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",20),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",21),this.actionButton.removeAttribute("disabled");else{var e=Math.floor(this.currentState.nextConnectAttempt/1e3);this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",22,e),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",23),this.actionButton.removeAttribute("disabled")}else this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",18),this.actionButton.textContent=n.localize("vs_monaco_ui_connectionIndicator",19),this.actionButton.removeAttribute("disabled")},e.prototype.updateCountdown=function(){this.notConnectedMessageHandle&&(this.secondsUntilReconnect<=0?this.stopCoundown():this.actionButtonMessage&&(this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",24,this.secondsUntilReconnect--),this.actionButton.removeAttribute("disabled")))},e.prototype.stopCoundown=function(){this.notConnectedMessageHandle&&(this.actionButtonMessage&&(this.actionButtonMessage.textContent=n.localize("vs_monaco_ui_connectionIndicator",25),this.actionButton.setAttribute("disabled","disabled")),window.clearInterval(this.reconnectingInterval),this.reconnectingInterval=null)},e.prototype.dispose=function(){this.reconnectingInterval&&window.clearInterval(this.reconnectingInterval),this.listenerToUnbind()},e}();t.ConnectionIndicator=c});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/changeTheme",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/ui/actions","vs/base/ui/widgets/shell/shell"],function(e,t,n,r,i,o,s){t.THEME_SETTING_ID="workbench.theme";var a=function(e){function i(t,n,r){void 0===r&&(r="workbench.action.change-theme"),e.call(this,r),this.enabled=!0,this.storageService=t.storageService,this.theme=n}return __extends(i,e),Object.defineProperty(i.prototype,"class",{get:function(){var e=this.storageService.get(t.THEME_SETTING_ID,r.StorageScope.GLOBAL,s.toString(s.Theme.VS));return e===s.toString(this.theme)?"check":"uncheck"},enumerable:!0,configurable:!0}),i.prototype.run=function(){return this.storageService.store(t.THEME_SETTING_ID,s.toString(this.theme),r.StorageScope.GLOBAL),n.Promise.as(null)},i}(o.Action);t.ChangeThemeAction=a;var l=function(e){function t(n){e.call(this,n,s.Theme.VS,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",0)}return __extends(t,e),t.ID="workbench.action.changeToLightTheme",t}(a);t.ChangeThemeToLightAction=l;var c=function(e){function t(n){e.call(this,n,s.Theme.VS_DARK,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",1)}return __extends(t,e),t.ID="workbench.action.changeToDarkTheme",t}(a);t.ChangeThemeToDarkAction=c;var u=function(e){function t(n){e.call(this,n,s.Theme.HIGH_CONTRAST,t.ID),this.label=i.localize("vs_monaco_contrib_actions_changeTheme",2)}return __extends(t,e),t.ID="workbench.action.changeToHighContrastTheme",t}(a);t.ChangeThemeToHighContrastAction=u}),define("vs/css!vs/base/ui/widgets/modalview/modalView",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/ui/widgets/modalview/modalView",["require","exports","vs/base/dom/dom","vs/base/uuid","vs/base/lifecycle","vs/css!./modalView"],function(e,t,n,r,i){var o=function(){function e(e){this.container=e,this.el=document.createElement("div"),this.el.className="monaco-modal-view";var t=document.createElement("div");t.className="monaco-modal-view-background",this.el.appendChild(t),e.appendChild(this.el),this.delegates={},this.eventListenersToDispose=[]}return e.prototype.showModalView=function(e){var t=this,i=document.createElement("div");i.className="monaco-modal-view-layer",i.tabIndex=0,this.el.appendChild(i),i.focus(),0===Object.keys(this.delegates).length&&(this.setupEventListeners(),n.addClass(this.el,"visible"));var o=r.v4().asHex();this.delegates[o]=e;var s=e.render(i);return function(){t.el.removeChild(i),s&&s.dispose(),delete t.delegates[o],0===Object.keys(t.delegates).length&&(n.removeClass(t.el,"visible"),t.clearEventListeners())}},e.prototype.isVisible=function(){return n.hasClass(this.el,"visible")},e.prototype.onBeforeUnload=function(){var e=this,t=null;return Object.keys(this.delegates).some(function(n){var r=e.delegates[n];return r.onBeforeUnload?!!(t=r.onBeforeUnload()):!1}),t},e.prototype.setupEventListeners=function(){var e=this;this.eventListenersToDispose=[n.addStandardDisposableListener(this.container,"focus",function(t){return e.onContainerFocus(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyCaptureEvent(t)},!0),n.addStandardDisposableListener(this.container,"keydown",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keyup",function(t){return e.onKeyEvent(t)}),n.addStandardDisposableListener(this.container,"keypress",function(t){return e.onKeyEvent(t)})]},e.prototype.clearEventListeners=function(){this.eventListenersToDispose=i.disposeAll(this.eventListenersToDispose)},Object.defineProperty(e.prototype,"visibleLayer",{get:function(){return this.el.lastChild},enumerable:!0,configurable:!0}),e.prototype.onContainerFocus=function(e){this.visibleLayer&&!n.isAncestor(document.activeElement,this.visibleLayer)&&(this.visibleLayer.focus(),e.stopPropagation())},e.prototype.onKeyCaptureEvent=function(e){this.visibleLayer&&!n.isAncestor(e.target,this.visibleLayer)&&(e.stopPropagation(),e.preventDefault())},e.prototype.onKeyEvent=function(e){e.stopPropagation()},e.prototype.dispose=function(){this.clearEventListeners()},e}();t.ModalView=o}),define("vs/css!vs/editor/css/vs-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/editor/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/editor/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/vs-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/vs-dark-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/css!vs/workbench/css/hc-black-theme",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/baseWorkbenchShell",["require","exports","vs/base/dom/builder","vs/base/env","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/platform/actionRegistry","vs/base/ui/widgets/modalview/modalView","vs/workbench/ui/services","vs/workbench/ui/actionRegistry","vs/base/ui/widgets/shell/shell","vs/monaco/contrib/actions/changeTheme","vs/css!vs/editor/css/vs-theme","vs/css!vs/editor/css/vs-dark-theme","vs/css!vs/editor/css/hc-black-theme","vs/css!vs/workbench/css/vs-theme","vs/css!vs/workbench/css/vs-dark-theme","vs/css!vs/workbench/css/hc-black-theme"],function(e,t,n,r,i,o,s,a,l,c,u,d){var p=n.$,h=function(e){function t(t){e.call(this,t),this.shellContainer=t}return __extends(t,e),t.prototype.createContents=function(e){this.modalView=new a.ModalView(this.shellContainer);var t=p(e).div();return t},t}(u.Shell);t.BaseWorkbenchShell=h;var m=function(e){function t(t,n){e.call(this,t),this.modalView=n}return __extends(t,e),t.prototype.show=function(t,n){if(!n.render)return e.prototype.show.call(this,t,n);var r=n;return this.modalView.showModalView({render:function(e){var t=null,n=p(".monaco-notification-container").appendTo(e),i=p(".notification").appendTo(n);p("h2.notification-title").text(r.message).appendTo(i);var o=p(".notification-body").appendTo(i);return r.render&&(t=r.render(o.getHTMLElement())),t},onBeforeUnload:n.onBeforeUnload})},t}(l.WorkbenchMessageService);t.WorkbenchShellMessageService=m;var f=i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",0),v=o.Registry.as(c.Extensions.WorkbenchActions);v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToLightAction,d.ChangeThemeToLightAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",1)),f),v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToDarkAction,d.ChangeThemeToDarkAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",2)),f),(!r.isNative||r.isWindows)&&v.registerWorkbenchAction(new s.SyncActionDescriptor(d.ChangeThemeToHighContrastAction,d.ChangeThemeToHighContrastAction.ID,i.localize("vs_monaco_ui_workbench_baseWorkbenchShell",3)),f)}),define("vs/platform/files/httpFileService",["require","exports","vs/platform/services","vs/base/lib/winjs.base","vs/base/paths","vs/base/types","vs/base/uri","vs/base/mime","vs/base/strings","vs/base/assert","vs/base/arrays","vs/base/errors","vs/base/http"],function(e,t,n,r,i,o,s,a,l,c,u,d,p){var h=function(){function e(e){var t=this;this.eventService=e.eventService,this.requestService=e.requestService,this.telemetryService=e.telemetryService,this.contextService=e.contextService,this.requestService.supportsRemoteEvents()&&(this.fileChangesListenerUnbind||(this.fileChangesListenerUnbind=this.requestService.addRemoteListener("files:rawFileChanges",function(e){return t.onFileChanges(e)})))}return e.prototype.onFileChanges=function(e){e&&(e=u.coalesce(e)).length>0&&this.eventService.emit(n.Files.EventType.FILE_CHANGES,n.Files.FileChangesEvent.fromRaw(e))},e.prototype.updateOptions=function(){},e.prototype.resolveFileStat=function(e,t,o){if(void 0===o&&(o=!1),e=i.makeAbsolute(e),t)for(var s=0;s<t.length;s++)t[s]=i.makeAbsolute(t[s]);var a;if(t||o){var l={};t&&(l.resolveTo=t),o&&(l.resolveSingleChildDescendants=!0),a=this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.POST,headers:{"Content-Type":p.Mime.JSON},data:JSON.stringify(l)})}else a=this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.GET,headers:{Accept:p.Mime.JSON,"X-Vary":"1"}});return new r.TPromise(function(r,i){a.then(function(o){try{r(n.Files.FileStatImpl.fromRAW(JSON.parse(o.responseText),e,t))}catch(s){i(s)}},function(e){i(new d.ConnectionError(e))})})},e.prototype.resolveFileStats=function(e,t){return this.requestService.makeChunkedRequest({url:l.format("{0}?glob={1}",this.requestService.getRequestUrl("root",e),encodeURIComponent(t)),type:p.GET,headers:{"X-Vary":"1",Accept:p.Mime.RAW}}).then(function(e){return e.chunks.map(function(e){return n.Files.FileStatImpl.fromRAW(JSON.parse(e.value()))})})},e.prototype.resolveContent=function(e,t,o){var a=this,l=this.toWorkspaceRelativePath(e),c={Accept:t?p.Mime.TEXT:p.Mime.RAW,"X-Vary":t?"3":"2"};return o&&(c["If-None-Match"]=o),this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",l),type:p.GET,headers:c}).then(function(e){var t=new n.Files.Content(s.parse(e.getResponseHeader(p.Header.X_RESOURCE)),l,e.responseText,l.length>1?i.basename(l):l,e.getResponseHeader(p.Header.LAST_MODIFIED),e.getResponseHeader(p.Header.X_CONTENT_TYPES)||e.getResponseHeader(p.Header.CONTENT_TYPE),e.getResponseHeader(p.Header.X_CONTENT_CHARSET),e.getResponseHeader(p.Header.ETAG));return a.telemetryService.publicLog("fileGet",{mimeType:e.getResponseHeader(p.Header.CONTENT_TYPE)}),t},function(e){return o&&304===e.status?(a.telemetryService.publicLog("fileGet",{mimeType:e.getResponseHeader(p.Header.CONTENT_TYPE)}),r.Promise.wrapError({fileOperationResult:n.Files.FileOperationResult.FILE_NOT_MODIFIED_SINCE})):406===e.status&&t?r.Promise.wrapError({message:"Requested file is binary but client only accepts text",fileOperationResult:n.Files.FileOperationResult.FILE_IS_BINARY}):404===e.status?r.Promise.wrapError({message:"File not found",fileOperationResult:n.Files.FileOperationResult.FILE_NOT_FOUND}):r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.toWorkspaceRelativePath=function(e){var t=this.contextService.toWorkspaceRelativePath(e);if(t)return t;throw new Error("Out of workspace resources are unsupported")},e.prototype.resolveContents=function(e){return 0===e.length?r.TPromise.as([]):this.requestService.makeChunkedRequest({url:this.requestService.getRequestUrl("root"),type:p.POST,headers:{"X-Vary":4,"Content-Type":p.Mime.JSON},data:JSON.stringify({pathsToResolve:e})}).then(function(e){return e.chunks.map(function(e){return new n.Files.Content(s.parse(e.header(p.Header.X_RESOURCE)),e.header(p.Header.X_FILEPATH),e.value(),i.basename(e.header(p.Header.X_FILEPATH)),e.header(p.Header.LAST_MODIFIED),e.header(p.Header.CONTENT_TYPE),e.header(p.Header.X_CONTENT_CHARSET),e.header(p.Header.ETAG))})})},e.prototype.updateContent=function(e){var t=this,i=this.toWorkspaceRelativePath(e.resource),o={"Content-Type":p.Mime.RAW};return e.etag&&(o["If-None-Match"]=e.etag),e.mtime&&(o["If-Unmodified-Since"]=new Date(e.mtime).toUTCString()),e.charset&&(o[p.Header.X_CONTENT_CHARSET]=e.charset),this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",i),type:p.PUT,headers:o,data:e.value}).then(function(o){var s=n.Files.FileStatImpl.fromRAW(JSON.parse(o.responseText),i);return t.telemetryService.publicLog("filePUT",{mimeType:e.mime||a.MIME_UNKNOWN}),r.TPromise.as(s)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.moveFile=function(e,t,n){return void 0===n&&(n=!1),this.moveOrCopyFile(e,t,!1,n)},e.prototype.copyFile=function(e,t){return this.moveOrCopyFile(e,t,!0,!1)},e.prototype.moveOrCopyFile=function(e,t,o,s){t&&(t=i.makeAbsolute(t)),e.isDirectory&&(t+=i.sep);var a;a=o?JSON.stringify({copyTo:t}):JSON.stringify({moveTo:t,overwrite:s});var c={"Content-Type":p.Mime.JSON};return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e.path+(e.isDirectory?i.sep:l.empty)),type:p.POST,headers:c,data:a}).then(function(e){return r.TPromise.as(n.Files.FileStatImpl.fromRAW(JSON.parse(e.responseText),l.rtrim(t,i.sep)))},function(e){return 412===e.status?r.Promise.wrapError({fileOperationResult:n.Files.FileOperationResult.FILE_MOVE_CONFLICT}):r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.createFile=function(e,t,r){var s=o.isString(e)?null:e,l=o.isString(e)?e:t,c=o.isString(e)?t:r;if(c){var u;u=s?i.makeAbsolute(i.join(s.path,l)):e;var d=this.contextService.toResource(u);return this.updateContent(new n.Files.Content(d,u,c,l,null,a.MIME_TEXT,null,null))}return this.createFileOrFolder(s?this.getPath(s,l,!1):e,!1)},e.prototype.createFolder=function(e,t){return this.createFileOrFolder(this.getPath(e,t,!0),!0)},e.prototype.getPath=function(e,t,n){var r=i.makeAbsolute(i.join(e.path,t));return n&&(r+=i.sep),r},e.prototype.createFileOrFolder=function(e){var t={"If-Unmodified-Since":new Date(0).toUTCString()};return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e),type:p.PUT,headers:t,data:""}).then(function(t){return r.TPromise.as(n.Files.FileStatImpl.fromRAW(JSON.parse(t.responseText),l.rtrim(e,i.sep)))},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.renameFile=function(e,t){return this.renameFileOrFolder(e,t)},e.prototype.renameFolder=function(e,t){return this.renameFileOrFolder(e,t)},e.prototype.renameFileOrFolder=function(e,t){var n=i.join(i.dirname(e.path),t);return this.moveFile(e,n)},e.prototype.deleteFile=function(e){return this.doDeleteFileOrFolder(e)},e.prototype.deleteFolder=function(e){return this.doDeleteFileOrFolder(e)},e.prototype.doDeleteFileOrFolder=function(e){return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",e.path+(e.isDirectory?i.sep:l.empty)),type:p.DELETE,headers:{}}).then(function(){return r.TPromise.as(e)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.uploadData=function(e,t){c.ok(window.FormData,"Upload data via FormData not supported on this platform");var n=i.join(e.path,t.name),r=e.path;e.isDirectory&&r.charAt(r.length-1)!==i.sep&&(r+=i.sep);var o=new FormData;return o.append("data",t),o=this.addAditionalHiddenFormData(o),this.doUploadData(o,r,n,{})},e.prototype.doUploadData=function(e,t,i,o){return this.requestService.makeRequest({url:this.requestService.getRequestUrl("root",t),type:p.POST,headers:o,data:e}).then(function(e){var t={stat:n.Files.FileStatImpl.fromRAW(JSON.parse(e.responseText),i),isNew:201===e.status};return r.TPromise.as(t)},function(e){return r.Promise.wrapError(new d.ConnectionError(e))})},e.prototype.addAditionalHiddenFormData=function(e){var t=this.contextService.getConfiguration().additionalHiddenFormFields||{};if(t){var n;for(n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&e.append(n,r)}}return e},e.prototype.watchFile=function(){return function(){return void 0}},e.prototype.dispose=function(){this.fileChangesListenerUnbind&&(this.fileChangesListenerUnbind(),this.fileChangesListenerUnbind=null)},e}();t.HttpFileService=h}),define("vs/platform/search/httpSearchService",["require","exports","vs/base/lib/winjs.base","vs/base/strings","vs/base/errors","vs/platform/search/search","vs/base/uri"],function(e,t,n,r,i,o,s){var a=function(){function e(e){this._requestService=e.requestService}return e.prototype.search=function(e){return this._doSearch(e)},e.prototype._doSearch=function(e){var t,a,l=this;return new n.PPromise(function(n,c,u){a=c;var d,p=[],h=0,m=function(e){for(;-1!==(d=e.responseText.indexOf("\n",h));){var t=e.responseText.substring(h,d),r=JSON.parse(t);if(r.resource){var a=new o.FileMatch(s.parse(r.resource));if(p.push(a),r.lineMatches)for(var l=0;l<r.lineMatches.length;l++)a.lineMatches.push(new o.LineMatch(r.lineMatches[l].preview,r.lineMatches[l].lineNumber,r.lineMatches[l].offsetAndLengths));u(a)}else u(r);h=d+1}4===e.readyState&&(200===e.status?n(p):c(new i.ConnectionError(e)))};t=l._requestService.makeRequest({type:"POST",url:l._requestService.getRequestUrl("search"),headers:{"Content-Type":"application/json",Accept:r.format("{0}, {1}","text/plain","application/json")},data:JSON.stringify(e)}),t.then(m,function(e){c(new i.ConnectionError(e))},m)},function(){a&&a(new Error("Canceled")),t&&t.cancel()})},e}();t.HttpSearchService=a}),define("vs/editor/worker/workerCodeLoader",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/platform/plugins"],function(e,t,n,r,i){var o=function(){function e(e,t){t(e)}return e}(),s=function(){function t(e){this._threadService=e.threadService,this._instantiationService=e.instantiationService}return t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerSideWorkerCodeLoader",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.loadAMDCode=function(t){var r,s,a=this,l=new n.TPromise(function(e,t){r=e,s=t});if(!/^file\:\/\//.test(t)){var c=t.match(/.*(\/plugins\/.*)\.js$/i);c&&(t="vs"+c[1])}return e([t],function(e){"function"==typeof e.activate?a._instantiationService.createInstance(o,function(n){i.PluginManager.callActivateWithCtx(e,n).done(function(e){r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))})}):r(a._threadService.proxifyMethods("workerCodeLoader/"+t,e))},s),l},t}();t.WorkerSideWorkerCodeLoader=s
+-}),define("vs/editor/api/base.api",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/base/network","vs/base/uri","vs/base/strings","vs/base/paths","vs/base/severity","vs/platform/plugins","vs/editor/core/range","vs/editor/modes/monarch/monarch","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t;t=new g(e),define("monaco",[],t)}var v=function(){function e(e){this._modelService=e.modelService,this.Promise=r.TPromise,this.URL=i.URL,this.URI=o,this.Models_EndOfLinePreference=m.EndOfLinePreference,this.Modes_Bracket=p.Bracket,this._pathTranslator=new S(e),this.Services_Severity=l}return e.prototype.Range_containsPosition=function(e,t){return u.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return h.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return h.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){d.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Paths_toAbsoluteFilePath=function(e){return this._pathTranslator.asAbsolutePath(e)},e.prototype.Paths_getAppRoot=function(){return n.appRoot},e}();t.BaseMonacoAPI=v,t.createAPI=f;var g=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new b(e),this.Paths=new _(e),this.Plugins=new E(e),this.Services=new w(e)}return e}(),b=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new y(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),y=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)}return e}(),_=function(){function e(e){this.toAbsoluteFilePath=e.Paths_toAbsoluteFilePath.bind(e),this.getAppRoot=e.Paths_getAppRoot.bind(e)}return e}(),w=function(){function e(e){this.Severity=e.Services_Severity}return e}(),E=function(){function e(){this.get=c.get.bind(c)}return e}(),S=function(){function e(e){this._baseFileUrl=e.requestService.getRequestUrl("root",s.empty,!0),this._workspacePath=e.contextService.getWorkspace()?e.contextService.getWorkspace().resource.path:void 0}return e.prototype.asRelativePath=function(e){return this._workspacePath&&s.startsWith(e,this._workspacePath)?e.substr(this._workspacePath.length):null},e.prototype.asUrl=function(e){var t=this.asRelativePath(e);return t?i.URL.fromValue(a.join(this._baseFileUrl,a.normalize(t))):null},e.prototype.asRelativeUrl=function(e){var t=e.toString();return s.startsWith(t,this._baseFileUrl)?t.substr(this._baseFileUrl.length):null},e.prototype.asAbsolutePath=function(e){var t=this.asRelativeUrl(e);return t&&this._workspacePath?a.normalize(a.join(this._workspacePath,t),!0):null},e.prototype.toAbsolutePath=function(e){return e&&this._workspacePath?a.normalize(a.join(this._workspacePath,e),!0):null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.api",["require","exports","vs/editor/modes/modesExtensions","vs/editor/worker/workerCodeLoader","./base.api"],function(e,t,n,r,i){function o(e){i.createAPI(new s(e))}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=r.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){n.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t.prototype.Modes_DeclarationSupport_register=function(e,t){n.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){n.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){n.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){n.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){n.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){n.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){n.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){n.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var r={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(r.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(r.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;r.getAutoFormatTriggerCharacters=function(){return i}}n.registerFormattingSupport(e,r)},t.prototype.Modes_SuggestSupport_register=function(e,t){n.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){n.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){n.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){n.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){n.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){n.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){n.registerDeclarativeCharacterPairSupport(e,t)},t}(i.BaseMonacoAPI),a=function(){function e(e){o(e)}return e}();t.MonacoAPISetup=a,t.setup=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/baseRemote.api",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/modesExtensions","vs/editor/api/base.api"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["nonWordTokenTypes","wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(i.BaseMonacoAPI);t.RemoteMonacoAPI=o;var s=function(){function e(e){this._threadService=e.threadService,this._modelService=e.modelService}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){r.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){n.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){r.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){r.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){r.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){r.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){r.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){r.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){r.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){r.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){r.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return i}}r.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){r.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){r.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){r.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){r.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){r.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){r.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.worker.api",["require","exports","vs/editor/modes/supports","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t,a.getInstance(t.threadService)),this._resourceService=t.resourceService,i.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.InplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(o.RemoteMonacoAPI);t.WorkerMonacoAPI=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new r.SyncDescriptor(t))},t}(o.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=a}),define("vs/css!vs/monaco/ui/workbench/web/media/workbenchshell",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/web/workbenchShell",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/events","vs/base/strings","vs/base/assert","vs/base/types","vs/base/ui/widgets/shell/shell","vs/base/objects","vs/base/env","vs/platform/configuration/httpConfigurationService","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/dropdown","vs/platform/contextview/contextviewService","vs/monaco/core/requestService","vs/workbench/constants","vs/platform/storage/storage","vs/workbench/ui/workbench","vs/workbench/ui/actionRegistry","vs/workbench/ui/services","vs/workbench/contrib/git/gitWidgets","vs/platform/telemetry/mainTelemetryService","vs/monaco/contrib/feedback/feedback","vs/monaco/contrib/profile/profileWidget","vs/base/ui/widgets/dropdown/linksDropdown","vs/monaco/contrib/connect/connectDropdown","vs/monaco/ui/connectionIndicator","vs/monaco/contrib/actions/changeTheme","vs/monaco/ui/workbench/baseWorkbenchShell","vs/platform/files/httpFileService","vs/platform/search/httpSearchService","vs/base/severity","vs/editor/api/monaco.api","vs/editor/api/monaco.worker.api","vs/platform/thread/mainThreadService","vs/platform/thread/nullThreadService","vs/platform/eventService","vs/platform/configuration/keybindingService","vs/css!./media/workbenchshell"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,I,N,O,R,P,M,D,F,V,B,H,W,U,$){var j=o.$,z=function(e){function t(t,n,r,i){e.call(this,t),d.ok(p.isObject(n),"Monaco Workbench Shell requires a workspace to be created with"),this.workspace=n,this.configuration=r,this.options=m.mixin({},i),this.toDispose=[]}return __extends(t,e),t.prototype.createContents=function(t){var n=this,r=e.prototype.createContents.call(this,t),i=this.initServices();this.workbench=new S.Workbench(r.getHTMLElement(),this.workspace,this.configuration,this.options,i),this.workbench.startup({onBeforeUnload:function(){return n.modalView.onBeforeUnload()}});var o=i.threadService;return V.setup(i),B.MainProcessWorkerAPIHelper.getInstance(o),this.requestService.supportsRemoteEvents()&&(this.connectionIndicator=this.workbench.getInstantiationService().createInstance(O.ConnectionIndicator)),r},t.prototype.initServices=function(){var e=new U.EventService,t=new k.WorkspaceContextService({eventService:e},this.workspace,this.configuration,this.options);this.telemetryService=new x.MainTelemetryService(t,{enableTelemetry:f.enableTelemetry,publicOnly:f.enablePrivateTelemetry?!1:!0}),this.requestService=new _.RequestService({contextService:t,telemetryService:this.telemetryService,eventService:e});var n=new $.KeybindingService(window);this.toDispose.push(n),this.messageService=new P.WorkbenchShellMessageService({eventService:e,telemetryService:this.telemetryService,keybindingService:n},this.modalView),n.setMessageService(this.messageService),this.contextViewService=new y.ContextViewService(this.shellContainer,this.telemetryService,this.messageService),this.storageService=new E.Storage(this.workspace);var r=f.isTesting()?W.NULL_THREAD_SERVICE:new H.MainThreadService(t,this.telemetryService),i=new M.HttpFileService({contextService:t,eventService:e,requestService:this.requestService,telemetryService:this.telemetryService}),o=new v.HttpConfigurationService({contextService:t,eventService:e,fileService:i}),s={eventService:e,telemetryService:this.telemetryService,requestService:this.requestService,contextService:t,contextViewService:this.contextViewService,contextMenuService:this.contextViewService,messageService:this.messageService,storageService:this.storageService,keybindingService:n,fileService:i,configurationService:o,searchService:new D.HttpSearchService({requestService:this.requestService}),threadService:r};return s},t.prototype.fillNavBar=function(t){var r=this;e.prototype.fillNavBar.call(this,t),f.enableAzurePortalNavigation&&f.azureWebSiteName?t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n,i=window.location.hostname;i.indexOf(".scm")>=0?(t="http://"+i.replace(".scm",""),n="http://"+i+"/DebugConsole"):t="http://"+i;var o=r.workbench.getInstantiationService().createInstance(N.ConnectDropdownMenu,e,{contextMenuProvider:r.contextViewService,webSiteUrl:t,kuduConsoleUrl:n,workspaceName:f.azureWebSiteName});return function(){return o.dispose()}}):t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n=r.configuration.workspaces.map(function(e){var t=null;return e.id===r.workspace.id&&(t="check"),new I.LinkDropdownAction(e.id,e.name,t,r.configuration.paths.PUBLIC_WORKSPACE_URL(e))});n.push(new g.Separator),n.push(new I.LinkDropdownAction("browseWorkspaces",a.localize("vs_monaco_ui_workbench_web_workbenchShell",0),null,r.configuration.paths.PUBLIC_DASHBOARD_URL)),t=r.workspace.name;var i=new I.LinksDropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:n,tick:!0,label:t,tooltip:a.localize("vs_monaco_ui_workbench_web_workbenchShell",1)});return i.addListener(c.EventType.BEFORE_RUN,function(){r.telemetryService.log("workbenchWorkspaceSwitched")}),function(){return i.dispose()}}),f.enableGit&&t.addItem(!0,function(e){j(e).addClass("git");var t=r.workbench.getInstantiationService().createInstance(C.GitWorkbenchWidget,e);return t.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return t.dispose()}}),f.enableFeedback&&t.addItem(!1,function(e){var t=r.workbench.getInstantiationService().createInstance(A.FeedbackDropdown,e,{contextViewProvider:r.contextViewService});return function(){return t.dispose()}}),t.addItem(!1,function(e){j(e).addClass("help");var t=[];t=t.concat(r.createActions(["workbench.action.showQuickStart","workbench.action.showCommands"])),(f.supportLink||f.privacyLink||f.legalLink)&&t.push(new g.Separator),f.supportLink&&t.push(new s.Action("supportAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",2),null,!0,function(){return window.open(f.supportLink),n.Promise.as(!0)})),f.privacyLink&&t.push(new s.Action("privacyAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",3),null,!0,function(){return window.open(f.privacyLink),n.Promise.as(!0)})),f.legalLink&&t.push(new s.Action("legalAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",4),null,!0,function(){return window.open(f.legalLink),n.Promise.as(!0)}));var i=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return i.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},i.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),i.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return i.dispose()}}),t.addItem(!1,function(e){j(e).addClass("settings");var t=[];t.push(r.workbench.getInstantiationService().createInstance(R.ChangeThemeToLightAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToDarkAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToHighContrastAction)),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.pinWindow","workbench.action.toggleSidebarVisibility","workbench.action.toggleSidebarPosition"])),f.enablePerformanceTools&&(t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.showPerfBox"]))),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.openWorkspaceSettings"]));var n=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return n.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},n.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),n.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return n.dispose()}}),f.isInIframe()&&t.addItem(!1,function(e){return j(e).addClass("popout"),j(e).a({class:["button-link"],href:"https://"+f.azureWebSiteName+".scm.azurewebsite.net/dev",target:"_blank"}),null}),f.azureWebSiteScmType&&"None"!==f.azureWebSiteScmType&&t.addItem(!0,function(e){return j(e).div({class:["scm-warning"]},function(e){e.a({text:"Warning: Continuous Deployment May Be Enabled",class:["breadcrumb-entry"],href:"http://go.microsoft.com/fwlink/?LinkId=816520#continuous-deployment",target:"_blank"})}),null});var i=this.configuration.profile;if(i&&t.addItem(!1,function(e){j(e).addClass("profile");var t=new L.ProfileWidget(e,{contextViewProvider:r.contextViewService,labelRenderer:function(e){return j(e).text(i.userName),null}},i);return function(){return t.dispose()}}),f.azureWebSiteTryMode&&f.tryAzureLifeTimeInMinutes&&f.tryAzureLastModifiedUTC){var o=new Date(f.tryAzureLastModifiedUTC),l=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())),d=new Date(l.getTime()+60*Number(f.tryAzureLifeTimeInMinutes)*1e3).getTime();t.addItem(!1,function(e){j(e).addClass("trywaws");var t=window.setInterval(function(){var t=(new Date).getTime(),n=d-t;if(n>=0){var r,i=n/1e3,o=i/60;if(60>i)r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",5,u.pad(Math.floor(i),2));else{var o=i/60;r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",6,u.pad(Math.floor(o),2),u.pad(Math.floor(i)-60*Math.floor(o),2))}j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",7,r))}else j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",8))},1e3);return function(){return window.clearInterval(t)}})}},t.prototype.createActions=function(e){var t=this;return e.map(function(e){var n=l.Registry.as(T.Extensions.WorkbenchActions),r=n.getWorkbenchAction(e);if(r){var i=t.workbench.getInstantiationService().createInstance(r);return i}return null}).filter(function(e){return!!e})},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var n=this.storageService.get(w.Preferences.THEME,r.StorageScope.GLOBAL,h.toString(h.Theme.VS));this.setTheme(n,!1),this.toUnbind.push(this.storageService.addListener(r.StorageEventType.STORAGE,function(e){e.key===w.Preferences.THEME&&t.setTheme(e.newValue)}))},t.prototype.onUnexpectedError=function(t){e.prototype.onUnexpectedError.call(this,t),t.friendlyMessage&&this.messageService&&this.messageService.show(F.Error,t.friendlyMessage)},t.prototype.layout=function(){e.prototype.layout.call(this),this.contextViewService.layout(),this.workbench.layout()},t.prototype.dispose=function(t){if(this.workbench){var n=this.workbench.shutdown(t);if(n)return}this.contextViewService.dispose(),this.storageService.dispose(),this.connectionIndicator&&this.connectionIndicator.dispose(),this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(P.BaseWorkbenchShell);t.WorkbenchShell=z}),define("vs/css!vs/base/performance/timerRenderer",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/performance/timerRenderer",["require","exports","./timer","vs/base/dom/dom","vs/css!./timerRenderer"],function(e,t,n,r){var i=function(){function e(e){var t=this;this.timeKeeper=n.getTimeKeeper(),this.onHide=e,this.lastEventIndex=0,this.renderedEvents={},this.renderCnt=0,this.listenersToRemove=[],this.domNode=this._createDomNode(),this.intervalTokenId=window.setInterval(function(){return t._render()},500)}return e.prototype.destroy=function(){document.body.removeChild(this.outerDomNode),window.clearInterval(this.intervalTokenId),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype._createDomNode=function(){var e=this;this.outerDomNode=document.createElement("div"),this.outerDomNode.className="benchmarktimerbox";var t=document.createElement("input");t.type="button",t.value="Clear",this.listenersToRemove.push(r.addListener(t,"click",function(){return e._onClear()})),this.outerDomNode.appendChild(t),this.textFilterDomNode=document.createElement("input"),this.textFilterDomNode.type="text",this.textFilterDomNode.className="textFilter",this.listenersToRemove.push(r.addListener(this.textFilterDomNode,"keydown",function(){return e.onTextFilterChange()})),this.textFilter="",this.outerDomNode.appendChild(document.createTextNode("Filter")),this.outerDomNode.appendChild(this.textFilterDomNode),this.timeFilterDomNode=document.createElement("input"),this.timeFilterDomNode.type="text",this.timeFilterDomNode.value="0",this.timeFilterDomNode.className="timeFilter",this.listenersToRemove.push(r.addListener(this.timeFilterDomNode,"keydown",function(){return e.onTimeFilterChange()})),this.timeFilter=0,this.outerDomNode.appendChild(document.createTextNode("Hide time under")),this.outerDomNode.appendChild(this.timeFilterDomNode);var n=document.createElement("input");n.type="button",n.value="Close",this.listenersToRemove.push(r.addListener(n,"click",function(){e.onHide()})),this.outerDomNode.appendChild(n);var i=document.createElement("pre");i.appendChild(document.createTextNode(this.renderRow("TOPIC","NAME","TOOK","START","END"))),this.outerDomNode.appendChild(i),this.outerDomNode.appendChild(document.createElement("hr"));var o=document.createElement("div");return o.className="inner",this.outerDomNode.appendChild(o),document.body.appendChild(this.outerDomNode),o},e.prototype.onTextFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.onTimeFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.matchesTextFilter=function(e){return this.textFilter?e.topic.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:e.name.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:!1:!0},e.prototype.matchesTimeFilter=function(e){return this.timeFilter?e.timeTaken()>=this.timeFilter?!0:!1:!0},e.prototype.shouldShow=function(e){return this.matchesTextFilter(e)&&this.matchesTimeFilter(e)},e.prototype.refilter=function(){this.textFilter=this.textFilterDomNode.value,this.timeFilter=parseInt(this.timeFilterDomNode.value,10);for(var e=Array.prototype.slice.call(this.domNode.children,0),t=0;t<e.length;t++){var n=e[t].getAttribute("data-event-id"),r=this.renderedEvents[n];e[t].style.display=this.shouldShow(r)?"inherit":"none"}},e.prototype._onClear=function(){this.lastEventIndex=this.timeKeeper.getCollectedEvents().length,this.renderedEvents={},this.renderCnt=0,r.clearNode(this.domNode)},e.prototype.leftPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return r+n},e.prototype.rightPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return n+r},e.prototype.renderRow=function(e,t,n,r){var i=" ";return i+=this.rightPaddedString(10," ",e),i+=this.rightPaddedString(30," ",t),i+=" "+this.leftPaddedString(15," ",n),i+=" "+this.leftPaddedString(13," ",r)},e.prototype._suffix0=function(e){return"."===e.charAt(e.length-3)?e:"."===e.charAt(e.length-2)?e+"0":e+".00"},e.prototype._twoPrecision=function(e){return this._suffix0(Math.round(100*e)/100+"")},e.prototype._absoluteTime=function(e){return 1e3>e?this._twoPrecision(e)+" ms":(e/=1e3,60>e?this._twoPrecision(e)+" s":(e/=60,60>e?this._twoPrecision(e)+" m":(e/=60,this._twoPrecision(e)+" h")))},e.prototype._renderEvent=function(e,t){var r=t.startTime.getTime()-n.TimeKeeper.PARSE_TIME.getTime(),i=this.renderRow(t.topic,t.name,this._twoPrecision(t.timeTaken()),this._absoluteTime(r)+"",this._absoluteTime(r+t.timeTaken()));e.textContent="",e.appendChild(document.createTextNode(i))},e.prototype._renderStartTimerEvent=function(e){var t=document.createElement("pre");this._renderEvent(t,e),this.domNode.appendChild(t);var n=e.id.toString();t.setAttribute("data-event-id",n),t.className="timer-event-"+e.id%2,this.renderedEvents[n]=e,t.style.display=this.shouldShow(this.renderedEvents[n])?"inherit":"none",this.renderCnt++},e.prototype._render=function(){for(var e=this.timeKeeper.getCollectedEvents(),t=!1,n=this.lastEventIndex;n<e.length;n++){var r=e[n];if(!r.stopTime)return this.lastEventIndex=n,t&&(this.domNode.scrollTop=1e5),void 0;this._renderStartTimerEvent(r),t=!0}t&&(this.domNode.scrollTop=1e5),this.lastEventIndex=e.length},e.prototype._repeatStr=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},e}();t.TimeKeeperRenderer=i
++}),define("vs/editor/api/base.api",["require","exports","vs/base/env","vs/base/lib/winjs.base","vs/base/network","vs/base/uri","vs/base/strings","vs/base/paths","vs/base/severity","vs/platform/plugins","vs/editor/core/range","vs/editor/modes/monarch/monarch","vs/editor/modes/modes","vs/editor/modes/supports","vs/editor/editor"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m){function f(e){var t;t=new g(e),define("monaco",[],t)}var v=function(){function e(e){this._modelService=e.modelService,this.Promise=r.TPromise,this.URL=i.URL,this.URI=o,this.Models_EndOfLinePreference=m.EndOfLinePreference,this.Modes_Bracket=p.Bracket,this._pathTranslator=new S(e),this.Services_Severity=l}return e.prototype.Range_containsPosition=function(e,t){return u.containsPosition(e,t)},e.prototype.Modes_InplaceReplaceSupport_valueSetReplace=function(e,t,n){return h.ReplaceSupport.valueSetReplace(e,t,n)},e.prototype.Modes_InplaceReplaceSupport_valueSetsReplace=function(e,t,n){return h.ReplaceSupport.valueSetsReplace(e,t,n)},e.prototype.Modes_registerMonarchDefinition=function(e,t){d.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Paths_toAbsoluteFilePath=function(e){return this._pathTranslator.asAbsolutePath(e)},e.prototype.Paths_getAppRoot=function(){return n.appRoot},e}();t.BaseMonacoAPI=v,t.createAPI=f;var g=function(){function e(e){this.Promise=e.Promise,this.URL=e.URL,this.URI=e.URI,this.Range={containsPosition:e.Range_containsPosition.bind(e)},this.Models={EndOfLinePreference:e.Models_EndOfLinePreference},this.Modes=new b(e),this.Paths=new _(e),this.Plugins=new E(e),this.Services=new w(e)}return e}(),b=function(){function e(e){this.Bracket=e.Modes_Bracket,this.InplaceReplaceSupport=new y(e),this.registerMonarchDefinition=e.Modes_registerMonarchDefinition.bind(e),this.loadInBackgroundWorker=e.Modes_loadInBackgroundWorker.bind(e),this.DeclarationSupport={register:e.Modes_DeclarationSupport_register.bind(e)},this.CodeLensSupport={register:e.Modes_CodeLensSupport_register.bind(e)},this.OccurrencesSupport={register:e.Modes_OccurrencesSupport_register.bind(e)},this.OutlineSupport={register:e.Modes_OutlineSupport_register.bind(e)},this.QuickFixSupport={register:e.Modes_QuickFixSupport_register.bind(e)},this.ReferenceSupport={register:e.Modes_ReferenceSupport_register.bind(e)},this.ExtraInfoSupport={register:e.Modes_ExtraInfoSupport_register.bind(e)},this.RenameSupport={register:e.Modes_RenameSupport_register.bind(e)},this.FormattingSupport={register:e.Modes_FormattingSupport_register.bind(e)},this.SuggestSupport={register:e.Modes_SuggestSupport_register.bind(e)},this.NavigateTypesSupport={register:e.Modes_NavigateTypesSupport_register.bind(e)},this.CommentsSupport={register:e.Modes_CommentsSupport_register.bind(e)},this.ParameterHintsSupport={register:e.Modes_ParameterHintsSupport_register.bind(e)},this.TokenTypeClassificationSupport={register:e.Modes_TokenTypeClassificationSupport_register.bind(e)},this.ElectricCharacterSupport={register:e.Modes_ElectricCharacterSupport_register.bind(e)},this.CharacterPairSupport={register:e.Modes_CharacterPairSupport_register.bind(e)}}return e}(),y=function(){function e(e){this.register=e.Modes_InplaceReplaceSupport_register.bind(e),this.create=e.Modes_InplaceReplaceSupport_create.bind(e),this.valueSetReplace=e.Modes_InplaceReplaceSupport_valueSetReplace.bind(e),this.valueSetsReplace=e.Modes_InplaceReplaceSupport_valueSetsReplace.bind(e)}return e}(),_=function(){function e(e){this.toAbsoluteFilePath=e.Paths_toAbsoluteFilePath.bind(e),this.getAppRoot=e.Paths_getAppRoot.bind(e)}return e}(),w=function(){function e(e){this.Severity=e.Services_Severity}return e}(),E=function(){function e(){this.get=c.get.bind(c)}return e}(),S=function(){function e(e){this._baseFileUrl=e.requestService.getRequestUrl("root",s.empty,!0),this._workspacePath=e.contextService.getWorkspace()?e.contextService.getWorkspace().resource.path:void 0}return e.prototype.asRelativePath=function(e){return this._workspacePath&&s.startsWith(e,this._workspacePath)?e.substr(this._workspacePath.length):null},e.prototype.asUrl=function(e){var t=this.asRelativePath(e);return t?i.URL.fromValue(a.join(this._baseFileUrl,a.normalize(t))):null},e.prototype.asRelativeUrl=function(e){var t=e.toString();return s.startsWith(t,this._baseFileUrl)?t.substr(this._baseFileUrl.length):null},e.prototype.asAbsolutePath=function(e){var t=this.asRelativeUrl(e);return t&&this._workspacePath?a.normalize(a.join(this._workspacePath,t),!0):null},e.prototype.toAbsolutePath=function(e){return e&&this._workspacePath?a.normalize(a.join(this._workspacePath,e),!0):null},e}()});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.api",["require","exports","vs/editor/modes/modesExtensions","vs/editor/worker/workerCodeLoader","./base.api"],function(e,t,n,r,i){function o(e){i.createAPI(new s(e))}var s=function(e){function t(t){e.call(this,t),this._workerCodeLoader=r.WorkerSideWorkerCodeLoader.getInstance(t.threadService)}return __extends(t,e),t.prototype.Modes_loadInBackgroundWorker=function(e){return this._workerCodeLoader.loadAMDCode(e)},t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){n.registerInplaceReplaceSupport(e,t)},t.prototype.Modes_InplaceReplaceSupport_create=function(){throw new Error("TODO - I need the resource service here...")},t.prototype.Modes_DeclarationSupport_register=function(e,t){n.registerDeclarativeDeclarationSupport(e,t)},t.prototype.Modes_CodeLensSupport_register=function(e,t){n.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},t.prototype.Modes_OccurrencesSupport_register=function(e,t){n.registerOccurrencesSupport(e,t)},t.prototype.Modes_OutlineSupport_register=function(e,t){n.registerOutlineSupport(e,t)},t.prototype.Modes_QuickFixSupport_register=function(e,t){n.registerQuickFixSupport(e,t)},t.prototype.Modes_ReferenceSupport_register=function(e,t){n.registerDeclarativeReferenceSupport(e,t)},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){n.registerExtraInfoSupport(e,t)},t.prototype.Modes_RenameSupport_register=function(e,t){n.registerRenameSupport(e,t)},t.prototype.Modes_FormattingSupport_register=function(e,t){var r={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(r.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(r.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;r.getAutoFormatTriggerCharacters=function(){return i}}n.registerFormattingSupport(e,r)},t.prototype.Modes_SuggestSupport_register=function(e,t){n.registerDeclarativeSuggestSupport(e,t)},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){n.registerNavigateTypesSupport(e,t)},t.prototype.Modes_CommentsSupport_register=function(e,t){n.registerDeclarativeCommentsSupport(e,t)},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){n.registerDeclarativeParameterHintsSupport(e,t)},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){n.registerDeclarativeTokenTypeClassificationSupport(e,t)},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){n.registerDeclarativeElectricCharacterSupport(e,t)},t.prototype.Modes_CharacterPairSupport_register=function(e,t){n.registerDeclarativeCharacterPairSupport(e,t)},t}(i.BaseMonacoAPI),a=function(){function e(e){o(e)}return e}();t.MonacoAPISetup=a,t.setup=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/baseRemote.api",["require","exports","vs/editor/modes/monarch/monarch","vs/editor/modes/modesExtensions","vs/editor/api/base.api"],function(e,t,n,r,i){var o=function(e){function t(t,n){e.call(this,t),this._threadService=t.threadService,this._proxy=n}return __extends(t,e),t.prototype.Modes_InplaceReplaceSupport_register=function(e,t){this._proxy.Modes_InplaceReplaceSupport_register(e,this._threadService.proxifyMembers(e+"/inplaceReplaceSupport",t,["navigateValueSet"]))},t.prototype.Modes_registerMonarchDefinition=function(t,n){e.prototype.Modes_registerMonarchDefinition.call(this,t,n),this._proxy.Modes_registerMonarchDefinition(t,n)},t.prototype.Modes_DeclarationSupport_register=function(e,t){this._proxy.Modes_DeclarationSupport_register(e,this._threadService.proxifyMembers(e+"/declarationSupport",t,["tokens","findDeclaration"]))},t.prototype.Modes_CodeLensSupport_register=function(e,t){this._proxy.Modes_CodeLensSupport_register(e,this._threadService.proxifyMembers(e+"/codeLensSupport",t,["findCodeLensSymbols","findCodeLensReferences"]))},t.prototype.Modes_OccurrencesSupport_register=function(e,t){this._proxy.Modes_OccurrencesSupport_register(e,this._threadService.proxifyMembers(e+"/occurrencesSupport",t,["findOccurrences"]))},t.prototype.Modes_OutlineSupport_register=function(e,t){this._proxy.Modes_OutlineSupport_register(e,this._threadService.proxifyMembers(e+"/outlineSupport",t,["getOutline","outlineGroupLabel"]))},t.prototype.Modes_QuickFixSupport_register=function(e,t){this._proxy.Modes_QuickFixSupport_register(e,this._threadService.proxifyMembers(e+"/quickFixSupport",t,["getQuickFixes","runQuickFixAction"]))},t.prototype.Modes_ReferenceSupport_register=function(e,t){this._proxy.Modes_ReferenceSupport_register(e,this._threadService.proxifyMembers(e+"/referenceSupport",t,["tokens","findReferences"]))},t.prototype.Modes_ExtraInfoSupport_register=function(e,t){this._proxy.Modes_ExtraInfoSupport_register(e,this._threadService.proxifyMembers(e+"/extraInfoSupport",t,["computeInfo"]))},t.prototype.Modes_RenameSupport_register=function(e,t){this._proxy.Modes_RenameSupport_register(e,this._threadService.proxifyMembers(e+"/renameSupport",t,["filter","rename"]))},t.prototype.Modes_FormattingSupport_register=function(e,t){this._proxy.Modes_FormattingSupport_register(e,this._threadService.proxifyMembers(e+"/formattingSupport",t,["formatDocument","formatRange","autoFormatTriggerCharacters","formatAfterKeystroke"]))},t.prototype.Modes_SuggestSupport_register=function(e,t){this._proxy.Modes_SuggestSupport_register(e,this._threadService.proxifyMembers(e+"/suggestSupport",t,["triggerCharacters","excludeTokens","sortBy","suggest","getSuggestionDetails"]))},t.prototype.Modes_NavigateTypesSupport_register=function(e,t){this._proxy.Modes_NavigateTypesSupport_register(e,this._threadService.proxifyMembers(e+"/navigateTypesSupport",t,["getNavigateToItems"]))},t.prototype.Modes_CommentsSupport_register=function(e,t){this._proxy.Modes_CommentsSupport_register(e,this._threadService.proxifyMembers(e+"/commentsSupport",t,["commentsConfiguration"]))},t.prototype.Modes_ParameterHintsSupport_register=function(e,t){this._proxy.Modes_ParameterHintsSupport_register(e,this._threadService.proxifyMembers(e+"/parameterHintsSupport",t,["triggerCharacters","excludeTokens","getParameterHints"]))},t.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){this._proxy.Modes_TokenTypeClassificationSupport_register(e,this._threadService.proxifyMembers(e+"/tokenTypeClassificationSupport",t,["nonWordTokenTypes","wordDefinition"]))},t.prototype.Modes_ElectricCharacterSupport_register=function(e,t){this._proxy.Modes_ElectricCharacterSupport_register(e,this._threadService.proxifyMembers(e+"/electricCharacterSupport",t,["brackets","regexBrackets","docComment","caseInsensitive","embeddedElectricCharacters"]))},t.prototype.Modes_CharacterPairSupport_register=function(e,t){this._proxy.Modes_CharacterPairSupport_register(e,this._threadService.proxifyMembers(e+"/characterPairSupport",t,["autoClosingPairs","surroundingPairs"]))},t}(i.BaseMonacoAPI);t.RemoteMonacoAPI=o;var s=function(){function e(e){this._threadService=e.threadService,this._modelService=e.modelService}return e.prototype.Modes_InplaceReplaceSupport_register=function(e,t){r.registerInplaceReplaceSupport(e,t)},e.prototype.Modes_registerMonarchDefinition=function(e,t){n.registerMonarchDefinition(this._modelService,e,t)},e.prototype.Modes_DeclarationSupport_register=function(e,t){r.registerDeclarativeDeclarationSupport(e,t)},e.prototype.Modes_CodeLensSupport_register=function(e,t){r.registerCodeLensSupport(e,{enableCodeLens:function(){return!0},findCodeLensReferences:t.findCodeLensReferences.bind(t),findCodeLensSymbols:t.findCodeLensSymbols.bind(t)})},e.prototype.Modes_OccurrencesSupport_register=function(e,t){r.registerOccurrencesSupport(e,t)},e.prototype.Modes_OutlineSupport_register=function(e,t){r.registerOutlineSupport(e,t)},e.prototype.Modes_QuickFixSupport_register=function(e,t){r.registerQuickFixSupport(e,t)},e.prototype.Modes_ReferenceSupport_register=function(e,t){r.registerDeclarativeReferenceSupport(e,t)},e.prototype.Modes_ParameterHintsSupport_register=function(e,t){r.registerDeclarativeParameterHintsSupport(e,t)},e.prototype.Modes_ExtraInfoSupport_register=function(e,t){r.registerExtraInfoSupport(e,t)},e.prototype.Modes_RenameSupport_register=function(e,t){r.registerRenameSupport(e,t)},e.prototype.Modes_FormattingSupport_register=function(e,t){var n={formatDocument:t.formatDocument.bind(t)};if(t.formatRange&&(n.formatRange=t.formatRange.bind(t)),t.formatAfterKeystroke&&(n.formatAfterKeystroke=t.formatAfterKeystroke.bind(t)),t.autoFormatTriggerCharacters){var i=t.autoFormatTriggerCharacters;n.getAutoFormatTriggerCharacters=function(){return i}}r.registerFormattingSupport(e,n)},e.prototype.Modes_SuggestSupport_register=function(e,t){r.registerDeclarativeSuggestSupport(e,t)},e.prototype.Modes_NavigateTypesSupport_register=function(e,t){r.registerNavigateTypesSupport(e,t)},e.prototype.Modes_CommentsSupport_register=function(e,t){r.registerDeclarativeCommentsSupport(e,t)},e.prototype.Modes_TokenTypeClassificationSupport_register=function(e,t){r.registerDeclarativeTokenTypeClassificationSupport(e,t)},e.prototype.Modes_ElectricCharacterSupport_register=function(e,t){r.registerDeclarativeElectricCharacterSupport(e,t)},e.prototype.Modes_CharacterPairSupport_register=function(e,t){r.registerDeclarativeCharacterPairSupport(e,t)},e}();t.RemoteMonacoAPIHost=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/api/monaco.worker.api",["require","exports","vs/editor/modes/supports","vs/platform/services","vs/editor/api/base.api","vs/editor/api/baseRemote.api"],function(e,t,n,r,i,o){var s=function(e){function t(t){e.call(this,t,a.getInstance(t.threadService)),this._resourceService=t.resourceService,i.createAPI(this)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateWorkerActor("WorkerMonacoAPI",new r.SyncDescriptor(t),r.ThreadAffinity.Group3)},t.prototype.Modes_InplaceReplaceSupport_create=function(e){return new n.InplaceReplaceSupport(this._resourceService,e)},t.prototype.Modes_loadInBackgroundWorker=function(){throw new Error("Not supported")},t}(o.RemoteMonacoAPI);t.WorkerMonacoAPI=s;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.getInstance=function(e){return e.registerAndInstantiateMainProcessActor("MainProcessWorkerAPIHelper",new r.SyncDescriptor(t))},t}(o.RemoteMonacoAPIHost);t.MainProcessWorkerAPIHelper=a}),define("vs/css!vs/monaco/ui/workbench/web/media/workbenchshell",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/ui/workbench/web/workbenchShell",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/base/lifecycle","vs/base/dom/builder","vs/base/ui/actions","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/events","vs/base/strings","vs/base/assert","vs/base/types","vs/base/ui/widgets/shell/shell","vs/base/objects","vs/base/env","vs/platform/configuration/httpConfigurationService","vs/base/ui/widgets/actionbar","vs/base/ui/widgets/dropdown/dropdown","vs/platform/contextview/contextviewService","vs/monaco/core/requestService","vs/workbench/constants","vs/platform/storage/storage","vs/workbench/ui/workbench","vs/workbench/ui/actionRegistry","vs/workbench/ui/services","vs/workbench/contrib/git/gitWidgets","vs/platform/telemetry/mainTelemetryService","vs/monaco/contrib/feedback/feedback","vs/monaco/contrib/profile/profileWidget","vs/base/ui/widgets/dropdown/linksDropdown","vs/monaco/contrib/connect/connectDropdown","vs/monaco/ui/connectionIndicator","vs/monaco/contrib/actions/changeTheme","vs/monaco/ui/workbench/baseWorkbenchShell","vs/platform/files/httpFileService","vs/platform/search/httpSearchService","vs/base/severity","vs/editor/api/monaco.api","vs/editor/api/monaco.worker.api","vs/platform/thread/mainThreadService","vs/platform/thread/nullThreadService","vs/platform/eventService","vs/platform/configuration/keybindingService","vs/css!./media/workbenchshell"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f,v,g,b,y,_,w,E,S,T,k,C,x,A,L,I,N,O,R,P,M,D,F,V,B,H,W,U,$){var j=o.$,z=function(e){function t(t,n,r,i){e.call(this,t),d.ok(p.isObject(n),"Monaco Workbench Shell requires a workspace to be created with"),this.workspace=n,this.configuration=r,this.options=m.mixin({},i),this.toDispose=[]}return __extends(t,e),t.prototype.createContents=function(t){var n=this,r=e.prototype.createContents.call(this,t),i=this.initServices();this.workbench=new S.Workbench(r.getHTMLElement(),this.workspace,this.configuration,this.options,i),this.workbench.startup({onBeforeUnload:function(){return n.modalView.onBeforeUnload()}});var o=i.threadService;return V.setup(i),B.MainProcessWorkerAPIHelper.getInstance(o),this.requestService.supportsRemoteEvents()&&(this.connectionIndicator=this.workbench.getInstantiationService().createInstance(O.ConnectionIndicator)),r},t.prototype.initServices=function(){var e=new U.EventService,t=new k.WorkspaceContextService({eventService:e},this.workspace,this.configuration,this.options);this.telemetryService=new x.MainTelemetryService(t,{enableTelemetry:f.enableTelemetry,publicOnly:f.enablePrivateTelemetry?!1:!0}),this.requestService=new _.RequestService({contextService:t,telemetryService:this.telemetryService,eventService:e});var n=new $.KeybindingService(window);this.toDispose.push(n),this.messageService=new P.WorkbenchShellMessageService({eventService:e,telemetryService:this.telemetryService,keybindingService:n},this.modalView),n.setMessageService(this.messageService),this.contextViewService=new y.ContextViewService(this.shellContainer,this.telemetryService,this.messageService),this.storageService=new E.Storage(this.workspace);var r=f.isTesting()?W.NULL_THREAD_SERVICE:new H.MainThreadService(t,this.telemetryService),i=new M.HttpFileService({contextService:t,eventService:e,requestService:this.requestService,telemetryService:this.telemetryService}),o=new v.HttpConfigurationService({contextService:t,eventService:e,fileService:i}),s={eventService:e,telemetryService:this.telemetryService,requestService:this.requestService,contextService:t,contextViewService:this.contextViewService,contextMenuService:this.contextViewService,messageService:this.messageService,storageService:this.storageService,keybindingService:n,fileService:i,configurationService:o,searchService:new D.HttpSearchService({requestService:this.requestService}),threadService:r};return s},t.prototype.fillNavBar=function(t){var r=this;e.prototype.fillNavBar.call(this,t),f.enableAzurePortalNavigation&&f.azureWebSiteName?t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n,i=window.location.hostname;i.indexOf(".scm")>=0?(t="http://"+i.replace(".scm",""),n="http://"+i+"/DebugConsole"):t="http://"+i;var o=r.workbench.getInstantiationService().createInstance(N.ConnectDropdownMenu,e,{contextMenuProvider:r.contextViewService,webSiteUrl:t,kuduConsoleUrl:n,workspaceName:f.azureWebSiteName});return function(){return o.dispose()}}):t.addItem(!0,function(e){j(e).addClass("workspaces");var t,n=r.configuration.workspaces.map(function(e){var t=null;return e.id===r.workspace.id&&(t="check"),new I.LinkDropdownAction(e.id,e.name,t,r.configuration.paths.PUBLIC_WORKSPACE_URL(e))});n.push(new g.Separator),n.push(new I.LinkDropdownAction("browseWorkspaces",a.localize("vs_monaco_ui_workbench_web_workbenchShell",0),null,r.configuration.paths.PUBLIC_DASHBOARD_URL)),t=r.workspace.name;var i=new I.LinksDropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:n,tick:!0,label:t,tooltip:a.localize("vs_monaco_ui_workbench_web_workbenchShell",1)});return i.addListener(c.EventType.BEFORE_RUN,function(){r.telemetryService.log("workbenchWorkspaceSwitched")}),function(){return i.dispose()}}),f.enableGit&&t.addItem(!0,function(e){j(e).addClass("git");var t=r.workbench.getInstantiationService().createInstance(C.GitWorkbenchWidget,e);return t.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return t.dispose()}}),f.enableFeedback&&t.addItem(!1,function(e){var t=r.workbench.getInstantiationService().createInstance(A.FeedbackDropdown,e,{contextViewProvider:r.contextViewService});return function(){return t.dispose()}}),t.addItem(!1,function(e){j(e).addClass("help");var t=[];t=t.concat(r.createActions(["workbench.action.showQuickStart","workbench.action.showCommands"])),(f.supportLink||f.privacyLink||f.legalLink)&&t.push(new g.Separator),f.supportLink&&t.push(new s.Action("supportAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",2),null,!0,function(){return window.open(f.supportLink),n.Promise.as(!0)})),f.privacyLink&&t.push(new s.Action("privacyAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",3),null,!0,function(){return window.open(f.privacyLink),n.Promise.as(!0)})),f.legalLink&&t.push(new s.Action("legalAction",a.localize("vs_monaco_ui_workbench_web_workbenchShell",4),null,!0,function(){return window.open(f.legalLink),n.Promise.as(!0)}));var i=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return i.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},i.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),i.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return i.dispose()}}),t.addItem(!1,function(e){j(e).addClass("settings");var t=[];t.push(r.workbench.getInstantiationService().createInstance(R.ChangeThemeToLightAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToDarkAction),r.workbench.getInstantiationService().createInstance(R.ChangeThemeToHighContrastAction)),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.pinWindow","workbench.action.toggleSidebarVisibility","workbench.action.toggleSidebarPosition"])),f.enablePerformanceTools&&(t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.showPerfBox"]))),t.push(new g.Separator),t=t.concat(r.createActions(["workbench.action.openWorkspaceSettings"]));var n=new b.DropdownMenu(e,{contextMenuProvider:r.contextViewService,actions:t,label:""});return n.menuOptions={actionItemProvider:function(e){return T.getKeybindingActionItem(e)}},n.addListener(c.EventType.BEFORE_RUN,function(e){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"menu"})}),n.addListener(c.EventType.RUN,function(e){e.error&&r.messageService.show(F.Error,e.error)}),function(){return n.dispose()}}),f.isInIframe()&&t.addItem(!1,function(e){return j(e).addClass("popout"),j(e).a({class:["button-link"],href:"https://"+f.azureWebSiteName+".scm.azurewebsite.net/saw",target:"_blank"}),null}),f.azureWebSiteScmType&&"None"!==f.azureWebSiteScmType&&t.addItem(!0,function(e){return j(e).div({class:["scm-warning"]},function(e){e.a({text:"Warning: Continuous Deployment May Be Enabled",class:["breadcrumb-entry"],href:"http://go.microsoft.com/fwlink/?LinkId=816520#continuous-deployment",target:"_blank"})}),null});var i=this.configuration.profile;if(i&&t.addItem(!1,function(e){j(e).addClass("profile");var t=new L.ProfileWidget(e,{contextViewProvider:r.contextViewService,labelRenderer:function(e){return j(e).text(i.userName),null}},i);return function(){return t.dispose()}}),f.azureWebSiteTryMode&&f.tryAzureLifeTimeInMinutes&&f.tryAzureLastModifiedUTC){var o=new Date(f.tryAzureLastModifiedUTC),l=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())),d=new Date(l.getTime()+60*Number(f.tryAzureLifeTimeInMinutes)*1e3).getTime();t.addItem(!1,function(e){j(e).addClass("trywaws");var t=window.setInterval(function(){var t=(new Date).getTime(),n=d-t;if(n>=0){var r,i=n/1e3,o=i/60;if(60>i)r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",5,u.pad(Math.floor(i),2));else{var o=i/60;r=a.localize("vs_monaco_ui_workbench_web_workbenchShell",6,u.pad(Math.floor(o),2),u.pad(Math.floor(i)-60*Math.floor(o),2))}j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",7,r))}else j(e).text(a.localize("vs_monaco_ui_workbench_web_workbenchShell",8))},1e3);return function(){return window.clearInterval(t)}})}},t.prototype.createActions=function(e){var t=this;return e.map(function(e){var n=l.Registry.as(T.Extensions.WorkbenchActions),r=n.getWorkbenchAction(e);if(r){var i=t.workbench.getInstantiationService().createInstance(r);return i}return null}).filter(function(e){return!!e})},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var n=this.storageService.get(w.Preferences.THEME,r.StorageScope.GLOBAL,h.toString(h.Theme.VS));this.setTheme(n,!1),this.toUnbind.push(this.storageService.addListener(r.StorageEventType.STORAGE,function(e){e.key===w.Preferences.THEME&&t.setTheme(e.newValue)}))},t.prototype.onUnexpectedError=function(t){e.prototype.onUnexpectedError.call(this,t),t.friendlyMessage&&this.messageService&&this.messageService.show(F.Error,t.friendlyMessage)},t.prototype.layout=function(){e.prototype.layout.call(this),this.contextViewService.layout(),this.workbench.layout()},t.prototype.dispose=function(t){if(this.workbench){var n=this.workbench.shutdown(t);if(n)return}this.contextViewService.dispose(),this.storageService.dispose(),this.connectionIndicator&&this.connectionIndicator.dispose(),this.toDispose=i.disposeAll(this.toDispose),e.prototype.dispose.call(this)},t}(P.BaseWorkbenchShell);t.WorkbenchShell=z}),define("vs/css!vs/base/performance/timerRenderer",["vs/css!vs/monaco/ui/workbench/web/workbench.main"],{}),define("vs/base/performance/timerRenderer",["require","exports","./timer","vs/base/dom/dom","vs/css!./timerRenderer"],function(e,t,n,r){var i=function(){function e(e){var t=this;this.timeKeeper=n.getTimeKeeper(),this.onHide=e,this.lastEventIndex=0,this.renderedEvents={},this.renderCnt=0,this.listenersToRemove=[],this.domNode=this._createDomNode(),this.intervalTokenId=window.setInterval(function(){return t._render()},500)}return e.prototype.destroy=function(){document.body.removeChild(this.outerDomNode),window.clearInterval(this.intervalTokenId),this.listenersToRemove.forEach(function(e){e()}),this.listenersToRemove=[]},e.prototype._createDomNode=function(){var e=this;this.outerDomNode=document.createElement("div"),this.outerDomNode.className="benchmarktimerbox";var t=document.createElement("input");t.type="button",t.value="Clear",this.listenersToRemove.push(r.addListener(t,"click",function(){return e._onClear()})),this.outerDomNode.appendChild(t),this.textFilterDomNode=document.createElement("input"),this.textFilterDomNode.type="text",this.textFilterDomNode.className="textFilter",this.listenersToRemove.push(r.addListener(this.textFilterDomNode,"keydown",function(){return e.onTextFilterChange()})),this.textFilter="",this.outerDomNode.appendChild(document.createTextNode("Filter")),this.outerDomNode.appendChild(this.textFilterDomNode),this.timeFilterDomNode=document.createElement("input"),this.timeFilterDomNode.type="text",this.timeFilterDomNode.value="0",this.timeFilterDomNode.className="timeFilter",this.listenersToRemove.push(r.addListener(this.timeFilterDomNode,"keydown",function(){return e.onTimeFilterChange()})),this.timeFilter=0,this.outerDomNode.appendChild(document.createTextNode("Hide time under")),this.outerDomNode.appendChild(this.timeFilterDomNode);var n=document.createElement("input");n.type="button",n.value="Close",this.listenersToRemove.push(r.addListener(n,"click",function(){e.onHide()})),this.outerDomNode.appendChild(n);var i=document.createElement("pre");i.appendChild(document.createTextNode(this.renderRow("TOPIC","NAME","TOOK","START","END"))),this.outerDomNode.appendChild(i),this.outerDomNode.appendChild(document.createElement("hr"));var o=document.createElement("div");return o.className="inner",this.outerDomNode.appendChild(o),document.body.appendChild(this.outerDomNode),o},e.prototype.onTextFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.onTimeFilterChange=function(){var e=this;setTimeout(function(){e.refilter()})},e.prototype.matchesTextFilter=function(e){return this.textFilter?e.topic.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:e.name.toLowerCase().indexOf(this.textFilter.toLowerCase())>=0?!0:!1:!0},e.prototype.matchesTimeFilter=function(e){return this.timeFilter?e.timeTaken()>=this.timeFilter?!0:!1:!0},e.prototype.shouldShow=function(e){return this.matchesTextFilter(e)&&this.matchesTimeFilter(e)},e.prototype.refilter=function(){this.textFilter=this.textFilterDomNode.value,this.timeFilter=parseInt(this.timeFilterDomNode.value,10);for(var e=Array.prototype.slice.call(this.domNode.children,0),t=0;t<e.length;t++){var n=e[t].getAttribute("data-event-id"),r=this.renderedEvents[n];e[t].style.display=this.shouldShow(r)?"inherit":"none"}},e.prototype._onClear=function(){this.lastEventIndex=this.timeKeeper.getCollectedEvents().length,this.renderedEvents={},this.renderCnt=0,r.clearNode(this.domNode)},e.prototype.leftPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return r+n},e.prototype.rightPaddedString=function(e,t,n){var r=this._repeatStr(t,Math.max(0,e-n.length));return n+r},e.prototype.renderRow=function(e,t,n,r){var i=" ";return i+=this.rightPaddedString(10," ",e),i+=this.rightPaddedString(30," ",t),i+=" "+this.leftPaddedString(15," ",n),i+=" "+this.leftPaddedString(13," ",r)},e.prototype._suffix0=function(e){return"."===e.charAt(e.length-3)?e:"."===e.charAt(e.length-2)?e+"0":e+".00"},e.prototype._twoPrecision=function(e){return this._suffix0(Math.round(100*e)/100+"")},e.prototype._absoluteTime=function(e){return 1e3>e?this._twoPrecision(e)+" ms":(e/=1e3,60>e?this._twoPrecision(e)+" s":(e/=60,60>e?this._twoPrecision(e)+" m":(e/=60,this._twoPrecision(e)+" h")))},e.prototype._renderEvent=function(e,t){var r=t.startTime.getTime()-n.TimeKeeper.PARSE_TIME.getTime(),i=this.renderRow(t.topic,t.name,this._twoPrecision(t.timeTaken()),this._absoluteTime(r)+"",this._absoluteTime(r+t.timeTaken()));e.textContent="",e.appendChild(document.createTextNode(i))},e.prototype._renderStartTimerEvent=function(e){var t=document.createElement("pre");this._renderEvent(t,e),this.domNode.appendChild(t);var n=e.id.toString();t.setAttribute("data-event-id",n),t.className="timer-event-"+e.id%2,this.renderedEvents[n]=e,t.style.display=this.shouldShow(this.renderedEvents[n])?"inherit":"none",this.renderCnt++},e.prototype._render=function(){for(var e=this.timeKeeper.getCollectedEvents(),t=!1,n=this.lastEventIndex;n<e.length;n++){var r=e[n];if(!r.stopTime)return this.lastEventIndex=n,t&&(this.domNode.scrollTop=1e5),void 0;this._renderStartTimerEvent(r),t=!0}t&&(this.domNode.scrollTop=1e5),this.lastEventIndex=e.length},e.prototype._repeatStr=function(e,t){for(var n="",r=0;t>r;r++)n+=e;return n},e}();t.TimeKeeperRenderer=i
+ });var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/showPerformanceBox",["require","exports","vs/base/lib/winjs.base","vs/base/performance/timerRenderer","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.showPerfBox",u="Display Performance Box",d=null,p=function(e){function t(){e.call(this,c,u,null,!0)}return __extends(t,e),t.prototype.run=function(){return null===d&&(d=new r.TimeKeeperRenderer(function(){d.destroy(),d=null})),n.Promise.as(!0)},t}(o.Action);if(t.ShowPerformanceBox=p,s.enablePerformanceTools){var h=i.Registry.as(l.Extensions.WorkbenchActions);h.registerWorkbenchAction(new a.SyncActionDescriptor(p,c,u))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/showQuickStart",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/actions","vs/base/env","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a,l){var c="workbench.action.showQuickStart",u=r.localize("vs_monaco_contrib_actions_showQuickStart",0),d=function(e){function t(t){e.call(this,c,u),this.partService=t.partService}return __extends(t,e),t.prototype.run=function(){return this.partService.showQuickStart(),n.Promise.as(null)},t}(o.Action);if(t.ShowQuickStartAction=d,s.enableQuickStart){var p=i.Registry.as(l.Extensions.WorkbenchActions);p.registerWorkbenchAction(new a.SyncActionDescriptor(d,c,u))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/pinWorkbench",["require","exports","vs/base/lib/winjs.base","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry"],function(e,t,n,r,i,o,s,a){var l="workbench.action.pinWindow",c=r.localize("vs_monaco_contrib_actions_pinWorkbench",0),u=function(e){function t(){e.call(this,l,c)}return __extends(t,e),t.prototype.run=function(){return window.external.msAddSiteMode(),n.Promise.as(null)},t}(o.Action);t.PinWorkbenchAction=u;var d=window.external&&"external"in window&&"msAddSiteMode"in window.external;if(d){var p=i.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(u,l,c))}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/monaco/contrib/actions/openSettings",["require","exports","vs/base/lib/winjs.base","vs/platform/services","vs/nls!vs/monaco/ui/workbench/web/workbench.main","vs/base/env","vs/base/uri","vs/base/severity","vs/base/network","vs/base/ui/labels","vs/platform/platform","vs/base/ui/actions","vs/platform/actionRegistry","vs/workbench/ui/actionRegistry","vs/workbench/ui/parts/editor/stringEditorInput","vs/platform/configuration/model"],function(e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,f){var v=function(e){function t(t,n,r){e.call(this,n,r),this.editorService=t.editorService,this.fileService=t.fileService,this.contextService=t.contextService,this.textFileService=t.textFileService,this.configurationService=t.configurationService,this.messageSerivce=t.messageService,this.instantiationService=t.instantiationService,this.enabled=!0}return __extends(t,e),t.prototype.createIfNotExists=function(e,t){var o=this;return this.fileService.resolveContent(e,!0).then(null,function(s){return s.fileOperationResult===r.Files.FileOperationResult.FILE_NOT_FOUND?o.fileService.updateContent({resource:e,value:t}).then(null,function(t){return n.Promise.wrapError(new Error(i.localize("vs_monaco_contrib_actions_openSettings",0,c.getPathLabel(e,o.contextService),t)))}):n.Promise.wrapError(s)})},t.prototype.openTwoEditors=function(e,t,n){var i=this,o={resource:t};return this.textFileService.getWorkingFilesModel().addEntry(t),this.createIfNotExists(t,n).then(function(){return i.editorService.inputToType(o).then(function(t){return i.editorService.setEditors([e,t]).then(function(){return i.editorService.focusEditor(r.Position.CENTER)})})})},t}(d.Action);t.BaseTwoEditorsAction=v;var g=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.open=function(e,t){var n=f.getDefaultValuesContent(),r="// "+i.localize("vs_monaco_contrib_actions_openSettings",1),o=new w(i.localize("vs_monaco_contrib_actions_openSettings",2),null,r+"\n"+n,"application/json");return this.openTwoEditors(o,t,e)},t}(v);t.BaseOpenSettingsAction=g;var b=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){var e=this;if(this.configurationService.hasWorkspaceConfiguration()){var t=this.messageSerivce.show(a.Info,{message:i.localize("vs_monaco_contrib_actions_openSettings",3),actions:[new d.Action("close.message",i.localize("vs_monaco_contrib_actions_openSettings",4),null,!0,function(){return n.Promise.as(!0)}),new d.Action("open.workspaceSettings",i.localize("vs_monaco_contrib_actions_openSettings",5),null,!0,function(){var t=e.editorService.getVisibleEditors().length;return e.editorService.openEditor({resource:e.contextService.toResource("/.settings/settings.json")},2===t?r.Position.RIGHT:1===t?r.Position.CENTER:void 0)})]});setTimeout(function(){return t()},1e4)}var l=i.localize("vs_monaco_contrib_actions_openSettings",6);return this.open("// "+l+"\n{\n}",s.file(o.appSettingsPath))},t.ID="workbench.action.openGlobalSettings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",7),t}(g);t.OpenGlobalSettingsAction=b;var y=function(e){function t(n){e.call(this,n,t.ID,t.LABEL),this.keybindingService=n.keybindingService}return __extends(t,e),t.prototype.run=function(){var e="// "+i.localize("vs_monaco_contrib_actions_openSettings",8)+"\n[\n]",t="// "+i.localize("vs_monaco_contrib_actions_openSettings",9),n=this.keybindingService.getDefaultKeybindings(),r=new E(i.localize("vs_monaco_contrib_actions_openSettings",10),null,t+"\n"+n,"application/json");return this.openTwoEditors(r,s.file(o.appKeybindingsPath),e)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=i.localize("vs_monaco_contrib_actions_openSettings",11),t}(v);t.OpenGlobalKeybindingsAction=y;var _=function(e){function t(n){e.call(this,n,t.ID,t.LABEL)}return __extends(t,e),t.prototype.run=function(){if(!this.contextService.getWorkspace())return this.messageSerivce.show(a.Info,i.localize("vs_monaco_contrib_actions_openSettings",12)),void 0;var e=["// "+i.localize("vs_monaco_contrib_actions_openSettings",13),"{","}"].join("\n");return this.open(e,this.contextService.toResource("/.settings/settings.json"))},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=o.isNative?i.localize("vs_monaco_contrib_actions_openSettings",14):i.localize("vs_monaco_contrib_actions_openSettings",15),t}(g);t.OpenWorkspaceSettingsAction=_;var w=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.settings/defaults.json")},t}(m.StringEditorInput),E=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getResource=function(){return s.create(l.schemas.inMemory,null,"/.keybindings/defaults.json")},t}(m.StringEditorInput),S=i.localize("vs_monaco_contrib_actions_openSettings",16),T=u.Registry.as(h.Extensions.WorkbenchActions);o.isNative&&(T.registerWorkbenchAction(new p.SyncActionDescriptor(b,b.ID,b.LABEL,{primary:null,mac:{primary:{ctrlCmd:!0,key:","}}}),S),T.registerWorkbenchAction(new p.SyncActionDescriptor(y,y.ID,y.LABEL),S)),T.registerWorkbenchAction(new p.SyncActionDescriptor(_,_.ID,_.LABEL),S)}),define("vs/monaco/ui/workbench/web/workbench.main",["vs/base/strings","vs/base/errors","vs/base/cookiesUtil","vs/editor/editor.all","vs/languages/languages.compat","vs/workbench/workbench.web","vs/monaco/ui/workbench/web/workbenchShell","vs/monaco/contrib/actions/showPerformanceBox","vs/monaco/contrib/actions/showQuickStart","vs/monaco/contrib/actions/pinWorkbench","vs/monaco/contrib/actions/openSettings"],function(){});
\ No newline at end of file
diff -ruN --ignore-all-space monaco_original/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js monaco_hacked/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js
--- monaco_original/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js	2017-01-28 02:23:56.431787500 +0000
+++ monaco_hacked/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js	2017-02-23 08:42:32.277620200 +0000
@@ -1,4 +1,4 @@
 /*---------------------------------------------------------
  * Copyright (C) Microsoft Corporation. All rights reserved.
  *--------------------------------------------------------*/
-define("vs/workbench/contrib/terminal/terminalEditor.nls",[],{vs_workbench_contrib_terminal_inPlaceTerminalEditor:['You are in an in-place editor, press <span class="shortcut">{0}</span> to <span class="action save">save it</span> or <span class="shortcut">{1}</span> to <span class="action cancel">cancel.</span>'],vs_workbench_contrib_terminal_terminalEditor:["Console","Welcome to the App Service Editor console\nType '{0}' for a list of available commands or press '{1}' for assist. Type '{2}' to close a console.","Stopping currently running command...","Clear Console"]});
\ No newline at end of file
+define("vs/workbench/contrib/terminal/terminalEditor.nls",[],{vs_workbench_contrib_terminal_inPlaceTerminalEditor:['You are in an in-place editor, press <span class="shortcut">{0}</span> to <span class="action save">save it</span> or <span class="shortcut">{1}</span> to <span class="action cancel">cancel.</span>'],vs_workbench_contrib_terminal_terminalEditor:["Console","Welcome to the Solution Authoring Workspace console\nType '{0}' for a list of available commands or press '{1}' for assist. Type '{2}' to close a console.","Stopping currently running command...","Clear Console"]});
\ No newline at end of file
diff -ruN --ignore-all-space monaco_original/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js.rej monaco_hacked/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js.rej
--- monaco_original/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js.rej	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js.rej	2017-02-23 08:47:17.190421600 +0000
@@ -0,0 +1,7 @@
+--- monaco_original/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js	2017-01-27 09:15:43.779871200 +0000
++++ monaco_hacked/client/0236a99c/vs/workbench/contrib/terminal/terminalEditor.nls.js	2017-02-23 07:18:59.480185200 +0000
+@@ -1,4 +1,4 @@
+ /*---------------------------------------------------------
+  * Copyright (C) Microsoft Corporation. All rights reserved.
+  *--------------------------------------------------------*/
+-define("vs/workbench/contrib/terminal/terminalEditor.nls",[],{vs_workbench_contrib_terminal_inPlaceTerminalEditor:['You are in an in-place editor, press <span class="shortcut">{0}</span> to <span class="action save">save it</span> or <span class="shortcut">{1}</span> to <span class="action cancel">cancel.</span>'],vs_workbench_contrib_terminal_terminalEditor:["Console","Welcome to the App Service Editor console\nType '{0}' for a list of available commands or press '{1}' for assist. Type '{2}' to close a console.","Stopping currently running command...","Clear Console"]});+define("vs/workbench/contrib/terminal/terminalEditor.nls",[],{vs_workbench_contrib_terminal_inPlaceTerminalEditor:['You are in an in-place editor, press <span class="shortcut">{0}</span> to <span class="action save">save it</span> or <span class="shortcut">{1}</span> to <span class="action cancel">cancel.</span>'],vs_workbench_contrib_terminal_terminalEditor:["Console","Welcome to the Solution Authoring Workspace console\nType '{0}' for a list of available commands or press '{1}' for assist. Type '{2}' to close a console.","Stopping currently running command...","Clear Console"]});
\ No newline at end of file
diff -ruN --ignore-all-space monaco_original/server/contrib/process/commands/git.js monaco_hacked/server/contrib/process/commands/git.js
--- monaco_original/server/contrib/process/commands/git.js	2017-01-28 02:24:03.650448400 +0000
+++ monaco_hacked/server/contrib/process/commands/git.js	2017-02-23 08:42:32.451259600 +0000
@@ -64,14 +64,6 @@
                     return;
                 }
             }
-            if (args[0] === 'clone') {
-                var root = extpath.normalize(configuration.workspace.toAbsolutePath());
-                var cwd = extpath.normalize(configuration.cwd);
-                if (args.length > 1 && (args[2] !== '.' || cwd !== root)) {
-                    callback(new Error("Can only clone a git repository to the root of the workspace."));
-                    return;
-                }
-            }
             if (args[0] === 'diff' || args[0] === 'branch' || args[0] === 'grep' || args[0] === 'log') {
                 args.splice(1, 0, '--color'); // Force color output
             }
diff -ruN --ignore-all-space monaco_original/server/contrib/process/commands/git.js.rej monaco_hacked/server/contrib/process/commands/git.js.rej
--- monaco_original/server/contrib/process/commands/git.js.rej	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/server/contrib/process/commands/git.js.rej	2017-02-23 08:47:17.284168900 +0000
@@ -0,0 +1,17 @@
+--- monaco_original/server/contrib/process/commands/git.js	2017-01-27 09:15:50.947665800 +0000
++++ monaco_hacked/server/contrib/process/commands/git.js	2017-02-23 06:33:25.909721200 +0000
+@@ -64,14 +64,6 @@
+                     return;
+                 }
+             }
+-            if (args[0] === 'clone') {
+-                var root = extpath.normalize(configuration.workspace.toAbsolutePath());
+-                var cwd = extpath.normalize(configuration.cwd);
+-                if (args.length > 1 && (args[2] !== '.' || cwd !== root)) {
+-                    callback(new Error("Can only clone a git repository to the root of the workspace."));
+-                    return;
+-                }
+-            }
+             if (args[0] === 'diff' || args[0] === 'branch' || args[0] === 'grep' || args[0] === 'log') {
+                 args.splice(1, 0, '--color'); // Force color output
+             }
diff -ruN --ignore-all-space monaco_original/server/contrib/process/commands/saw.js monaco_hacked/server/contrib/process/commands/saw.js
--- monaco_original/server/contrib/process/commands/saw.js	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/server/contrib/process/commands/saw.js	2017-02-23 08:42:32.513759100 +0000
@@ -0,0 +1,31 @@
+/*---------------------------------------------------------
+ * Copyright (C) Microsoft Corporation. All rights reserved.
+ *--------------------------------------------------------*/
+'use strict';
+var __extends = this.__extends || function (d, b) {
+    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
+    function __() { this.constructor = d; }
+    __.prototype = b.prototype;
+    d.prototype = new __();
+};
+define(["require", "exports", './commands'], function (require, exports, commands) {
+    var Saw = (function (_super) {
+        __extends(Saw, _super);
+        function Saw(sawCommand) {
+            _super.call(this);
+            this.sawCommand = sawCommand;
+        }
+        Saw.prototype.getName = function () {
+            return 'saw';
+        };
+        Saw.prototype.getDescription = function () {
+            return "Solution Authoring Workspace commanding";
+        };
+        Saw.prototype.execute = function (input, configuration, callback) {
+            input.command = this.sawCommand;
+            _super.prototype.execute.call(this, input, configuration, callback);
+        };
+        return Saw;
+    })(commands.BaseCommand);
+    exports.Saw = Saw;
+});
diff -ruN --ignore-all-space monaco_original/server/contrib/process/process.contribution.js monaco_hacked/server/contrib/process/process.contribution.js
--- monaco_original/server/contrib/process/process.contribution.js	2017-01-28 02:24:04.025441900 +0000
+++ monaco_hacked/server/contrib/process/process.contribution.js	2017-02-23 08:42:32.638756600 +0000
@@ -10,7 +10,7 @@
     __.prototype = b.prototype;
     d.prototype = new __();
 };
-define(["require", "exports", 'fs', 'path', 'domain', '../contributions', '../../controller/workspace', '../../lib/strings', '../../lib/encoding', '../../lib/errors', '../../lib/logger', '../../lib/types', '../../lib/uuid', '../../lib/extnet', '../../lib/extfs', '../../lib/mime', '../../lib/utils', '../../lib/process/process', './shell/shell', '../../model/workspace', './commands/commands', './commands/fs', './commands/git', './commands/help', './commands/mocha', './commands/any', './commands/nodejs', './commands/npm', './commands/msbuild', './commands/nuget', './commands/setup', './commands/ps', './commands/tsc', '../telemetry/telemetry', '../../lib/cli'], function (require, exports, fs, path, domain, contributions, workspaceRoute, strings, encoding, errors, logger, types, uuid, extnet, extfs, mime, utils, processUtil, shell, workspace, commands, fscmd, git, help, mocha, anycmd, node, npm, msbuild, nuget, setup, ps, tsc, telemetry, cli) {
+define(["require", "exports", 'fs', 'path', 'domain', '../contributions', '../../controller/workspace', '../../lib/strings', '../../lib/encoding', '../../lib/errors', '../../lib/logger', '../../lib/types', '../../lib/uuid', '../../lib/extnet', '../../lib/extfs', '../../lib/mime', '../../lib/utils', '../../lib/process/process', './shell/shell', '../../model/workspace', './commands/commands', './commands/fs', './commands/git', './commands/help', './commands/mocha', './commands/any', './commands/nodejs', './commands/npm', './commands/msbuild', './commands/nuget', './commands/saw', './commands/setup', './commands/ps', './commands/tsc', '../telemetry/telemetry', '../../lib/cli'], function (require, exports, fs, path, domain, contributions, workspaceRoute, strings, encoding, errors, logger, types, uuid, extnet, extfs, mime, utils, processUtil, shell, workspace, commands, fscmd, git, help, mocha, anycmd, node, npm, msbuild, nuget, saw, setup, ps, tsc, telemetry, cli) {
     var openFiles = {};
     /**
      * Give a path to open, and it will return a file descriptor (uuid),
@@ -123,6 +123,7 @@
                 new msbuild.MSBuild(server.options.msBuildPath),
                 new ps.PS(server.options.powershellPath),
                 new nuget.NuGet(server.options.nuGetPath),
+                new saw.Saw(server.options.sawCliPath),
                 new setup.Setup(server.tools.git, server.tools.node, server.options.npmCliPath),
                 new anycmd.AnyCommand(server.options.wwwRoot),
                 new tsc.TSC(),
diff -ruN --ignore-all-space monaco_original/server/contrib/process/process.contribution.js.rej monaco_hacked/server/contrib/process/process.contribution.js.rej
--- monaco_original/server/contrib/process/process.contribution.js.rej	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/server/contrib/process/process.contribution.js.rej	2017-02-23 08:47:17.378950600 +0000
@@ -0,0 +1,19 @@
+--- monaco_original/server/contrib/process/process.contribution.js	2017-01-27 09:15:51.322675800 +0000
++++ monaco_hacked/server/contrib/process/process.contribution.js	2017-02-23 08:16:56.310732000 +0000
+@@ -10,7 +10,7 @@
+     __.prototype = b.prototype;
+     d.prototype = new __();
+ };
+-define(["require", "exports", 'fs', 'path', 'domain', '../contributions', '../../controller/workspace', '../../lib/strings', '../../lib/encoding', '../../lib/errors', '../../lib/logger', '../../lib/types', '../../lib/uuid', '../../lib/extnet', '../../lib/extfs', '../../lib/mime', '../../lib/utils', '../../lib/process/process', './shell/shell', '../../model/workspace', './commands/commands', './commands/fs', './commands/git', './commands/help', './commands/mocha', './commands/any', './commands/nodejs', './commands/npm', './commands/msbuild', './commands/nuget', './commands/setup', './commands/ps', './commands/tsc', '../telemetry/telemetry', '../../lib/cli'], function (require, exports, fs, path, domain, contributions, workspaceRoute, strings, encoding, errors, logger, types, uuid, extnet, extfs, mime, utils, processUtil, shell, workspace, commands, fscmd, git, help, mocha, anycmd, node, npm, msbuild, nuget, setup, ps, tsc, telemetry, cli) {
++define(["require", "exports", 'fs', 'path', 'domain', '../contributions', '../../controller/workspace', '../../lib/strings', '../../lib/encoding', '../../lib/errors', '../../lib/logger', '../../lib/types', '../../lib/uuid', '../../lib/extnet', '../../lib/extfs', '../../lib/mime', '../../lib/utils', '../../lib/process/process', './shell/shell', '../../model/workspace', './commands/commands', './commands/fs', './commands/git', './commands/help', './commands/mocha', './commands/any', './commands/nodejs', './commands/npm', './commands/msbuild', './commands/nuget', './commands/saw', './commands/setup', './commands/ps', './commands/tsc', '../telemetry/telemetry', '../../lib/cli'], function (require, exports, fs, path, domain, contributions, workspaceRoute, strings, encoding, errors, logger, types, uuid, extnet, extfs, mime, utils, processUtil, shell, workspace, commands, fscmd, git, help, mocha, anycmd, node, npm, msbuild, nuget, saw, setup, ps, tsc, telemetry, cli) {
+     var openFiles = {};
+     /**
+      * Give a path to open, and it will return a file descriptor (uuid),
+@@ -123,6 +123,7 @@
+                 new msbuild.MSBuild(server.options.msBuildPath),
+                 new ps.PS(server.options.powershellPath),
+                 new nuget.NuGet(server.options.nuGetPath),
++                new saw.Saw(server.options.sawCliPath),
+                 new setup.Setup(server.tools.git, server.tools.node, server.options.npmCliPath),
+                 new anycmd.AnyCommand(server.options.wwwRoot),
+                 new tsc.TSC(),
diff -ruN --ignore-all-space monaco_original/server/middleware/security.js monaco_hacked/server/middleware/security.js
--- monaco_original/server/middleware/security.js	2017-01-28 02:24:07.181642700 +0000
+++ monaco_hacked/server/middleware/security.js	2017-02-23 08:42:32.748132100 +0000
@@ -29,7 +29,7 @@
             // disable hosting in a frame from other servers
             // *DO NOT* set to DENY because it will break the
             // worker compatibility mode that is used for IE9
-            res.setHeader('Content-Security-Policy', "frame-ancestors 'self' 127.0.0.1:* *.portal.azure.com");
+            res.setHeader('Content-Security-Policy', "frame-ancestors 'self' 127.0.0.1:* localhost:* start.cortanaintelligence.com caqsint.azure.net");
             // disable client MIME type sniffing 
             res.setHeader('X-Content-Type-Options', 'nosniff');
             next();
diff -ruN --ignore-all-space monaco_original/server/middleware/security.js.rej monaco_hacked/server/middleware/security.js.rej
--- monaco_original/server/middleware/security.js.rej	1970-01-01 00:00:00.000000000 +0000
+++ monaco_hacked/server/middleware/security.js.rej	2017-02-23 08:47:17.503957600 +0000
@@ -0,0 +1,11 @@
+--- monaco_original/server/middleware/security.js	2017-01-27 09:15:54.494525500 +0000
++++ monaco_hacked/server/middleware/security.js	2017-02-23 06:33:25.925343400 +0000
+@@ -29,7 +29,7 @@
+             // disable hosting in a frame from other servers
+             // *DO NOT* set to DENY because it will break the
+             // worker compatibility mode that is used for IE9
+-            res.setHeader('Content-Security-Policy', "frame-ancestors 'self' 127.0.0.1:* *.portal.azure.com");
++            res.setHeader('Content-Security-Policy', "frame-ancestors 'self' 127.0.0.1:* localhost:* start.cortanaintelligence.com caqsint.azure.net");
+             // disable client MIME type sniffing 
+             res.setHeader('X-Content-Type-Options', 'nosniff');
+             next();
diff -ruN --ignore-all-space monaco_original/server/run-siteextension-actual.js monaco_hacked/server/run-siteextension-actual.js
--- monaco_original/server/run-siteextension-actual.js	2017-01-28 02:24:07.337898400 +0000
+++ monaco_hacked/server/run-siteextension-actual.js	2017-02-23 08:56:01.399525300 +0000
@@ -28,7 +28,7 @@
     var options = {
         port: process.env.PORT || 9555,
         host: 'localhost',
-        siteRoot: '/dev',
+        siteRoot: '/saw',
         enableCdn: true,
         monacodataTempPath: extfs.mkdirpSync(path.join(monacodata, 'temp')),
         home: userHome,
@@ -37,6 +37,7 @@
         osTempPath: extfs.mkdirpSync(path.join(temp.getOSTempPathSync(), 'monacositeextension', 'temp')),
         gitPath: process.env['ProgramFiles(x86)'] + '\\Git\\bin\\git.exe',
         npmCliPath: npmPath,
+        sawCliPath: path.join(home, 'SiteExtensions\\SawExtension\\bin\\saw.exe'),
         nodePath: nodePath,
         msBuildPath: process.env['ProgramFiles(x86)'] + '\\MSBuild\\14.0\\Bin\\MSBuild.exe',
         nuGetPath: kuduPath + kuduVersion + '\\bin\\Scripts\\NuGet.exe',
@@ -44,9 +45,9 @@
         logFile: path.join(home, 'LogFiles', 'Monaco', 'monaco.log'),
         telemetryEndPointAPI: 'https://monacotelemetryprodch1su1.cloudapp.net/antares/telemetry/create',
         telemetryWorkspaceId: azureWebSiteName,
-        enableErrorTelemetry: true,
-        reportEnvToTelemetry: true,
-        enableMDSLogger: true,
+        enableErrorTelemetry: false,
+        reportEnvToTelemetry: false,
+        enableMDSLogger: false,
         mdsLogFolder: path.join(process.env['temp'], 'siteExtLogs'),
         tfsBridgeServiceUrl: 'https://monacooauthprodch1su1.azurewebsites.net',
         overrideGitAskpass: true,
@@ -67,16 +68,16 @@
             enableTestCoverage: false,
             enableTestViewlet: false,
             enableConsole: true,
-            enableQuickStart: true,
-            enableOutput: true,
-            enableRunWorkspace: true,
+            enableQuickStart: false,
+            enableOutput: false,
+            enableRunWorkspace: false,
             runFromAzure: true,
-            enableTFSConnection: true,
-            enableTelemetry: true,
-            enableMonacoTelemetryPipeLine: true,
-            appInsightsInstrumentationKey: 'a02e59af-efc4-4fd1-9245-024a2a7b49ba',
-            enableAzurePortalNavigation: true,
-            enableFeedback: true,
+            enableTFSConnection: false,
+            enableTelemetry: false,
+            enableMonacoTelemetryPipeLine: false,
+            appInsightsInstrumentationKey: null,
+            enableAzurePortalNavigation: false,
+            enableFeedback: false,
             enablePrivateTelemetry: false,
             enableGlobalCSSRuleChecker: false,
             enableNLSWarnings: false,
@@ -110,8 +111,8 @@
     options.staticCachePragma = ''; // Disable pragma header
     options.staticCacheExpires = new Date(new Date().valueOf() + 1000 * 60 * 60 * 24 * 365); // Expires in 1 year
     // On WAWS/Zumo we use the wwwroot folder as workspace folder
-    options.workspacesRoot = path.join(home, 'site');
-    options.workspace = 'wwwroot';
+    options.workspacesRoot = path.join(home, 'saw');
+    options.workspace = 'workspace';
     for (var key in options.client) {
         if (options.client.hasOwnProperty(key)) {
             var value = options.client[key];
